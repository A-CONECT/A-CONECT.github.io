(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Y6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function km(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Yd={exports:{}},Rl={},Gd={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.element"),Cm=Symbol.for("react.portal"),Mm=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),Im=Symbol.for("react.provider"),Om=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Fm=Symbol.for("react.memo"),Dm=Symbol.for("react.lazy"),jc=Symbol.iterator;function jm(e){return e===null||typeof e!="object"?null:(e=jc&&e[jc]||e["@@iterator"],typeof e=="function"?e:null)}var Wd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kd=Object.assign,Qd={};function sa(e,t,n){this.props=e,this.context=t,this.refs=Qd,this.updater=n||Wd}sa.prototype.isReactComponent={};sa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zd(){}Zd.prototype=sa.prototype;function h1(e,t,n){this.props=e,this.context=t,this.refs=Qd,this.updater=n||Wd}var _1=h1.prototype=new Zd;_1.constructor=h1;Kd(_1,sa.prototype);_1.isPureReactComponent=!0;var Hc=Array.isArray,Jd=Object.prototype.hasOwnProperty,m1={current:null},eh={key:!0,ref:!0,__self:!0,__source:!0};function th(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Jd.call(t,r)&&!eh.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var f=Array(l),A=0;A<l;A++)f[A]=arguments[A+2];i.children=f}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ss,type:e,key:a,ref:s,props:i,_owner:m1.current}}function Hm(e,t){return{$$typeof:Ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function p1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ss}function Vm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vc=/\/+/g;function s0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vm(""+e.key):t.toString(36)}function ao(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ss:case Cm:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+s0(s,0):r,Hc(i)?(n="",e!=null&&(n=e.replace(Vc,"$&/")+"/"),ao(i,t,n,"",function(A){return A})):i!=null&&(p1(i)&&(i=Hm(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Vc,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Hc(e))for(var l=0;l<e.length;l++){a=e[l];var f=r+s0(a,l);s+=ao(a,t,n,f,i)}else if(f=jm(e),typeof f=="function")for(e=f.call(e),l=0;!(a=e.next()).done;)a=a.value,f=r+s0(a,l++),s+=ao(a,t,n,f,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ms(e,t,n){if(e==null)return e;var r=[],i=0;return ao(e,r,"","",function(a){return t.call(n,a,i++)}),r}function $m(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},so={transition:null},Um={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:so,ReactCurrentOwner:m1};Ge.Children={map:Ms,forEach:function(e,t,n){Ms(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ms(e,function(){t++}),t},toArray:function(e){return Ms(e,function(t){return t})||[]},only:function(e){if(!p1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ge.Component=sa;Ge.Fragment=Mm;Ge.Profiler=Nm;Ge.PureComponent=h1;Ge.StrictMode=Bm;Ge.Suspense=Pm;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Um;Ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kd({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=m1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(f in t)Jd.call(t,f)&&!eh.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&l!==void 0?l[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){l=Array(f);for(var A=0;A<f;A++)l[A]=arguments[A+2];r.children=l}return{$$typeof:Ss,type:e.type,key:i,ref:a,props:r,_owner:s}};Ge.createContext=function(e){return e={$$typeof:Om,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Im,_context:e},e.Consumer=e};Ge.createElement=th;Ge.createFactory=function(e){var t=th.bind(null,e);return t.type=e,t};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(e){return{$$typeof:Lm,render:e}};Ge.isValidElement=p1;Ge.lazy=function(e){return{$$typeof:Dm,_payload:{_status:-1,_result:e},_init:$m}};Ge.memo=function(e,t){return{$$typeof:Fm,type:e,compare:t===void 0?null:t}};Ge.startTransition=function(e){var t=so.transition;so.transition={};try{e()}finally{so.transition=t}};Ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ge.useCallback=function(e,t){return Xt.current.useCallback(e,t)};Ge.useContext=function(e){return Xt.current.useContext(e)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Ge.useEffect=function(e,t){return Xt.current.useEffect(e,t)};Ge.useId=function(){return Xt.current.useId()};Ge.useImperativeHandle=function(e,t,n){return Xt.current.useImperativeHandle(e,t,n)};Ge.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};Ge.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};Ge.useMemo=function(e,t){return Xt.current.useMemo(e,t)};Ge.useReducer=function(e,t,n){return Xt.current.useReducer(e,t,n)};Ge.useRef=function(e){return Xt.current.useRef(e)};Ge.useState=function(e){return Xt.current.useState(e)};Ge.useSyncExternalStore=function(e,t,n){return Xt.current.useSyncExternalStore(e,t,n)};Ge.useTransition=function(){return Xt.current.useTransition()};Ge.version="18.2.0";Gd.exports=Ge;var je=Gd.exports;const zm=Tm(je);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm=je,qm=Symbol.for("react.element"),Ym=Symbol.for("react.fragment"),Gm=Object.prototype.hasOwnProperty,Wm=Xm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Km={key:!0,ref:!0,__self:!0,__source:!0};function nh(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Gm.call(t,r)&&!Km.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qm,type:e,key:a,ref:s,props:i,_owner:Wm.current}}Rl.Fragment=Ym;Rl.jsx=nh;Rl.jsxs=nh;Yd.exports=Rl;var pe=Yd.exports,Qm={exports:{}};(function(e){var t=function(n){var r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(x,w,E){x[w]=E.value},s,l=typeof Symbol=="function"?Symbol:{},f=l.iterator||"@@iterator",A=l.asyncIterator||"@@asyncIterator",c=l.toStringTag||"@@toStringTag";function d(x,w,E){return Object.defineProperty(x,w,{value:E,enumerable:!0,configurable:!0,writable:!0}),x[w]}try{d({},"")}catch{d=function(w,E,_){return w[E]=_}}function b(x,w,E,_){var p=w&&w.prototype instanceof m?w:m,h=Object.create(p.prototype),T=new D(_||[]);return a(h,"_invoke",{value:re(x,E,T)}),h}n.wrap=b;function z(x,w,E){try{return{type:"normal",arg:x.call(w,E)}}catch(_){return{type:"throw",arg:_}}}var C="suspendedStart",V="suspendedYield",Y="executing",v="completed",u={};function m(){}function R(){}function o(){}var S={};d(S,f,function(){return this});var k=Object.getPrototypeOf,j=k&&k(k(W([])));j&&j!==r&&i.call(j,f)&&(S=j);var $=o.prototype=m.prototype=Object.create(S);R.prototype=o,a($,"constructor",{value:o,configurable:!0}),a(o,"constructor",{value:R,configurable:!0}),R.displayName=d(o,c,"GeneratorFunction");function H(x){["next","throw","return"].forEach(function(w){d(x,w,function(E){return this._invoke(w,E)})})}n.isGeneratorFunction=function(x){var w=typeof x=="function"&&x.constructor;return w?w===R||(w.displayName||w.name)==="GeneratorFunction":!1},n.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,o):(x.__proto__=o,d(x,c,"GeneratorFunction")),x.prototype=Object.create($),x},n.awrap=function(x){return{__await:x}};function Z(x,w){function E(h,T,G,te){var q=z(x[h],x,T);if(q.type==="throw")te(q.arg);else{var U=q.arg,ee=U.value;return ee&&typeof ee=="object"&&i.call(ee,"__await")?w.resolve(ee.__await).then(function(ae){E("next",ae,G,te)},function(ae){E("throw",ae,G,te)}):w.resolve(ee).then(function(ae){U.value=ae,G(U)},function(ae){return E("throw",ae,G,te)})}}var _;function p(h,T){function G(){return new w(function(te,q){E(h,T,te,q)})}return _=_?_.then(G,G):G()}a(this,"_invoke",{value:p})}H(Z.prototype),d(Z.prototype,A,function(){return this}),n.AsyncIterator=Z,n.async=function(x,w,E,_,p){p===void 0&&(p=Promise);var h=new Z(b(x,w,E,_),p);return n.isGeneratorFunction(w)?h:h.next().then(function(T){return T.done?T.value:h.next()})};function re(x,w,E){var _=C;return function(h,T){if(_===Y)throw new Error("Generator is already running");if(_===v){if(h==="throw")throw T;return L()}for(E.method=h,E.arg=T;;){var G=E.delegate;if(G){var te=N(G,E);if(te){if(te===u)continue;return te}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(_===C)throw _=v,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);_=Y;var q=z(x,w,E);if(q.type==="normal"){if(_=E.done?v:V,q.arg===u)continue;return{value:q.arg,done:E.done}}else q.type==="throw"&&(_=v,E.method="throw",E.arg=q.arg)}}}function N(x,w){var E=w.method,_=x.iterator[E];if(_===s)return w.delegate=null,E==="throw"&&x.iterator.return&&(w.method="return",w.arg=s,N(x,w),w.method==="throw")||E!=="return"&&(w.method="throw",w.arg=new TypeError("The iterator does not provide a '"+E+"' method")),u;var p=z(_,x.iterator,w.arg);if(p.type==="throw")return w.method="throw",w.arg=p.arg,w.delegate=null,u;var h=p.arg;if(!h)return w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,u;if(h.done)w[x.resultName]=h.value,w.next=x.nextLoc,w.method!=="return"&&(w.method="next",w.arg=s);else return h;return w.delegate=null,u}H($),d($,c,"Generator"),d($,f,function(){return this}),d($,"toString",function(){return"[object Generator]"});function y(x){var w={tryLoc:x[0]};1 in x&&(w.catchLoc=x[1]),2 in x&&(w.finallyLoc=x[2],w.afterLoc=x[3]),this.tryEntries.push(w)}function P(x){var w=x.completion||{};w.type="normal",delete w.arg,x.completion=w}function D(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(y,this),this.reset(!0)}n.keys=function(x){var w=Object(x),E=[];for(var _ in w)E.push(_);return E.reverse(),function p(){for(;E.length;){var h=E.pop();if(h in w)return p.value=h,p.done=!1,p}return p.done=!0,p}};function W(x){if(x||x===""){var w=x[f];if(w)return w.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var E=-1,_=function p(){for(;++E<x.length;)if(i.call(x,E))return p.value=x[E],p.done=!1,p;return p.value=s,p.done=!0,p};return _.next=_}}throw new TypeError(typeof x+" is not iterable")}n.values=W;function L(){return{value:s,done:!0}}return D.prototype={constructor:D,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!x)for(var w in this)w.charAt(0)==="t"&&i.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=s)},stop:function(){this.done=!0;var x=this.tryEntries[0],w=x.completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var w=this;function E(te,q){return h.type="throw",h.arg=x,w.next=te,q&&(w.method="next",w.arg=s),!!q}for(var _=this.tryEntries.length-1;_>=0;--_){var p=this.tryEntries[_],h=p.completion;if(p.tryLoc==="root")return E("end");if(p.tryLoc<=this.prev){var T=i.call(p,"catchLoc"),G=i.call(p,"finallyLoc");if(T&&G){if(this.prev<p.catchLoc)return E(p.catchLoc,!0);if(this.prev<p.finallyLoc)return E(p.finallyLoc)}else if(T){if(this.prev<p.catchLoc)return E(p.catchLoc,!0)}else if(G){if(this.prev<p.finallyLoc)return E(p.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,w){for(var E=this.tryEntries.length-1;E>=0;--E){var _=this.tryEntries[E];if(_.tryLoc<=this.prev&&i.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var p=_;break}}p&&(x==="break"||x==="continue")&&p.tryLoc<=w&&w<=p.finallyLoc&&(p=null);var h=p?p.completion:{};return h.type=x,h.arg=w,p?(this.method="next",this.next=p.finallyLoc,u):this.complete(h)},complete:function(x,w){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&w&&(this.next=w),u},finish:function(x){for(var w=this.tryEntries.length-1;w>=0;--w){var E=this.tryEntries[w];if(E.finallyLoc===x)return this.complete(E.completion,E.afterLoc),P(E),u}},catch:function(x){for(var w=this.tryEntries.length-1;w>=0;--w){var E=this.tryEntries[w];if(E.tryLoc===x){var _=E.completion;if(_.type==="throw"){var p=_.arg;P(E)}return p}}throw new Error("illegal catch attempt")},delegateYield:function(x,w,E){return this.delegate={iterator:W(x),resultName:w,nextLoc:E},this.method==="next"&&(this.arg=s),u}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Qm);var ru={},rh={exports:{}},Tn={},ih={exports:{}},ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,x){var w=L.length;L.push(x);e:for(;0<w;){var E=w-1>>>1,_=L[E];if(0<i(_,x))L[E]=x,L[w]=_,w=E;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var x=L[0],w=L.pop();if(w!==x){L[0]=w;e:for(var E=0,_=L.length,p=_>>>1;E<p;){var h=2*(E+1)-1,T=L[h],G=h+1,te=L[G];if(0>i(T,w))G<_&&0>i(te,T)?(L[E]=te,L[G]=w,E=G):(L[E]=T,L[h]=w,E=h);else if(G<_&&0>i(te,w))L[E]=te,L[G]=w,E=G;else break e}}return x}function i(L,x){var w=L.sortIndex-x.sortIndex;return w!==0?w:L.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var f=[],A=[],c=1,d=null,b=3,z=!1,C=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var x=n(A);x!==null;){if(x.callback===null)r(A);else if(x.startTime<=L)r(A),x.sortIndex=x.expirationTime,t(f,x);else break;x=n(A)}}function R(L){if(V=!1,m(L),!C)if(n(f)!==null)C=!0,D(o);else{var x=n(A);x!==null&&W(R,x.startTime-L)}}function o(L,x){C=!1,V&&(V=!1,v(j),j=-1),z=!0;var w=b;try{for(m(x),d=n(f);d!==null&&(!(d.expirationTime>x)||L&&!Z());){var E=d.callback;if(typeof E=="function"){d.callback=null,b=d.priorityLevel;var _=E(d.expirationTime<=x);x=e.unstable_now(),typeof _=="function"?d.callback=_:d===n(f)&&r(f),m(x)}else r(f);d=n(f)}if(d!==null)var p=!0;else{var h=n(A);h!==null&&W(R,h.startTime-x),p=!1}return p}finally{d=null,b=w,z=!1}}var S=!1,k=null,j=-1,$=5,H=-1;function Z(){return!(e.unstable_now()-H<$)}function re(){if(k!==null){var L=e.unstable_now();H=L;var x=!0;try{x=k(!0,L)}finally{x?N():(S=!1,k=null)}}else S=!1}var N;if(typeof u=="function")N=function(){u(re)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,P=y.port2;y.port1.onmessage=re,N=function(){P.postMessage(null)}}else N=function(){Y(re,0)};function D(L){k=L,S||(S=!0,N())}function W(L,x){j=Y(function(){L(e.unstable_now())},x)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){C||z||(C=!0,D(o))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(L){switch(b){case 1:case 2:case 3:var x=3;break;default:x=b}var w=b;b=x;try{return L()}finally{b=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,x){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var w=b;b=L;try{return x()}finally{b=w}},e.unstable_scheduleCallback=function(L,x,w){var E=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?E+w:E):w=E,L){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=w+_,L={id:c++,callback:x,priorityLevel:L,startTime:w,expirationTime:_,sortIndex:-1},w>E?(L.sortIndex=w,t(A,L),n(f)===null&&L===n(A)&&(V?(v(j),j=-1):V=!0,W(R,w-E))):(L.sortIndex=_,t(f,L),C||z||(C=!0,D(o))),L},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(L){var x=b;return function(){var w=b;b=x;try{return L.apply(this,arguments)}finally{b=w}}}})(ah);ih.exports=ah;var Zm=ih.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=je,bn=Zm;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oh=new Set,Qa={};function Si(e,t){Ji(e,t),Ji(e+"Capture",t)}function Ji(e,t){for(Qa[e]=t,e=0;e<t.length;e++)oh.add(t[e])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=Object.prototype.hasOwnProperty,Jm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$c={},Uc={};function ep(e){return iu.call(Uc,e)?!0:iu.call($c,e)?!1:Jm.test(e)?Uc[e]=!0:($c[e]=!0,!1)}function tp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function np(e,t,n,r){if(t===null||typeof t>"u"||tp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var v1=/[\-:]([a-z])/g;function y1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v1,y1);Ot[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v1,y1);Ot[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v1,y1);Ot[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function w1(e,t,n,r){var i=Ot.hasOwnProperty(t)?Ot[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(np(t,n,i,r)&&(n=null),r||i===null?ep(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var br=sh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bs=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),S1=Symbol.for("react.strict_mode"),au=Symbol.for("react.profiler"),lh=Symbol.for("react.provider"),uh=Symbol.for("react.context"),g1=Symbol.for("react.forward_ref"),su=Symbol.for("react.suspense"),ou=Symbol.for("react.suspense_list"),E1=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),ch=Symbol.for("react.offscreen"),zc=Symbol.iterator;function ma(e){return e===null||typeof e!="object"?null:(e=zc&&e[zc]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,o0;function Ba(e){if(o0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);o0=t&&t[1]||""}return`
`+o0+e}var l0=!1;function u0(e,t){if(!e||l0)return"";l0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&typeof A.stack=="string"){for(var i=A.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var f=`
`+i[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=l);break}}}finally{l0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ba(e):""}function rp(e){switch(e.tag){case 5:return Ba(e.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 2:case 15:return e=u0(e.type,!1),e;case 11:return e=u0(e.type.render,!1),e;case 1:return e=u0(e.type,!0),e;default:return""}}function lu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ii:return"Fragment";case Ni:return"Portal";case au:return"Profiler";case S1:return"StrictMode";case su:return"Suspense";case ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uh:return(e.displayName||"Context")+".Consumer";case lh:return(e._context.displayName||"Context")+".Provider";case g1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E1:return t=e.displayName||null,t!==null?t:lu(e.type)||"Memo";case Br:t=e._payload,e=e._init;try{return lu(e(t))}catch{}}return null}function ip(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lu(t);case 8:return t===S1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ap(e){var t=fh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=ap(e))}function dh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function To(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uu(e,t){var n=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hh(e,t){t=t.checked,t!=null&&w1(e,"checked",t,!1)}function cu(e,t){hh(e,t);var n=qr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fu(e,t.type,n):t.hasOwnProperty("defaultValue")&&fu(e,t.type,qr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fu(e,t,n){(t!=="number"||To(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Na=Array.isArray;function zi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function du(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ve(92));if(Na(n)){if(1<n.length)throw Error(ve(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qr(n)}}function _h(e,t){var n=qr(t.value),r=qr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Is,ph=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Is=Is||document.createElement("div"),Is.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sp=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(e){sp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ha[t]=Ha[e]})});function vh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ha.hasOwnProperty(e)&&Ha[e]?(""+t).trim():t+"px"}function yh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var op=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _u(e,t){if(t){if(op[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function mu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=null;function x1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vu=null,Xi=null,qi=null;function Wc(e){if(e=xs(e)){if(typeof vu!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=Cl(t),vu(e.stateNode,e.type,t))}}function wh(e){Xi?qi?qi.push(e):qi=[e]:Xi=e}function Sh(){if(Xi){var e=Xi,t=qi;if(qi=Xi=null,Wc(e),t)for(e=0;e<t.length;e++)Wc(t[e])}}function gh(e,t){return e(t)}function Eh(){}var c0=!1;function xh(e,t,n){if(c0)return e(t,n);c0=!0;try{return gh(e,t,n)}finally{c0=!1,(Xi!==null||qi!==null)&&(Eh(),Sh())}}function Ja(e,t){var n=e.stateNode;if(n===null)return null;var r=Cl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ve(231,t,typeof n));return n}var yu=!1;if(Sr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){yu=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{yu=!1}function lp(e,t,n,r,i,a,s,l,f){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(c){this.onError(c)}}var Va=!1,ko=null,Co=!1,wu=null,up={onError:function(e){Va=!0,ko=e}};function cp(e,t,n,r,i,a,s,l,f){Va=!1,ko=null,lp.apply(up,arguments)}function fp(e,t,n,r,i,a,s,l,f){if(cp.apply(this,arguments),Va){if(Va){var A=ko;Va=!1,ko=null}else throw Error(ve(198));Co||(Co=!0,wu=A)}}function gi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kc(e){if(gi(e)!==e)throw Error(ve(188))}function dp(e){var t=e.alternate;if(!t){if(t=gi(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Kc(i),e;if(a===r)return Kc(i),t;a=a.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?e:t}function bh(e){return e=dp(e),e!==null?Ah(e):null}function Ah(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ah(e);if(t!==null)return t;e=e.sibling}return null}var Th=bn.unstable_scheduleCallback,Qc=bn.unstable_cancelCallback,hp=bn.unstable_shouldYield,_p=bn.unstable_requestPaint,gt=bn.unstable_now,mp=bn.unstable_getCurrentPriorityLevel,R1=bn.unstable_ImmediatePriority,kh=bn.unstable_UserBlockingPriority,Mo=bn.unstable_NormalPriority,pp=bn.unstable_LowPriority,Ch=bn.unstable_IdlePriority,bl=null,cr=null;function vp(e){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(bl,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:Sp,yp=Math.log,wp=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(yp(e)/wp|0)|0}var Os=64,Ls=4194304;function Ia(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Ia(l):(a&=s,a!==0&&(r=Ia(a)))}else s=n&~i,s!==0?r=Ia(s):a!==0&&(r=Ia(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Kn(t),i=1<<n,r|=e[n],t&=~i;return r}function gp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ep(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Kn(a),l=1<<s,f=i[s];f===-1?(!(l&n)||l&r)&&(i[s]=gp(l,t)):f<=t&&(e.expiredLanes|=l),a&=~l}}function Su(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mh(){var e=Os;return Os<<=1,!(Os&4194240)&&(Os=64),e}function f0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=n}function xp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Kn(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function b1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Kn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var et=0;function Bh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nh,A1,Ih,Oh,Lh,gu=!1,Ps=[],Dr=null,jr=null,Hr=null,es=new Map,ts=new Map,Ir=[],Rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zc(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function va(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=xs(t),t!==null&&A1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bp(e,t,n,r,i){switch(t){case"focusin":return Dr=va(Dr,e,t,n,r,i),!0;case"dragenter":return jr=va(jr,e,t,n,r,i),!0;case"mouseover":return Hr=va(Hr,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return es.set(a,va(es.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ts.set(a,va(ts.get(a)||null,e,t,n,r,i)),!0}return!1}function Ph(e){var t=si(e.target);if(t!==null){var n=gi(t);if(n!==null){if(t=n.tag,t===13){if(t=Rh(n),t!==null){e.blockedOn=t,Lh(e.priority,function(){Ih(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pu=r,n.target.dispatchEvent(r),pu=null}else return t=xs(n),t!==null&&A1(t),e.blockedOn=n,!1;t.shift()}return!0}function Jc(e,t,n){oo(e)&&n.delete(t)}function Ap(){gu=!1,Dr!==null&&oo(Dr)&&(Dr=null),jr!==null&&oo(jr)&&(jr=null),Hr!==null&&oo(Hr)&&(Hr=null),es.forEach(Jc),ts.forEach(Jc)}function ya(e,t){e.blockedOn===t&&(e.blockedOn=null,gu||(gu=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,Ap)))}function ns(e){function t(i){return ya(i,e)}if(0<Ps.length){ya(Ps[0],e);for(var n=1;n<Ps.length;n++){var r=Ps[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dr!==null&&ya(Dr,e),jr!==null&&ya(jr,e),Hr!==null&&ya(Hr,e),es.forEach(t),ts.forEach(t),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)Ph(n),n.blockedOn===null&&Ir.shift()}var Yi=br.ReactCurrentBatchConfig,No=!0;function Tp(e,t,n,r){var i=et,a=Yi.transition;Yi.transition=null;try{et=1,T1(e,t,n,r)}finally{et=i,Yi.transition=a}}function kp(e,t,n,r){var i=et,a=Yi.transition;Yi.transition=null;try{et=4,T1(e,t,n,r)}finally{et=i,Yi.transition=a}}function T1(e,t,n,r){if(No){var i=Eu(e,t,n,r);if(i===null)g0(e,t,r,Io,n),Zc(e,r);else if(bp(i,e,t,n,r))r.stopPropagation();else if(Zc(e,r),t&4&&-1<Rp.indexOf(e)){for(;i!==null;){var a=xs(i);if(a!==null&&Nh(a),a=Eu(e,t,n,r),a===null&&g0(e,t,r,Io,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else g0(e,t,r,null,n)}}var Io=null;function Eu(e,t,n,r){if(Io=null,e=x1(r),e=si(e),e!==null)if(t=gi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Io=e,null}function Fh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mp()){case R1:return 1;case kh:return 4;case Mo:case pp:return 16;case Ch:return 536870912;default:return 16}default:return 16}}var Lr=null,k1=null,lo=null;function Dh(){if(lo)return lo;var e,t=k1,n=t.length,r,i="value"in Lr?Lr.value:Lr.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return lo=i.slice(e,1<r?1-r:void 0)}function uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function ef(){return!1}function kn(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fs:ef,this.isPropagationStopped=ef,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C1=kn(oa),Es=mt({},oa,{view:0,detail:0}),Cp=kn(Es),d0,h0,wa,Al=mt({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(d0=e.screenX-wa.screenX,h0=e.screenY-wa.screenY):h0=d0=0,wa=e),d0)},movementY:function(e){return"movementY"in e?e.movementY:h0}}),tf=kn(Al),Mp=mt({},Al,{dataTransfer:0}),Bp=kn(Mp),Np=mt({},Es,{relatedTarget:0}),_0=kn(Np),Ip=mt({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=kn(Ip),Lp=mt({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pp=kn(Lp),Fp=mt({},oa,{data:0}),nf=kn(Fp),Dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hp[e])?!!t[e]:!1}function M1(){return Vp}var $p=mt({},Es,{key:function(e){if(e.key){var t=Dp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M1,charCode:function(e){return e.type==="keypress"?uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Up=kn($p),zp=mt({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=kn(zp),Xp=mt({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M1}),qp=kn(Xp),Yp=mt({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=kn(Yp),Wp=mt({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kp=kn(Wp),Qp=[9,13,27,32],B1=Sr&&"CompositionEvent"in window,$a=null;Sr&&"documentMode"in document&&($a=document.documentMode);var Zp=Sr&&"TextEvent"in window&&!$a,jh=Sr&&(!B1||$a&&8<$a&&11>=$a),af=" ",sf=!1;function Hh(e,t){switch(e){case"keyup":return Qp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oi=!1;function Jp(e,t){switch(e){case"compositionend":return Vh(t);case"keypress":return t.which!==32?null:(sf=!0,af);case"textInput":return e=t.data,e===af&&sf?null:e;default:return null}}function e3(e,t){if(Oi)return e==="compositionend"||!B1&&Hh(e,t)?(e=Dh(),lo=k1=Lr=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jh&&t.locale!=="ko"?null:t.data;default:return null}}var t3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t3[e.type]:t==="textarea"}function $h(e,t,n,r){wh(r),t=Oo(t,"onChange"),0<t.length&&(n=new C1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ua=null,rs=null;function n3(e){Jh(e,0)}function Tl(e){var t=Fi(e);if(dh(t))return e}function r3(e,t){if(e==="change")return t}var Uh=!1;if(Sr){var m0;if(Sr){var p0="oninput"in document;if(!p0){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),p0=typeof lf.oninput=="function"}m0=p0}else m0=!1;Uh=m0&&(!document.documentMode||9<document.documentMode)}function uf(){Ua&&(Ua.detachEvent("onpropertychange",zh),rs=Ua=null)}function zh(e){if(e.propertyName==="value"&&Tl(rs)){var t=[];$h(t,rs,e,x1(e)),xh(n3,t)}}function i3(e,t,n){e==="focusin"?(uf(),Ua=t,rs=n,Ua.attachEvent("onpropertychange",zh)):e==="focusout"&&uf()}function a3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tl(rs)}function s3(e,t){if(e==="click")return Tl(t)}function o3(e,t){if(e==="input"||e==="change")return Tl(t)}function l3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var er=typeof Object.is=="function"?Object.is:l3;function is(e,t){if(er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!iu.call(t,i)||!er(e[i],t[i]))return!1}return!0}function cf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var n=cf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cf(n)}}function Xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qh(){for(var e=window,t=To();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=To(e.document)}return t}function N1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u3(e){var t=qh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xh(n.ownerDocument.documentElement,n)){if(r!==null&&N1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ff(n,a);var s=ff(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c3=Sr&&"documentMode"in document&&11>=document.documentMode,Li=null,xu=null,za=null,Ru=!1;function df(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ru||Li==null||Li!==To(r)||(r=Li,"selectionStart"in r&&N1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),za&&is(za,r)||(za=r,r=Oo(xu,"onSelect"),0<r.length&&(t=new C1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Li)))}function Ds(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pi={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},v0={},Yh={};Sr&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function kl(e){if(v0[e])return v0[e];if(!Pi[e])return e;var t=Pi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yh)return v0[e]=t[n];return e}var Gh=kl("animationend"),Wh=kl("animationiteration"),Kh=kl("animationstart"),Qh=kl("transitionend"),Zh=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(e,t){Zh.set(e,t),Si(t,[e])}for(var y0=0;y0<hf.length;y0++){var w0=hf[y0],f3=w0.toLowerCase(),d3=w0[0].toUpperCase()+w0.slice(1);Gr(f3,"on"+d3)}Gr(Gh,"onAnimationEnd");Gr(Wh,"onAnimationIteration");Gr(Kh,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(Qh,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function _f(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fp(r,t,void 0,e),e.currentTarget=null}function Jh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],f=l.instance,A=l.currentTarget;if(l=l.listener,f!==a&&i.isPropagationStopped())break e;_f(i,l,A),a=f}else for(s=0;s<r.length;s++){if(l=r[s],f=l.instance,A=l.currentTarget,l=l.listener,f!==a&&i.isPropagationStopped())break e;_f(i,l,A),a=f}}}if(Co)throw e=wu,Co=!1,wu=null,e}function it(e,t){var n=t[Cu];n===void 0&&(n=t[Cu]=new Set);var r=e+"__bubble";n.has(r)||(e2(t,e,2,!1),n.add(r))}function S0(e,t,n){var r=0;t&&(r|=4),e2(n,e,r,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function as(e){if(!e[js]){e[js]=!0,oh.forEach(function(n){n!=="selectionchange"&&(h3.has(n)||S0(n,!1,e),S0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,S0("selectionchange",!1,t))}}function e2(e,t,n,r){switch(Fh(t)){case 1:var i=Tp;break;case 4:i=kp;break;default:i=T1}n=i.bind(null,t,n,e),i=void 0,!yu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function g0(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;l!==null;){if(s=si(l),s===null)return;if(f=s.tag,f===5||f===6){r=a=s;continue e}l=l.parentNode}}r=r.return}xh(function(){var A=a,c=x1(n),d=[];e:{var b=Zh.get(e);if(b!==void 0){var z=C1,C=e;switch(e){case"keypress":if(uo(n)===0)break e;case"keydown":case"keyup":z=Up;break;case"focusin":C="focus",z=_0;break;case"focusout":C="blur",z=_0;break;case"beforeblur":case"afterblur":z=_0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=qp;break;case Gh:case Wh:case Kh:z=Op;break;case Qh:z=Gp;break;case"scroll":z=Cp;break;case"wheel":z=Kp;break;case"copy":case"cut":case"paste":z=Pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=rf}var V=(t&4)!==0,Y=!V&&e==="scroll",v=V?b!==null?b+"Capture":null:b;V=[];for(var u=A,m;u!==null;){m=u;var R=m.stateNode;if(m.tag===5&&R!==null&&(m=R,v!==null&&(R=Ja(u,v),R!=null&&V.push(ss(u,R,m)))),Y)break;u=u.return}0<V.length&&(b=new z(b,C,null,n,c),d.push({event:b,listeners:V}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",b&&n!==pu&&(C=n.relatedTarget||n.fromElement)&&(si(C)||C[gr]))break e;if((z||b)&&(b=c.window===c?c:(b=c.ownerDocument)?b.defaultView||b.parentWindow:window,z?(C=n.relatedTarget||n.toElement,z=A,C=C?si(C):null,C!==null&&(Y=gi(C),C!==Y||C.tag!==5&&C.tag!==6)&&(C=null)):(z=null,C=A),z!==C)){if(V=tf,R="onMouseLeave",v="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(V=rf,R="onPointerLeave",v="onPointerEnter",u="pointer"),Y=z==null?b:Fi(z),m=C==null?b:Fi(C),b=new V(R,u+"leave",z,n,c),b.target=Y,b.relatedTarget=m,R=null,si(c)===A&&(V=new V(v,u+"enter",C,n,c),V.target=m,V.relatedTarget=Y,R=V),Y=R,z&&C)t:{for(V=z,v=C,u=0,m=V;m;m=xi(m))u++;for(m=0,R=v;R;R=xi(R))m++;for(;0<u-m;)V=xi(V),u--;for(;0<m-u;)v=xi(v),m--;for(;u--;){if(V===v||v!==null&&V===v.alternate)break t;V=xi(V),v=xi(v)}V=null}else V=null;z!==null&&mf(d,b,z,V,!1),C!==null&&Y!==null&&mf(d,Y,C,V,!0)}}e:{if(b=A?Fi(A):window,z=b.nodeName&&b.nodeName.toLowerCase(),z==="select"||z==="input"&&b.type==="file")var o=r3;else if(of(b))if(Uh)o=o3;else{o=a3;var S=i3}else(z=b.nodeName)&&z.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(o=s3);if(o&&(o=o(e,A))){$h(d,o,n,c);break e}S&&S(e,b,A),e==="focusout"&&(S=b._wrapperState)&&S.controlled&&b.type==="number"&&fu(b,"number",b.value)}switch(S=A?Fi(A):window,e){case"focusin":(of(S)||S.contentEditable==="true")&&(Li=S,xu=A,za=null);break;case"focusout":za=xu=Li=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,df(d,n,c);break;case"selectionchange":if(c3)break;case"keydown":case"keyup":df(d,n,c)}var k;if(B1)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Oi?Hh(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(jh&&n.locale!=="ko"&&(Oi||j!=="onCompositionStart"?j==="onCompositionEnd"&&Oi&&(k=Dh()):(Lr=c,k1="value"in Lr?Lr.value:Lr.textContent,Oi=!0)),S=Oo(A,j),0<S.length&&(j=new nf(j,e,null,n,c),d.push({event:j,listeners:S}),k?j.data=k:(k=Vh(n),k!==null&&(j.data=k)))),(k=Zp?Jp(e,n):e3(e,n))&&(A=Oo(A,"onBeforeInput"),0<A.length&&(c=new nf("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:A}),c.data=k))}Jh(d,t)})}function ss(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Oo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ja(e,n),a!=null&&r.unshift(ss(e,a,i)),a=Ja(e,t),a!=null&&r.push(ss(e,a,i))),e=e.return}return r}function xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mf(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var l=n,f=l.alternate,A=l.stateNode;if(f!==null&&f===r)break;l.tag===5&&A!==null&&(l=A,i?(f=Ja(n,a),f!=null&&s.unshift(ss(n,f,l))):i||(f=Ja(n,a),f!=null&&s.push(ss(n,f,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var _3=/\r\n?/g,m3=/\u0000|\uFFFD/g;function pf(e){return(typeof e=="string"?e:""+e).replace(_3,`
`).replace(m3,"")}function Hs(e,t,n){if(t=pf(t),pf(e)!==t&&n)throw Error(ve(425))}function Lo(){}var bu=null,Au=null;function Tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,p3=typeof clearTimeout=="function"?clearTimeout:void 0,vf=typeof Promise=="function"?Promise:void 0,v3=typeof queueMicrotask=="function"?queueMicrotask:typeof vf<"u"?function(e){return vf.resolve(null).then(e).catch(y3)}:ku;function y3(e){setTimeout(function(){throw e})}function E0(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ns(t)}function Vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var la=Math.random().toString(36).slice(2),ur="__reactFiber$"+la,os="__reactProps$"+la,gr="__reactContainer$"+la,Cu="__reactEvents$"+la,w3="__reactListeners$"+la,S3="__reactHandles$"+la;function si(e){var t=e[ur];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gr]||n[ur]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yf(e);e!==null;){if(n=e[ur])return n;e=yf(e)}return t}e=n,n=e.parentNode}return null}function xs(e){return e=e[ur]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function Cl(e){return e[os]||null}var Mu=[],Di=-1;function Wr(e){return{current:e}}function st(e){0>Di||(e.current=Mu[Di],Mu[Di]=null,Di--)}function nt(e,t){Di++,Mu[Di]=e.current,e.current=t}var Yr={},Ht=Wr(Yr),en=Wr(!1),di=Yr;function ea(e,t){var n=e.type.contextTypes;if(!n)return Yr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tn(e){return e=e.childContextTypes,e!=null}function Po(){st(en),st(Ht)}function wf(e,t,n){if(Ht.current!==Yr)throw Error(ve(168));nt(Ht,t),nt(en,n)}function t2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ve(108,ip(e)||"Unknown",i));return mt({},n,r)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,di=Ht.current,nt(Ht,e),nt(en,en.current),!0}function Sf(e,t,n){var r=e.stateNode;if(!r)throw Error(ve(169));n?(e=t2(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,st(en),st(Ht),nt(Ht,e)):st(en),nt(en,n)}var mr=null,Ml=!1,x0=!1;function n2(e){mr===null?mr=[e]:mr.push(e)}function g3(e){Ml=!0,n2(e)}function Kr(){if(!x0&&mr!==null){x0=!0;var e=0,t=et;try{var n=mr;for(et=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mr=null,Ml=!1}catch(i){throw mr!==null&&(mr=mr.slice(e+1)),Th(R1,Kr),i}finally{et=t,x0=!1}}return null}var ji=[],Hi=0,Do=null,jo=0,Nn=[],In=0,hi=null,pr=1,vr="";function ii(e,t){ji[Hi++]=jo,ji[Hi++]=Do,Do=e,jo=t}function r2(e,t,n){Nn[In++]=pr,Nn[In++]=vr,Nn[In++]=hi,hi=e;var r=pr;e=vr;var i=32-Kn(r)-1;r&=~(1<<i),n+=1;var a=32-Kn(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pr=1<<32-Kn(t)+i|n<<i|r,vr=a+e}else pr=1<<a|n<<i|r,vr=e}function I1(e){e.return!==null&&(ii(e,1),r2(e,1,0))}function O1(e){for(;e===Do;)Do=ji[--Hi],ji[Hi]=null,jo=ji[--Hi],ji[Hi]=null;for(;e===hi;)hi=Nn[--In],Nn[In]=null,vr=Nn[--In],Nn[In]=null,pr=Nn[--In],Nn[In]=null}var Rn=null,xn=null,ut=!1,Gn=null;function i2(e,t){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rn=e,xn=Vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rn=e,xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hi!==null?{id:pr,overflow:vr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rn=e,xn=null,!0):!1;default:return!1}}function Bu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nu(e){if(ut){var t=xn;if(t){var n=t;if(!gf(e,t)){if(Bu(e))throw Error(ve(418));t=Vr(n.nextSibling);var r=Rn;t&&gf(e,t)?i2(r,n):(e.flags=e.flags&-4097|2,ut=!1,Rn=e)}}else{if(Bu(e))throw Error(ve(418));e.flags=e.flags&-4097|2,ut=!1,Rn=e}}}function Ef(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rn=e}function Vs(e){if(e!==Rn)return!1;if(!ut)return Ef(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tu(e.type,e.memoizedProps)),t&&(t=xn)){if(Bu(e))throw a2(),Error(ve(418));for(;t;)i2(e,t),t=Vr(t.nextSibling)}if(Ef(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xn=Vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xn=null}}else xn=Rn?Vr(e.stateNode.nextSibling):null;return!0}function a2(){for(var e=xn;e;)e=Vr(e.nextSibling)}function ta(){xn=Rn=null,ut=!1}function L1(e){Gn===null?Gn=[e]:Gn.push(e)}var E3=br.ReactCurrentBatchConfig;function qn(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ho=Wr(null),Vo=null,Vi=null,P1=null;function F1(){P1=Vi=Vo=null}function D1(e){var t=Ho.current;st(Ho),e._currentValue=t}function Iu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gi(e,t){Vo=e,P1=Vi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jt=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if(P1!==e)if(e={context:e,memoizedValue:t,next:null},Vi===null){if(Vo===null)throw Error(ve(308));Vi=e,Vo.dependencies={lanes:0,firstContext:e}}else Vi=Vi.next=e;return t}var oi=null;function j1(e){oi===null?oi=[e]:oi.push(e)}function s2(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,j1(t)):(n.next=i.next,i.next=n),t.interleaved=n,Er(e,r)}function Er(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nr=!1;function H1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ze&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Er(e,n)}return i=r.interleaved,i===null?(t.next=t,j1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Er(e,n)}function co(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,b1(e,n)}}function xf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var i=e.updateQueue;Nr=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var f=l,A=f.next;f.next=null,s===null?a=A:s.next=A,s=f;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=A:l.next=A,c.lastBaseUpdate=f))}if(a!==null){var d=i.baseState;s=0,c=A=f=null,l=a;do{var b=l.lane,z=l.eventTime;if((r&b)===b){c!==null&&(c=c.next={eventTime:z,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=e,V=l;switch(b=t,z=n,V.tag){case 1:if(C=V.payload,typeof C=="function"){d=C.call(z,d,b);break e}d=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=V.payload,b=typeof C=="function"?C.call(z,d,b):C,b==null)break e;d=mt({},d,b);break e;case 2:Nr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,b=i.effects,b===null?i.effects=[l]:b.push(l))}else z={eventTime:z,lane:b,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(A=c=z,f=d):c=c.next=z,s|=b;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;b=l,l=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(!0);if(c===null&&(f=d),i.baseState=f,i.firstBaseUpdate=A,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);mi|=s,e.lanes=s,e.memoizedState=d}}function Rf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var l2=new sh.Component().refs;function Ou(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bl={isMounted:function(e){return(e=e._reactInternals)?gi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zt(),i=zr(e),a=yr(r,i);a.payload=t,n!=null&&(a.callback=n),t=$r(e,a,i),t!==null&&(Qn(t,e,i,r),co(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zt(),i=zr(e),a=yr(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=$r(e,a,i),t!==null&&(Qn(t,e,i,r),co(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zt(),r=zr(e),i=yr(n,r);i.tag=2,t!=null&&(i.callback=t),t=$r(e,i,r),t!==null&&(Qn(t,e,r,n),co(t,e,r))}};function bf(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!is(n,r)||!is(i,a):!0}function u2(e,t,n){var r=!1,i=Yr,a=t.contextType;return typeof a=="object"&&a!==null?a=Fn(a):(i=tn(t)?di:Ht.current,r=t.contextTypes,a=(r=r!=null)?ea(e,i):Yr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Af(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bl.enqueueReplaceState(t,t.state,null)}function Lu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=l2,H1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Fn(a):(a=tn(t)?di:Ht.current,i.context=ea(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ou(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bl.enqueueReplaceState(i,i.state,null),$o(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Sa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;l===l2&&(l=i.refs={}),s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,e))}return e}function $s(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tf(e){var t=e._init;return t(e._payload)}function c2(e){function t(v,u){if(e){var m=v.deletions;m===null?(v.deletions=[u],v.flags|=16):m.push(u)}}function n(v,u){if(!e)return null;for(;u!==null;)t(v,u),u=u.sibling;return null}function r(v,u){for(v=new Map;u!==null;)u.key!==null?v.set(u.key,u):v.set(u.index,u),u=u.sibling;return v}function i(v,u){return v=Xr(v,u),v.index=0,v.sibling=null,v}function a(v,u,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<u?(v.flags|=2,u):m):(v.flags|=2,u)):(v.flags|=1048576,u)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,u,m,R){return u===null||u.tag!==6?(u=M0(m,v.mode,R),u.return=v,u):(u=i(u,m),u.return=v,u)}function f(v,u,m,R){var o=m.type;return o===Ii?c(v,u,m.props.children,R,m.key):u!==null&&(u.elementType===o||typeof o=="object"&&o!==null&&o.$$typeof===Br&&Tf(o)===u.type)?(R=i(u,m.props),R.ref=Sa(v,u,m),R.return=v,R):(R=vo(m.type,m.key,m.props,null,v.mode,R),R.ref=Sa(v,u,m),R.return=v,R)}function A(v,u,m,R){return u===null||u.tag!==4||u.stateNode.containerInfo!==m.containerInfo||u.stateNode.implementation!==m.implementation?(u=B0(m,v.mode,R),u.return=v,u):(u=i(u,m.children||[]),u.return=v,u)}function c(v,u,m,R,o){return u===null||u.tag!==7?(u=fi(m,v.mode,R,o),u.return=v,u):(u=i(u,m),u.return=v,u)}function d(v,u,m){if(typeof u=="string"&&u!==""||typeof u=="number")return u=M0(""+u,v.mode,m),u.return=v,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Bs:return m=vo(u.type,u.key,u.props,null,v.mode,m),m.ref=Sa(v,null,u),m.return=v,m;case Ni:return u=B0(u,v.mode,m),u.return=v,u;case Br:var R=u._init;return d(v,R(u._payload),m)}if(Na(u)||ma(u))return u=fi(u,v.mode,m,null),u.return=v,u;$s(v,u)}return null}function b(v,u,m,R){var o=u!==null?u.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return o!==null?null:l(v,u,""+m,R);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bs:return m.key===o?f(v,u,m,R):null;case Ni:return m.key===o?A(v,u,m,R):null;case Br:return o=m._init,b(v,u,o(m._payload),R)}if(Na(m)||ma(m))return o!==null?null:c(v,u,m,R,null);$s(v,m)}return null}function z(v,u,m,R,o){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(m)||null,l(u,v,""+R,o);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Bs:return v=v.get(R.key===null?m:R.key)||null,f(u,v,R,o);case Ni:return v=v.get(R.key===null?m:R.key)||null,A(u,v,R,o);case Br:var S=R._init;return z(v,u,m,S(R._payload),o)}if(Na(R)||ma(R))return v=v.get(m)||null,c(u,v,R,o,null);$s(u,R)}return null}function C(v,u,m,R){for(var o=null,S=null,k=u,j=u=0,$=null;k!==null&&j<m.length;j++){k.index>j?($=k,k=null):$=k.sibling;var H=b(v,k,m[j],R);if(H===null){k===null&&(k=$);break}e&&k&&H.alternate===null&&t(v,k),u=a(H,u,j),S===null?o=H:S.sibling=H,S=H,k=$}if(j===m.length)return n(v,k),ut&&ii(v,j),o;if(k===null){for(;j<m.length;j++)k=d(v,m[j],R),k!==null&&(u=a(k,u,j),S===null?o=k:S.sibling=k,S=k);return ut&&ii(v,j),o}for(k=r(v,k);j<m.length;j++)$=z(k,v,j,m[j],R),$!==null&&(e&&$.alternate!==null&&k.delete($.key===null?j:$.key),u=a($,u,j),S===null?o=$:S.sibling=$,S=$);return e&&k.forEach(function(Z){return t(v,Z)}),ut&&ii(v,j),o}function V(v,u,m,R){var o=ma(m);if(typeof o!="function")throw Error(ve(150));if(m=o.call(m),m==null)throw Error(ve(151));for(var S=o=null,k=u,j=u=0,$=null,H=m.next();k!==null&&!H.done;j++,H=m.next()){k.index>j?($=k,k=null):$=k.sibling;var Z=b(v,k,H.value,R);if(Z===null){k===null&&(k=$);break}e&&k&&Z.alternate===null&&t(v,k),u=a(Z,u,j),S===null?o=Z:S.sibling=Z,S=Z,k=$}if(H.done)return n(v,k),ut&&ii(v,j),o;if(k===null){for(;!H.done;j++,H=m.next())H=d(v,H.value,R),H!==null&&(u=a(H,u,j),S===null?o=H:S.sibling=H,S=H);return ut&&ii(v,j),o}for(k=r(v,k);!H.done;j++,H=m.next())H=z(k,v,j,H.value,R),H!==null&&(e&&H.alternate!==null&&k.delete(H.key===null?j:H.key),u=a(H,u,j),S===null?o=H:S.sibling=H,S=H);return e&&k.forEach(function(re){return t(v,re)}),ut&&ii(v,j),o}function Y(v,u,m,R){if(typeof m=="object"&&m!==null&&m.type===Ii&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Bs:e:{for(var o=m.key,S=u;S!==null;){if(S.key===o){if(o=m.type,o===Ii){if(S.tag===7){n(v,S.sibling),u=i(S,m.props.children),u.return=v,v=u;break e}}else if(S.elementType===o||typeof o=="object"&&o!==null&&o.$$typeof===Br&&Tf(o)===S.type){n(v,S.sibling),u=i(S,m.props),u.ref=Sa(v,S,m),u.return=v,v=u;break e}n(v,S);break}else t(v,S);S=S.sibling}m.type===Ii?(u=fi(m.props.children,v.mode,R,m.key),u.return=v,v=u):(R=vo(m.type,m.key,m.props,null,v.mode,R),R.ref=Sa(v,u,m),R.return=v,v=R)}return s(v);case Ni:e:{for(S=m.key;u!==null;){if(u.key===S)if(u.tag===4&&u.stateNode.containerInfo===m.containerInfo&&u.stateNode.implementation===m.implementation){n(v,u.sibling),u=i(u,m.children||[]),u.return=v,v=u;break e}else{n(v,u);break}else t(v,u);u=u.sibling}u=B0(m,v.mode,R),u.return=v,v=u}return s(v);case Br:return S=m._init,Y(v,u,S(m._payload),R)}if(Na(m))return C(v,u,m,R);if(ma(m))return V(v,u,m,R);$s(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,u!==null&&u.tag===6?(n(v,u.sibling),u=i(u,m),u.return=v,v=u):(n(v,u),u=M0(m,v.mode,R),u.return=v,v=u),s(v)):n(v,u)}return Y}var na=c2(!0),f2=c2(!1),Rs={},fr=Wr(Rs),ls=Wr(Rs),us=Wr(Rs);function li(e){if(e===Rs)throw Error(ve(174));return e}function V1(e,t){switch(nt(us,t),nt(ls,e),nt(fr,Rs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hu(t,e)}st(fr),nt(fr,t)}function ra(){st(fr),st(ls),st(us)}function d2(e){li(us.current);var t=li(fr.current),n=hu(t,e.type);t!==n&&(nt(ls,e),nt(fr,n))}function $1(e){ls.current===e&&(st(fr),st(ls))}var ht=Wr(0);function Uo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R0=[];function U1(){for(var e=0;e<R0.length;e++)R0[e]._workInProgressVersionPrimary=null;R0.length=0}var fo=br.ReactCurrentDispatcher,b0=br.ReactCurrentBatchConfig,_i=0,_t=null,At=null,kt=null,zo=!1,Xa=!1,cs=0,x3=0;function Pt(){throw Error(ve(321))}function z1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function X1(e,t,n,r,i,a){if(_i=a,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=e===null||e.memoizedState===null?T3:k3,e=n(r,i),Xa){a=0;do{if(Xa=!1,cs=0,25<=a)throw Error(ve(301));a+=1,kt=At=null,t.updateQueue=null,fo.current=C3,e=n(r,i)}while(Xa)}if(fo.current=Xo,t=At!==null&&At.next!==null,_i=0,kt=At=_t=null,zo=!1,t)throw Error(ve(300));return e}function q1(){var e=cs!==0;return cs=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?_t.memoizedState=kt=e:kt=kt.next=e,kt}function Dn(){if(At===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=kt===null?_t.memoizedState:kt.next;if(t!==null)kt=t,At=e;else{if(e===null)throw Error(ve(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},kt===null?_t.memoizedState=kt=e:kt=kt.next=e}return kt}function fs(e,t){return typeof t=="function"?t(e):t}function A0(e){var t=Dn(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=At,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=s=null,f=null,A=a;do{var c=A.lane;if((_i&c)===c)f!==null&&(f=f.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),r=A.hasEagerState?A.eagerState:e(r,A.action);else{var d={lane:c,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};f===null?(l=f=d,s=r):f=f.next=d,_t.lanes|=c,mi|=c}A=A.next}while(A!==null&&A!==a);f===null?s=r:f.next=l,er(r,t.memoizedState)||(Jt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,_t.lanes|=a,mi|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function T0(e){var t=Dn(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);er(a,t.memoizedState)||(Jt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function h2(){}function _2(e,t){var n=_t,r=Dn(),i=t(),a=!er(r.memoizedState,i);if(a&&(r.memoizedState=i,Jt=!0),r=r.queue,Y1(v2.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,ds(9,p2.bind(null,n,r,i,t),void 0,null),Ct===null)throw Error(ve(349));_i&30||m2(n,t,i)}return i}function m2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function p2(e,t,n,r){t.value=n,t.getSnapshot=r,y2(t)&&w2(e)}function v2(e,t,n){return n(function(){y2(t)&&w2(e)})}function y2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch{return!0}}function w2(e){var t=Er(e,1);t!==null&&Qn(t,e,1,-1)}function kf(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t.queue=e,e=e.dispatch=A3.bind(null,_t,e),[t.memoizedState,e]}function ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function S2(){return Dn().memoizedState}function ho(e,t,n,r){var i=or();_t.flags|=e,i.memoizedState=ds(1|t,n,void 0,r===void 0?null:r)}function Nl(e,t,n,r){var i=Dn();r=r===void 0?null:r;var a=void 0;if(At!==null){var s=At.memoizedState;if(a=s.destroy,r!==null&&z1(r,s.deps)){i.memoizedState=ds(t,n,a,r);return}}_t.flags|=e,i.memoizedState=ds(1|t,n,a,r)}function Cf(e,t){return ho(8390656,8,e,t)}function Y1(e,t){return Nl(2048,8,e,t)}function g2(e,t){return Nl(4,2,e,t)}function E2(e,t){return Nl(4,4,e,t)}function x2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R2(e,t,n){return n=n!=null?n.concat([e]):null,Nl(4,4,x2.bind(null,t,e),n)}function G1(){}function b2(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&z1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function A2(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&z1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function T2(e,t,n){return _i&21?(er(n,t)||(n=Mh(),_t.lanes|=n,mi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=n)}function R3(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var r=b0.transition;b0.transition={};try{e(!1),t()}finally{et=n,b0.transition=r}}function k2(){return Dn().memoizedState}function b3(e,t,n){var r=zr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},C2(e))M2(t,n);else if(n=s2(e,t,n,r),n!==null){var i=zt();Qn(n,e,r,i),B2(n,t,r)}}function A3(e,t,n){var r=zr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(C2(e))M2(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,er(l,s)){var f=t.interleaved;f===null?(i.next=i,j1(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}n=s2(e,t,i,r),n!==null&&(i=zt(),Qn(n,e,r,i),B2(n,t,r))}}function C2(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function M2(e,t){Xa=zo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function B2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,b1(e,n)}}var Xo={readContext:Fn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},T3={readContext:Fn,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:Cf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ho(4194308,4,x2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return ho(4,2,e,t)},useMemo:function(e,t){var n=or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=or();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=b3.bind(null,_t,e),[r.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:kf,useDebugValue:G1,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=kf(!1),t=e[0];return e=R3.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_t,i=or();if(ut){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=t(),Ct===null)throw Error(ve(349));_i&30||m2(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Cf(v2.bind(null,r,a,e),[e]),r.flags|=2048,ds(9,p2.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=or(),t=Ct.identifierPrefix;if(ut){var n=vr,r=pr;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=x3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},k3={readContext:Fn,useCallback:b2,useContext:Fn,useEffect:Y1,useImperativeHandle:R2,useInsertionEffect:g2,useLayoutEffect:E2,useMemo:A2,useReducer:A0,useRef:S2,useState:function(){return A0(fs)},useDebugValue:G1,useDeferredValue:function(e){var t=Dn();return T2(t,At.memoizedState,e)},useTransition:function(){var e=A0(fs)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:h2,useSyncExternalStore:_2,useId:k2,unstable_isNewReconciler:!1},C3={readContext:Fn,useCallback:b2,useContext:Fn,useEffect:Y1,useImperativeHandle:R2,useInsertionEffect:g2,useLayoutEffect:E2,useMemo:A2,useReducer:T0,useRef:S2,useState:function(){return T0(fs)},useDebugValue:G1,useDeferredValue:function(e){var t=Dn();return At===null?t.memoizedState=e:T2(t,At.memoizedState,e)},useTransition:function(){var e=T0(fs)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:h2,useSyncExternalStore:_2,useId:k2,unstable_isNewReconciler:!1};function ia(e,t){try{var n="",r=t;do n+=rp(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function k0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M3=typeof WeakMap=="function"?WeakMap:Map;function N2(e,t,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yo||(Yo=!0,qu=r),Pu(e,t)},n}function I2(e,t,n){n=yr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Pu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Pu(e,t),typeof r!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Mf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M3;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=z3.bind(null,e,t,n),t.then(e,e))}function Bf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yr(-1,1),t.tag=2,$r(n,t,1))),n.lanes|=1),e)}var B3=br.ReactCurrentOwner,Jt=!1;function Ut(e,t,n,r){t.child=e===null?f2(t,null,n,r):na(t,e.child,n,r)}function If(e,t,n,r,i){n=n.render;var a=t.ref;return Gi(t,i),r=X1(e,t,n,r,a,i),n=q1(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xr(e,t,i)):(ut&&n&&I1(t),t.flags|=1,Ut(e,t,r,i),t.child)}function Of(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!nc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,O2(e,t,a,r,i)):(e=vo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:is,n(s,r)&&e.ref===t.ref)return xr(e,t,i)}return t.flags|=1,e=Xr(a,r),e.ref=t.ref,e.return=t,t.child=e}function O2(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(is(a,r)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,xr(e,t,i)}return Fu(e,t,n,r,i)}function L2(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ui,En),En|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(Ui,En),En|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,nt(Ui,En),En|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,nt(Ui,En),En|=r;return Ut(e,t,i,n),t.child}function P2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fu(e,t,n,r,i){var a=tn(n)?di:Ht.current;return a=ea(t,a),Gi(t,i),n=X1(e,t,n,r,a,i),r=q1(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xr(e,t,i)):(ut&&r&&I1(t),t.flags|=1,Ut(e,t,n,i),t.child)}function Lf(e,t,n,r,i){if(tn(n)){var a=!0;Fo(t)}else a=!1;if(Gi(t,i),t.stateNode===null)_o(e,t),u2(t,n,r),Lu(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var f=s.context,A=n.contextType;typeof A=="object"&&A!==null?A=Fn(A):(A=tn(n)?di:Ht.current,A=ea(t,A));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||f!==A)&&Af(t,s,r,A),Nr=!1;var b=t.memoizedState;s.state=b,$o(t,r,s,i),f=t.memoizedState,l!==r||b!==f||en.current||Nr?(typeof c=="function"&&(Ou(t,n,c,r),f=t.memoizedState),(l=Nr||bf(t,n,l,r,b,f,A))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=A,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,o2(e,t),l=t.memoizedProps,A=t.type===t.elementType?l:qn(t.type,l),s.props=A,d=t.pendingProps,b=s.context,f=n.contextType,typeof f=="object"&&f!==null?f=Fn(f):(f=tn(n)?di:Ht.current,f=ea(t,f));var z=n.getDerivedStateFromProps;(c=typeof z=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||b!==f)&&Af(t,s,r,f),Nr=!1,b=t.memoizedState,s.state=b,$o(t,r,s,i);var C=t.memoizedState;l!==d||b!==C||en.current||Nr?(typeof z=="function"&&(Ou(t,n,z,r),C=t.memoizedState),(A=Nr||bf(t,n,A,r,b,C,f)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),s.props=r,s.state=C,s.context=f,r=A):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return Du(e,t,n,r,a,i)}function Du(e,t,n,r,i,a){P2(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Sf(t,n,!1),xr(e,t,a);r=t.stateNode,B3.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=na(t,e.child,null,a),t.child=na(t,null,l,a)):Ut(e,t,l,a),t.memoizedState=r.state,i&&Sf(t,n,!0),t.child}function F2(e){var t=e.stateNode;t.pendingContext?wf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wf(e,t.context,!1),V1(e,t.containerInfo)}function Pf(e,t,n,r,i){return ta(),L1(i),t.flags|=256,Ut(e,t,n,r),t.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function Hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function D2(e,t,n){var r=t.pendingProps,i=ht.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),nt(ht,i&1),e===null)return Nu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ll(s,r,0,null),e=fi(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hu(n),t.memoizedState=ju,e):W1(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return N3(e,t,s,r,l,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,l=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=Xr(i,f),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Xr(l,a):(a=fi(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Hu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=ju,r}return a=e.child,e=a.sibling,r=Xr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function W1(e,t){return t=Ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Us(e,t,n,r){return r!==null&&L1(r),na(t,e.child,null,n),e=W1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N3(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=k0(Error(ve(422))),Us(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),a=fi(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&na(t,e.child,null,s),t.child.memoizedState=Hu(s),t.memoizedState=ju,a);if(!(t.mode&1))return Us(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ve(419)),r=k0(a,r,void 0),Us(e,t,s,r)}if(l=(s&e.childLanes)!==0,Jt||l){if(r=Ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Er(e,i),Qn(r,e,i,-1))}return tc(),r=k0(Error(ve(421))),Us(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=X3.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,xn=Vr(i.nextSibling),Rn=t,ut=!0,Gn=null,e!==null&&(Nn[In++]=pr,Nn[In++]=vr,Nn[In++]=hi,pr=e.id,vr=e.overflow,hi=t),t=W1(t,r.children),t.flags|=4096,t)}function Ff(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Iu(e.return,t,n)}function C0(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function j2(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ut(e,t,r.children,n),r=ht.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ff(e,n,t);else if(e.tag===19)Ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(nt(ht,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Uo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),C0(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Uo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}C0(t,!0,n,null,a);break;case"together":C0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _o(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,n=Xr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I3(e,t,n){switch(t.tag){case 3:F2(t),ta();break;case 5:d2(t);break;case 1:tn(t.type)&&Fo(t);break;case 4:V1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;nt(Ho,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(nt(ht,ht.current&1),t.flags|=128,null):n&t.child.childLanes?D2(e,t,n):(nt(ht,ht.current&1),e=xr(e,t,n),e!==null?e.sibling:null);nt(ht,ht.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return j2(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(ht,ht.current),r)break;return null;case 22:case 23:return t.lanes=0,L2(e,t,n)}return xr(e,t,n)}var H2,Vu,V2,$2;H2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vu=function(){};V2=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,li(fr.current);var a=null;switch(n){case"input":i=uu(e,i),r=uu(e,r),a=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),a=[];break;case"textarea":i=du(e,i),r=du(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Lo)}_u(n,r);var s;n=null;for(A in i)if(!r.hasOwnProperty(A)&&i.hasOwnProperty(A)&&i[A]!=null)if(A==="style"){var l=i[A];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Qa.hasOwnProperty(A)?a||(a=[]):(a=a||[]).push(A,null));for(A in r){var f=r[A];if(l=i!=null?i[A]:void 0,r.hasOwnProperty(A)&&f!==l&&(f!=null||l!=null))if(A==="style")if(l){for(s in l)!l.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in f)f.hasOwnProperty(s)&&l[s]!==f[s]&&(n||(n={}),n[s]=f[s])}else n||(a||(a=[]),a.push(A,n)),n=f;else A==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,l=l?l.__html:void 0,f!=null&&l!==f&&(a=a||[]).push(A,f)):A==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(A,""+f):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(A)?(f!=null&&A==="onScroll"&&it("scroll",e),a||l===f||(a=[])):(a=a||[]).push(A,f))}n&&(a=a||[]).push("style",n);var A=a;(t.updateQueue=A)&&(t.flags|=4)}};$2=function(e,t,n,r){n!==r&&(t.flags|=4)};function ga(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function O3(e,t,n){var r=t.pendingProps;switch(O1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return tn(t.type)&&Po(),Ft(t),null;case 3:return r=t.stateNode,ra(),st(en),st(Ht),U1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gn!==null&&(Wu(Gn),Gn=null))),Vu(e,t),Ft(t),null;case 5:$1(t);var i=li(us.current);if(n=t.type,e!==null&&t.stateNode!=null)V2(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ve(166));return Ft(t),null}if(e=li(fr.current),Vs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ur]=t,r[os]=a,e=(t.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Oa.length;i++)it(Oa[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":Xc(r,a),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},it("invalid",r);break;case"textarea":Yc(r,a),it("invalid",r)}_u(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Hs(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Hs(r.textContent,l,e),i=["children",""+l]):Qa.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&it("scroll",r)}switch(n){case"input":Ns(r),qc(r,a,!0);break;case"textarea":Ns(r),Gc(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Lo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ur]=t,e[os]=r,H2(e,t,!1,!1),t.stateNode=e;e:{switch(s=mu(n,r),n){case"dialog":it("cancel",e),it("close",e),i=r;break;case"iframe":case"object":case"embed":it("load",e),i=r;break;case"video":case"audio":for(i=0;i<Oa.length;i++)it(Oa[i],e);i=r;break;case"source":it("error",e),i=r;break;case"img":case"image":case"link":it("error",e),it("load",e),i=r;break;case"details":it("toggle",e),i=r;break;case"input":Xc(e,r),i=uu(e,r),it("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),it("invalid",e);break;case"textarea":Yc(e,r),i=du(e,r),it("invalid",e);break;default:i=r}_u(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var f=l[a];a==="style"?yh(e,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&ph(e,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Za(e,f):typeof f=="number"&&Za(e,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Qa.hasOwnProperty(a)?f!=null&&a==="onScroll"&&it("scroll",e):f!=null&&w1(e,a,f,s))}switch(n){case"input":Ns(e),qc(e,r,!1);break;case"textarea":Ns(e),Gc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?zi(e,!!r.multiple,a,!1):r.defaultValue!=null&&zi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Lo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)$2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ve(166));if(n=li(us.current),li(fr.current),Vs(t)){if(r=t.stateNode,n=t.memoizedProps,r[ur]=t,(a=r.nodeValue!==n)&&(e=Rn,e!==null))switch(e.tag){case 3:Hs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=t,t.stateNode=r}return Ft(t),null;case 13:if(st(ht),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&xn!==null&&t.mode&1&&!(t.flags&128))a2(),ta(),t.flags|=98560,a=!1;else if(a=Vs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ve(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ve(317));a[ur]=t}else ta(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),a=!1}else Gn!==null&&(Wu(Gn),Gn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Tt===0&&(Tt=3):tc())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return ra(),Vu(e,t),e===null&&as(t.stateNode.containerInfo),Ft(t),null;case 10:return D1(t.type._context),Ft(t),null;case 17:return tn(t.type)&&Po(),Ft(t),null;case 19:if(st(ht),a=t.memoizedState,a===null)return Ft(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)ga(a,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Uo(e),s!==null){for(t.flags|=128,ga(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(ht,ht.current&1|2),t.child}e=e.sibling}a.tail!==null&&gt()>aa&&(t.flags|=128,r=!0,ga(a,!1),t.lanes=4194304)}else{if(!r)if(e=Uo(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ga(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ut)return Ft(t),null}else 2*gt()-a.renderingStartTime>aa&&n!==1073741824&&(t.flags|=128,r=!0,ga(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=gt(),t.sibling=null,n=ht.current,nt(ht,r?n&1|2:n&1),t):(Ft(t),null);case 22:case 23:return ec(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?En&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function L3(e,t){switch(O1(t),t.tag){case 1:return tn(t.type)&&Po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(),st(en),st(Ht),U1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $1(t),null;case 13:if(st(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(ht),null;case 4:return ra(),null;case 10:return D1(t.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var zs=!1,jt=!1,P3=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function $i(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(e,t,r)}else n.current=null}function $u(e,t,n){try{n()}catch(r){vt(e,t,r)}}var Df=!1;function F3(e,t){if(bu=No,e=qh(),N1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,f=-1,A=0,c=0,d=e,b=null;t:for(;;){for(var z;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==a||r!==0&&d.nodeType!==3||(f=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(z=d.firstChild)!==null;)b=d,d=z;for(;;){if(d===e)break t;if(b===n&&++A===i&&(l=s),b===a&&++c===r&&(f=s),(z=d.nextSibling)!==null)break;d=b,b=d.parentNode}d=z}n=l===-1||f===-1?null:{start:l,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Au={focusedElem:e,selectionRange:n},No=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var V=C.memoizedProps,Y=C.memoizedState,v=t.stateNode,u=v.getSnapshotBeforeUpdate(t.elementType===t.type?V:qn(t.type,V),Y);v.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(R){vt(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return C=Df,Df=!1,C}function qa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&$u(t,n,a)}i=i.next}while(i!==r)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Uu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function U2(e){var t=e.alternate;t!==null&&(e.alternate=null,U2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ur],delete t[os],delete t[Cu],delete t[w3],delete t[S3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function z2(e){return e.tag===5||e.tag===3||e.tag===4}function jf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||z2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Lo));else if(r!==4&&(e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function Xu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xu(e,t,n),e=e.sibling;e!==null;)Xu(e,t,n),e=e.sibling}var Nt=null,Yn=!1;function Tr(e,t,n){for(n=n.child;n!==null;)X2(e,t,n),n=n.sibling}function X2(e,t,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(bl,n)}catch{}switch(n.tag){case 5:jt||$i(n,t);case 6:var r=Nt,i=Yn;Nt=null,Tr(e,t,n),Nt=r,Yn=i,Nt!==null&&(Yn?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Yn?(e=Nt,n=n.stateNode,e.nodeType===8?E0(e.parentNode,n):e.nodeType===1&&E0(e,n),ns(e)):E0(Nt,n.stateNode));break;case 4:r=Nt,i=Yn,Nt=n.stateNode.containerInfo,Yn=!0,Tr(e,t,n),Nt=r,Yn=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&$u(n,t,s),i=i.next}while(i!==r)}Tr(e,t,n);break;case 1:if(!jt&&($i(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){vt(n,t,l)}Tr(e,t,n);break;case 21:Tr(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Tr(e,t,n),jt=r):Tr(e,t,n);break;default:Tr(e,t,n)}}function Hf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new P3),t.forEach(function(r){var i=q3.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Yn=!1;break e;case 3:Nt=l.stateNode.containerInfo,Yn=!0;break e;case 4:Nt=l.stateNode.containerInfo,Yn=!0;break e}l=l.return}if(Nt===null)throw Error(ve(160));X2(a,s,i),Nt=null,Yn=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(A){vt(i,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q2(t,e),t=t.sibling}function q2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vn(t,e),ir(e),r&4){try{qa(3,e,e.return),Il(3,e)}catch(V){vt(e,e.return,V)}try{qa(5,e,e.return)}catch(V){vt(e,e.return,V)}}break;case 1:Vn(t,e),ir(e),r&512&&n!==null&&$i(n,n.return);break;case 5:if(Vn(t,e),ir(e),r&512&&n!==null&&$i(n,n.return),e.flags&32){var i=e.stateNode;try{Za(i,"")}catch(V){vt(e,e.return,V)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,l=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&hh(i,a),mu(l,s);var A=mu(l,a);for(s=0;s<f.length;s+=2){var c=f[s],d=f[s+1];c==="style"?yh(i,d):c==="dangerouslySetInnerHTML"?ph(i,d):c==="children"?Za(i,d):w1(i,c,d,A)}switch(l){case"input":cu(i,a);break;case"textarea":_h(i,a);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var z=a.value;z!=null?zi(i,!!a.multiple,z,!1):b!==!!a.multiple&&(a.defaultValue!=null?zi(i,!!a.multiple,a.defaultValue,!0):zi(i,!!a.multiple,a.multiple?[]:"",!1))}i[os]=a}catch(V){vt(e,e.return,V)}}break;case 6:if(Vn(t,e),ir(e),r&4){if(e.stateNode===null)throw Error(ve(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(V){vt(e,e.return,V)}}break;case 3:if(Vn(t,e),ir(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ns(t.containerInfo)}catch(V){vt(e,e.return,V)}break;case 4:Vn(t,e),ir(e);break;case 13:Vn(t,e),ir(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Z1=gt())),r&4&&Hf(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(A=jt)||c,Vn(t,e),jt=A):Vn(t,e),ir(e),r&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!c&&e.mode&1)for(Oe=e,c=e.child;c!==null;){for(d=Oe=c;Oe!==null;){switch(b=Oe,z=b.child,b.tag){case 0:case 11:case 14:case 15:qa(4,b,b.return);break;case 1:$i(b,b.return);var C=b.stateNode;if(typeof C.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(V){vt(r,n,V)}}break;case 5:$i(b,b.return);break;case 22:if(b.memoizedState!==null){$f(d);continue}}z!==null?(z.return=b,Oe=z):$f(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,A?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,f=d.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,l.style.display=vh("display",s))}catch(V){vt(e,e.return,V)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=A?"":d.memoizedProps}catch(V){vt(e,e.return,V)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vn(t,e),ir(e),r&4&&Hf(e);break;case 21:break;default:Vn(t,e),ir(e)}}function ir(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(z2(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Za(i,""),r.flags&=-33);var a=jf(e);Xu(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=jf(e);zu(e,l,s);break;default:throw Error(ve(161))}}catch(f){vt(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D3(e,t,n){Oe=e,Y2(e)}function Y2(e,t,n){for(var r=(e.mode&1)!==0;Oe!==null;){var i=Oe,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||zs;if(!s){var l=i.alternate,f=l!==null&&l.memoizedState!==null||jt;l=zs;var A=jt;if(zs=s,(jt=f)&&!A)for(Oe=i;Oe!==null;)s=Oe,f=s.child,s.tag===22&&s.memoizedState!==null?Uf(i):f!==null?(f.return=s,Oe=f):Uf(i);for(;a!==null;)Oe=a,Y2(a),a=a.sibling;Oe=i,zs=l,jt=A}Vf(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Oe=a):Vf(e)}}function Vf(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Rf(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rf(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var c=A.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ns(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}jt||t.flags&512&&Uu(t)}catch(b){vt(t,t.return,b)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function $f(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function Uf(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(f){vt(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(f){vt(t,i,f)}}var a=t.return;try{Uu(t)}catch(f){vt(t,a,f)}break;case 5:var s=t.return;try{Uu(t)}catch(f){vt(t,s,f)}}}catch(f){vt(t,t.return,f)}if(t===e){Oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Oe=l;break}Oe=t.return}}var j3=Math.ceil,qo=br.ReactCurrentDispatcher,K1=br.ReactCurrentOwner,Ln=br.ReactCurrentBatchConfig,Ze=0,Ct=null,xt=null,It=0,En=0,Ui=Wr(0),Tt=0,hs=null,mi=0,Ol=0,Q1=0,Ya=null,Zt=null,Z1=0,aa=1/0,_r=null,Yo=!1,qu=null,Ur=null,Xs=!1,Pr=null,Go=0,Ga=0,Yu=null,mo=-1,po=0;function zt(){return Ze&6?gt():mo!==-1?mo:mo=gt()}function zr(e){return e.mode&1?Ze&2&&It!==0?It&-It:E3.transition!==null?(po===0&&(po=Mh()),po):(e=et,e!==0||(e=window.event,e=e===void 0?16:Fh(e.type)),e):1}function Qn(e,t,n,r){if(50<Ga)throw Ga=0,Yu=null,Error(ve(185));gs(e,n,r),(!(Ze&2)||e!==Ct)&&(e===Ct&&(!(Ze&2)&&(Ol|=n),Tt===4&&Or(e,It)),nn(e,r),n===1&&Ze===0&&!(t.mode&1)&&(aa=gt()+500,Ml&&Kr()))}function nn(e,t){var n=e.callbackNode;Ep(e,t);var r=Bo(e,e===Ct?It:0);if(r===0)n!==null&&Qc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qc(n),t===1)e.tag===0?g3(zf.bind(null,e)):n2(zf.bind(null,e)),v3(function(){!(Ze&6)&&Kr()}),n=null;else{switch(Bh(r)){case 1:n=R1;break;case 4:n=kh;break;case 16:n=Mo;break;case 536870912:n=Ch;break;default:n=Mo}n=t_(n,G2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function G2(e,t){if(mo=-1,po=0,Ze&6)throw Error(ve(327));var n=e.callbackNode;if(Wi()&&e.callbackNode!==n)return null;var r=Bo(e,e===Ct?It:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wo(e,r);else{t=r;var i=Ze;Ze|=2;var a=K2();(Ct!==e||It!==t)&&(_r=null,aa=gt()+500,ci(e,t));do try{$3();break}catch(l){W2(e,l)}while(!0);F1(),qo.current=a,Ze=i,xt!==null?t=0:(Ct=null,It=0,t=Tt)}if(t!==0){if(t===2&&(i=Su(e),i!==0&&(r=i,t=Gu(e,i))),t===1)throw n=hs,ci(e,0),Or(e,r),nn(e,gt()),n;if(t===6)Or(e,r);else{if(i=e.current.alternate,!(r&30)&&!H3(i)&&(t=Wo(e,r),t===2&&(a=Su(e),a!==0&&(r=a,t=Gu(e,a))),t===1))throw n=hs,ci(e,0),Or(e,r),nn(e,gt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ve(345));case 2:ai(e,Zt,_r);break;case 3:if(Or(e,r),(r&130023424)===r&&(t=Z1+500-gt(),10<t)){if(Bo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ku(ai.bind(null,e,Zt,_r),t);break}ai(e,Zt,_r);break;case 4:if(Or(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Kn(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j3(r/1960))-r,10<r){e.timeoutHandle=ku(ai.bind(null,e,Zt,_r),r);break}ai(e,Zt,_r);break;case 5:ai(e,Zt,_r);break;default:throw Error(ve(329))}}}return nn(e,gt()),e.callbackNode===n?G2.bind(null,e):null}function Gu(e,t){var n=Ya;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=Zt,Zt=n,t!==null&&Wu(t)),e}function Wu(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function H3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!er(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~Q1,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kn(t),r=1<<n;e[n]=-1,t&=~r}}function zf(e){if(Ze&6)throw Error(ve(327));Wi();var t=Bo(e,0);if(!(t&1))return nn(e,gt()),null;var n=Wo(e,t);if(e.tag!==0&&n===2){var r=Su(e);r!==0&&(t=r,n=Gu(e,r))}if(n===1)throw n=hs,ci(e,0),Or(e,t),nn(e,gt()),n;if(n===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ai(e,Zt,_r),nn(e,gt()),null}function J1(e,t){var n=Ze;Ze|=1;try{return e(t)}finally{Ze=n,Ze===0&&(aa=gt()+500,Ml&&Kr())}}function pi(e){Pr!==null&&Pr.tag===0&&!(Ze&6)&&Wi();var t=Ze;Ze|=1;var n=Ln.transition,r=et;try{if(Ln.transition=null,et=1,e)return e()}finally{et=r,Ln.transition=n,Ze=t,!(Ze&6)&&Kr()}}function ec(){En=Ui.current,st(Ui)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,p3(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(O1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:ra(),st(en),st(Ht),U1();break;case 5:$1(r);break;case 4:ra();break;case 13:st(ht);break;case 19:st(ht);break;case 10:D1(r.type._context);break;case 22:case 23:ec()}n=n.return}if(Ct=e,xt=e=Xr(e.current,null),It=En=t,Tt=0,hs=null,Q1=Ol=mi=0,Zt=Ya=null,oi!==null){for(t=0;t<oi.length;t++)if(n=oi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}oi=null}return e}function W2(e,t){do{var n=xt;try{if(F1(),fo.current=Xo,zo){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zo=!1}if(_i=0,kt=At=_t=null,Xa=!1,cs=0,K1.current=null,n===null||n.return===null){Tt=1,hs=t,xt=null;break}e:{var a=e,s=n.return,l=n,f=t;if(t=It,l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var A=f,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var b=c.alternate;b?(c.updateQueue=b.updateQueue,c.memoizedState=b.memoizedState,c.lanes=b.lanes):(c.updateQueue=null,c.memoizedState=null)}var z=Bf(s);if(z!==null){z.flags&=-257,Nf(z,s,l,a,t),z.mode&1&&Mf(a,A,t),t=z,f=A;var C=t.updateQueue;if(C===null){var V=new Set;V.add(f),t.updateQueue=V}else C.add(f);break e}else{if(!(t&1)){Mf(a,A,t),tc();break e}f=Error(ve(426))}}else if(ut&&l.mode&1){var Y=Bf(s);if(Y!==null){!(Y.flags&65536)&&(Y.flags|=256),Nf(Y,s,l,a,t),L1(ia(f,l));break e}}a=f=ia(f,l),Tt!==4&&(Tt=2),Ya===null?Ya=[a]:Ya.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=N2(a,f,t);xf(a,v);break e;case 1:l=f;var u=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof u.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ur===null||!Ur.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var R=I2(a,l,t);xf(a,R);break e}}a=a.return}while(a!==null)}Z2(n)}catch(o){t=o,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function K2(){var e=qo.current;return qo.current=Xo,e===null?Xo:e}function tc(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ct===null||!(mi&268435455)&&!(Ol&268435455)||Or(Ct,It)}function Wo(e,t){var n=Ze;Ze|=2;var r=K2();(Ct!==e||It!==t)&&(_r=null,ci(e,t));do try{V3();break}catch(i){W2(e,i)}while(!0);if(F1(),Ze=n,qo.current=r,xt!==null)throw Error(ve(261));return Ct=null,It=0,Tt}function V3(){for(;xt!==null;)Q2(xt)}function $3(){for(;xt!==null&&!hp();)Q2(xt)}function Q2(e){var t=e_(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?Z2(e):xt=t,K1.current=null}function Z2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=L3(n,t),n!==null){n.flags&=32767,xt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,xt=null;return}}else if(n=O3(n,t,En),n!==null){xt=n;return}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);Tt===0&&(Tt=5)}function ai(e,t,n){var r=et,i=Ln.transition;try{Ln.transition=null,et=1,U3(e,t,n,r)}finally{Ln.transition=i,et=r}return null}function U3(e,t,n,r){do Wi();while(Pr!==null);if(Ze&6)throw Error(ve(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(xp(e,a),e===Ct&&(xt=Ct=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xs||(Xs=!0,t_(Mo,function(){return Wi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ln.transition,Ln.transition=null;var s=et;et=1;var l=Ze;Ze|=4,K1.current=null,F3(e,n),q2(n,e),u3(Au),No=!!bu,Au=bu=null,e.current=n,D3(n),_p(),Ze=l,et=s,Ln.transition=a}else e.current=n;if(Xs&&(Xs=!1,Pr=e,Go=i),a=e.pendingLanes,a===0&&(Ur=null),vp(n.stateNode),nn(e,gt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yo)throw Yo=!1,e=qu,qu=null,e;return Go&1&&e.tag!==0&&Wi(),a=e.pendingLanes,a&1?e===Yu?Ga++:(Ga=0,Yu=e):Ga=0,Kr(),null}function Wi(){if(Pr!==null){var e=Bh(Go),t=Ln.transition,n=et;try{if(Ln.transition=null,et=16>e?16:e,Pr===null)var r=!1;else{if(e=Pr,Pr=null,Go=0,Ze&6)throw Error(ve(331));var i=Ze;for(Ze|=4,Oe=e.current;Oe!==null;){var a=Oe,s=a.child;if(Oe.flags&16){var l=a.deletions;if(l!==null){for(var f=0;f<l.length;f++){var A=l[f];for(Oe=A;Oe!==null;){var c=Oe;switch(c.tag){case 0:case 11:case 15:qa(8,c,a)}var d=c.child;if(d!==null)d.return=c,Oe=d;else for(;Oe!==null;){c=Oe;var b=c.sibling,z=c.return;if(U2(c),c===A){Oe=null;break}if(b!==null){b.return=z,Oe=b;break}Oe=z}}}var C=a.alternate;if(C!==null){var V=C.child;if(V!==null){C.child=null;do{var Y=V.sibling;V.sibling=null,V=Y}while(V!==null)}}Oe=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Oe=s;else e:for(;Oe!==null;){if(a=Oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:qa(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Oe=v;break e}Oe=a.return}}var u=e.current;for(Oe=u;Oe!==null;){s=Oe;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,Oe=m;else e:for(s=u;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Il(9,l)}}catch(o){vt(l,l.return,o)}if(l===s){Oe=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,Oe=R;break e}Oe=l.return}}if(Ze=i,Kr(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(bl,e)}catch{}r=!0}return r}finally{et=n,Ln.transition=t}}return!1}function Xf(e,t,n){t=ia(n,t),t=N2(e,t,1),e=$r(e,t,1),t=zt(),e!==null&&(gs(e,1,t),nn(e,t))}function vt(e,t,n){if(e.tag===3)Xf(e,e,n);else for(;t!==null;){if(t.tag===3){Xf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ur===null||!Ur.has(r))){e=ia(n,e),e=I2(t,e,1),t=$r(t,e,1),e=zt(),t!==null&&(gs(t,1,e),nn(t,e));break}}t=t.return}}function z3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&n,Ct===e&&(It&n)===n&&(Tt===4||Tt===3&&(It&130023424)===It&&500>gt()-Z1?ci(e,0):Q1|=n),nn(e,t)}function J2(e,t){t===0&&(e.mode&1?(t=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):t=1);var n=zt();e=Er(e,t),e!==null&&(gs(e,t,n),nn(e,n))}function X3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),J2(e,n)}function q3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(t),J2(e,n)}var e_;e_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||en.current)Jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jt=!1,I3(e,t,n);Jt=!!(e.flags&131072)}else Jt=!1,ut&&t.flags&1048576&&r2(t,jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_o(e,t),e=t.pendingProps;var i=ea(t,Ht.current);Gi(t,n),i=X1(null,t,r,e,i,n);var a=q1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tn(r)?(a=!0,Fo(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,H1(t),i.updater=Bl,t.stateNode=i,i._reactInternals=t,Lu(t,r,e,n),t=Du(null,t,r,!0,a,n)):(t.tag=0,ut&&a&&I1(t),Ut(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_o(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=G3(r),e=qn(r,e),i){case 0:t=Fu(null,t,r,e,n);break e;case 1:t=Lf(null,t,r,e,n);break e;case 11:t=If(null,t,r,e,n);break e;case 14:t=Of(null,t,r,qn(r.type,e),n);break e}throw Error(ve(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qn(r,i),Fu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qn(r,i),Lf(e,t,r,i,n);case 3:e:{if(F2(t),e===null)throw Error(ve(387));r=t.pendingProps,a=t.memoizedState,i=a.element,o2(e,t),$o(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ia(Error(ve(423)),t),t=Pf(e,t,r,n,i);break e}else if(r!==i){i=ia(Error(ve(424)),t),t=Pf(e,t,r,n,i);break e}else for(xn=Vr(t.stateNode.containerInfo.firstChild),Rn=t,ut=!0,Gn=null,n=f2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),r===i){t=xr(e,t,n);break e}Ut(e,t,r,n)}t=t.child}return t;case 5:return d2(t),e===null&&Nu(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Tu(r,i)?s=null:a!==null&&Tu(r,a)&&(t.flags|=32),P2(e,t),Ut(e,t,s,n),t.child;case 6:return e===null&&Nu(t),null;case 13:return D2(e,t,n);case 4:return V1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=na(t,null,r,n):Ut(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qn(r,i),If(e,t,r,i,n);case 7:return Ut(e,t,t.pendingProps,n),t.child;case 8:return Ut(e,t,t.pendingProps.children,n),t.child;case 12:return Ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,nt(Ho,r._currentValue),r._currentValue=s,a!==null)if(er(a.value,s)){if(a.children===i.children&&!en.current){t=xr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var f=l.firstContext;f!==null;){if(f.context===r){if(a.tag===1){f=yr(-1,n&-n),f.tag=2;var A=a.updateQueue;if(A!==null){A=A.shared;var c=A.pending;c===null?f.next=f:(f.next=c.next,c.next=f),A.pending=f}}a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),Iu(a.return,n,t),l.lanes|=n;break}f=f.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ve(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Iu(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ut(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Gi(t,n),i=Fn(i),r=r(i),t.flags|=1,Ut(e,t,r,n),t.child;case 14:return r=t.type,i=qn(r,t.pendingProps),i=qn(r.type,i),Of(e,t,r,i,n);case 15:return O2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qn(r,i),_o(e,t),t.tag=1,tn(r)?(e=!0,Fo(t)):e=!1,Gi(t,n),u2(t,r,i),Lu(t,r,i,n),Du(null,t,r,!0,e,n);case 19:return j2(e,t,n);case 22:return L2(e,t,n)}throw Error(ve(156,t.tag))};function t_(e,t){return Th(e,t)}function Y3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,r){return new Y3(e,t,n,r)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function G3(e){if(typeof e=="function")return nc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===g1)return 11;if(e===E1)return 14}return 2}function Xr(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vo(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")nc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ii:return fi(n.children,i,a,t);case S1:s=8,i|=8;break;case au:return e=On(12,n,t,i|2),e.elementType=au,e.lanes=a,e;case su:return e=On(13,n,t,i),e.elementType=su,e.lanes=a,e;case ou:return e=On(19,n,t,i),e.elementType=ou,e.lanes=a,e;case ch:return Ll(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lh:s=10;break e;case uh:s=9;break e;case g1:s=11;break e;case E1:s=14;break e;case Br:s=16,r=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=On(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function fi(e,t,n,r){return e=On(7,e,r,t),e.lanes=n,e}function Ll(e,t,n,r){return e=On(22,e,r,t),e.elementType=ch,e.lanes=n,e.stateNode={isHidden:!1},e}function M0(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function B0(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W3(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f0(0),this.expirationTimes=f0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rc(e,t,n,r,i,a,s,l,f){return e=new W3(e,t,n,l,f),t===1?(t=1,a===!0&&(t|=8)):t=0,a=On(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},H1(a),e}function K3(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function n_(e){if(!e)return Yr;e=e._reactInternals;e:{if(gi(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var n=e.type;if(tn(n))return t2(e,n,t)}return t}function r_(e,t,n,r,i,a,s,l,f){return e=rc(n,r,!0,e,i,a,s,l,f),e.context=n_(null),n=e.current,r=zt(),i=zr(n),a=yr(r,i),a.callback=t??null,$r(n,a,i),e.current.lanes=i,gs(e,i,r),nn(e,r),e}function Pl(e,t,n,r){var i=t.current,a=zt(),s=zr(i);return n=n_(n),t.context===null?t.context=n:t.pendingContext=n,t=yr(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$r(i,t,s),e!==null&&(Qn(e,i,s,a),co(e,i,s)),s}function Ko(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ic(e,t){qf(e,t),(e=e.alternate)&&qf(e,t)}function Q3(){return null}var i_=typeof reportError=="function"?reportError:function(e){console.error(e)};function ac(e){this._internalRoot=e}Fl.prototype.render=ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));Pl(e,t,null,null)};Fl.prototype.unmount=ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){Pl(null,e,null,null)}),t[gr]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ir.length&&t!==0&&t<Ir[n].priority;n++);Ir.splice(n,0,e),n===0&&Ph(e)}};function sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function Z3(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var A=Ko(s);a.call(A)}}var s=r_(t,r,e,0,null,!1,!1,"",Yf);return e._reactRootContainer=s,e[gr]=s.current,as(e.nodeType===8?e.parentNode:e),pi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var A=Ko(f);l.call(A)}}var f=rc(e,0,!1,null,null,!1,!1,"",Yf);return e._reactRootContainer=f,e[gr]=f.current,as(e.nodeType===8?e.parentNode:e),pi(function(){Pl(t,f,n,r)}),f}function jl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var f=Ko(s);l.call(f)}}Pl(t,s,e,i)}else s=Z3(n,t,e,i,r);return Ko(s)}Nh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ia(t.pendingLanes);n!==0&&(b1(t,n|1),nn(t,gt()),!(Ze&6)&&(aa=gt()+500,Kr()))}break;case 13:pi(function(){var r=Er(e,1);if(r!==null){var i=zt();Qn(r,e,1,i)}}),ic(e,1)}};A1=function(e){if(e.tag===13){var t=Er(e,134217728);if(t!==null){var n=zt();Qn(t,e,134217728,n)}ic(e,134217728)}};Ih=function(e){if(e.tag===13){var t=zr(e),n=Er(e,t);if(n!==null){var r=zt();Qn(n,e,t,r)}ic(e,t)}};Oh=function(){return et};Lh=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};vu=function(e,t,n){switch(t){case"input":if(cu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Cl(r);if(!i)throw Error(ve(90));dh(r),cu(r,i)}}}break;case"textarea":_h(e,n);break;case"select":t=n.value,t!=null&&zi(e,!!n.multiple,t,!1)}};gh=J1;Eh=pi;var J3={usingClientEntryPoint:!1,Events:[xs,Fi,Cl,wh,Sh,J1]},Ea={findFiberByHostInstance:si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ev={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bh(e),e===null?null:e.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||Q3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{bl=qs.inject(ev),cr=qs}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J3;Tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sc(t))throw Error(ve(200));return K3(e,t,null,n)};Tn.createRoot=function(e,t){if(!sc(e))throw Error(ve(299));var n=!1,r="",i=i_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=rc(e,1,!1,null,null,n,!1,r,i),e[gr]=t.current,as(e.nodeType===8?e.parentNode:e),new ac(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=bh(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return pi(e)};Tn.hydrate=function(e,t,n){if(!Dl(t))throw Error(ve(200));return jl(null,e,t,!0,n)};Tn.hydrateRoot=function(e,t,n){if(!sc(e))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=i_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=r_(t,null,e,1,n??null,i,!1,a,s),e[gr]=t.current,as(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fl(t)};Tn.render=function(e,t,n){if(!Dl(t))throw Error(ve(200));return jl(null,e,t,!1,n)};Tn.unmountComponentAtNode=function(e){if(!Dl(e))throw Error(ve(40));return e._reactRootContainer?(pi(function(){jl(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};Tn.unstable_batchedUpdates=J1;Tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dl(n))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return jl(e,t,n,!1,r)};Tn.version="18.2.0-next-9e3b772b8-20220608";function a_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a_)}catch(e){console.error(e)}}a_(),rh.exports=Tn;var tv=rh.exports,Gf=tv;ru.createRoot=Gf.createRoot,ru.hydrateRoot=Gf.hydrateRoot;const nv="modulepreload",rv=function(e){return"https://a-conect.github.io/"+e},Wf={},Kf=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link");i=Promise.all(n.map(s=>{if(s=rv(s),s in Wf)return;Wf[s]=!0;const l=s.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(!!r)for(let d=a.length-1;d>=0;d--){const b=a[d];if(b.href===s&&(!l||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${f}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":nv,l||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),l)return new Promise((d,b)=>{c.addEventListener("load",d),c.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${s}`)))})}))}return i.then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};var iv=(e,t,n,r)=>{let i=je.useMemo(()=>{let a=[];return Array.isArray(t)&&(a=[...a,...t]),Array.isArray(n)&&(a=[...a,...n]),Array.isArray(r)&&(a=[...a,...r]),a},[r,t,n]);return je.useEffect(()=>((async()=>{try{await e()}catch(a){typeof n=="function"?n(a):console.info(a)}})(),()=>{typeof t=="function"&&t()}),i)},av=(e,t,n)=>{let r=je.useMemo(()=>{let i=[];return Array.isArray(t)&&(i=[...i,...t]),Array.isArray(n)&&(i=[...i,...n]),i},[t,n]);return je.useMemo(()=>async(...i)=>{try{return await e(...i)}catch(a){typeof t=="function"?t(a):console.error("useMemo",a)}},r)};function sv(e){return new Int8Array(e)}function s_(e){return new Int16Array(e)}function o_(e){return new Int32Array(e)}function l_(e){return new Float32Array(e)}function ov(e){return new Float64Array(e)}function u_(e){if(e.length==1)return l_(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(u_(e));return n}function c_(e){if(e.length==1)return o_(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(c_(e));return n}function f_(e){if(e.length==1)return s_(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(f_(e));return n}function d_(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(d_(e));return n}var h_={};h_.fill=function(e,t,n,r){if(arguments.length==2)for(var i=0;i<e.length;i++)e[i]=arguments[1];else for(var i=t;i<n;i++)e[i]=r};var bs={};bs.arraycopy=function(e,t,n,r,i){for(var a=t+i;t<a;)n[r++]=e[t++]};bs.out={};bs.out.println=function(e){console.log(e)};bs.out.printf=function(){console.log.apply(console,arguments)};var Hl={};Hl.SQRT2=1.4142135623730951;Hl.FAST_LOG10=function(e){return Math.log10(e)};Hl.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function Rr(e){this.ordinal=e}Rr.short_block_allowed=new Rr(0);Rr.short_block_coupled=new Rr(1);Rr.short_block_dispensed=new Rr(2);Rr.short_block_forced=new Rr(3);var __={};__.MAX_VALUE=34028235e31;function An(e){this.ordinal=e}An.vbr_off=new An(0);An.vbr_mt=new An(1);An.vbr_rh=new An(2);An.vbr_abr=new An(3);An.vbr_mtrh=new An(4);An.vbr_default=An.vbr_mtrh;var lv=function(e){},ct={System:bs,VbrMode:An,Float:__,ShortBlock:Rr,Util:Hl,Arrays:h_,new_array_n:d_,new_byte:sv,new_double:ov,new_float:l_,new_float_n:u_,new_int:o_,new_int_n:c_,new_short:s_,new_short_n:f_,assert:lv},N0,Qf;function uv(){if(Qf)return N0;Qf=1;var e=ct,t=e.System;e.VbrMode,e.Float,e.ShortBlock;var n=e.Util,r=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var i=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var a=$t();function s(){var l=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],f=12,A=36,c=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],d=c[a.SHORT_TYPE],b=c[a.SHORT_TYPE],z=c[a.SHORT_TYPE],C=c[a.SHORT_TYPE],V=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function Y(m,R,o){for(var S=10,k=R+238-14-286,j=-15;j<0;j++){var $,H,Z;$=l[S+-10],H=m[k+-224]*$,Z=m[R+224]*$,$=l[S+-9],H+=m[k+-160]*$,Z+=m[R+160]*$,$=l[S+-8],H+=m[k+-96]*$,Z+=m[R+96]*$,$=l[S+-7],H+=m[k+-32]*$,Z+=m[R+32]*$,$=l[S+-6],H+=m[k+32]*$,Z+=m[R+-32]*$,$=l[S+-5],H+=m[k+96]*$,Z+=m[R+-96]*$,$=l[S+-4],H+=m[k+160]*$,Z+=m[R+-160]*$,$=l[S+-3],H+=m[k+224]*$,Z+=m[R+-224]*$,$=l[S+-2],H+=m[R+-256]*$,Z-=m[k+256]*$,$=l[S+-1],H+=m[R+-192]*$,Z-=m[k+192]*$,$=l[S+0],H+=m[R+-128]*$,Z-=m[k+128]*$,$=l[S+1],H+=m[R+-64]*$,Z-=m[k+64]*$,$=l[S+2],H+=m[R+0]*$,Z-=m[k+0]*$,$=l[S+3],H+=m[R+64]*$,Z-=m[k+-64]*$,$=l[S+4],H+=m[R+128]*$,Z-=m[k+-128]*$,$=l[S+5],H+=m[R+192]*$,Z-=m[k+-192]*$,H*=l[S+6],$=Z-H,o[30+j*2]=Z+H,o[31+j*2]=l[S+7]*$,S+=18,R--,k++}{var H,Z,re,N;Z=m[R+-16]*l[S+-10],H=m[R+-32]*l[S+-2],Z+=(m[R+-48]-m[R+16])*l[S+-9],H+=m[R+-96]*l[S+-1],Z+=(m[R+-80]+m[R+48])*l[S+-8],H+=m[R+-160]*l[S+0],Z+=(m[R+-112]-m[R+80])*l[S+-7],H+=m[R+-224]*l[S+1],Z+=(m[R+-144]+m[R+112])*l[S+-6],H-=m[R+32]*l[S+2],Z+=(m[R+-176]-m[R+144])*l[S+-5],H-=m[R+96]*l[S+3],Z+=(m[R+-208]+m[R+176])*l[S+-4],H-=m[R+160]*l[S+4],Z+=(m[R+-240]-m[R+208])*l[S+-3],H-=m[R+224],re=H-Z,N=H+Z,Z=o[14],H=o[15]-Z,o[31]=N+Z,o[30]=re+H,o[15]=re-H,o[14]=N-Z}{var y;y=o[28]-o[0],o[0]+=o[28],o[28]=y*l[S+-2*18+7],y=o[29]-o[1],o[1]+=o[29],o[29]=y*l[S+-2*18+7],y=o[26]-o[2],o[2]+=o[26],o[26]=y*l[S+-4*18+7],y=o[27]-o[3],o[3]+=o[27],o[27]=y*l[S+-4*18+7],y=o[24]-o[4],o[4]+=o[24],o[24]=y*l[S+-6*18+7],y=o[25]-o[5],o[5]+=o[25],o[25]=y*l[S+-6*18+7],y=o[22]-o[6],o[6]+=o[22],o[22]=y*n.SQRT2,y=o[23]-o[7],o[7]+=o[23],o[23]=y*n.SQRT2-o[7],o[7]-=o[6],o[22]-=o[7],o[23]-=o[22],y=o[6],o[6]=o[31]-y,o[31]=o[31]+y,y=o[7],o[7]=o[30]-y,o[30]=o[30]+y,y=o[22],o[22]=o[15]-y,o[15]=o[15]+y,y=o[23],o[23]=o[14]-y,o[14]=o[14]+y,y=o[20]-o[8],o[8]+=o[20],o[20]=y*l[S+-10*18+7],y=o[21]-o[9],o[9]+=o[21],o[21]=y*l[S+-10*18+7],y=o[18]-o[10],o[10]+=o[18],o[18]=y*l[S+-12*18+7],y=o[19]-o[11],o[11]+=o[19],o[19]=y*l[S+-12*18+7],y=o[16]-o[12],o[12]+=o[16],o[16]=y*l[S+-14*18+7],y=o[17]-o[13],o[13]+=o[17],o[17]=y*l[S+-14*18+7],y=-o[20]+o[24],o[20]+=o[24],o[24]=y*l[S+-12*18+7],y=-o[21]+o[25],o[21]+=o[25],o[25]=y*l[S+-12*18+7],y=o[4]-o[8],o[4]+=o[8],o[8]=y*l[S+-12*18+7],y=o[5]-o[9],o[5]+=o[9],o[9]=y*l[S+-12*18+7],y=o[0]-o[12],o[0]+=o[12],o[12]=y*l[S+-4*18+7],y=o[1]-o[13],o[1]+=o[13],o[13]=y*l[S+-4*18+7],y=o[16]-o[28],o[16]+=o[28],o[28]=y*l[S+-4*18+7],y=-o[17]+o[29],o[17]+=o[29],o[29]=y*l[S+-4*18+7],y=n.SQRT2*(o[2]-o[10]),o[2]+=o[10],o[10]=y,y=n.SQRT2*(o[3]-o[11]),o[3]+=o[11],o[11]=y,y=n.SQRT2*(-o[18]+o[26]),o[18]+=o[26],o[26]=y-o[18],y=n.SQRT2*(-o[19]+o[27]),o[19]+=o[27],o[27]=y-o[19],y=o[2],o[19]-=o[3],o[3]-=y,o[2]=o[31]-y,o[31]+=y,y=o[3],o[11]-=o[19],o[18]-=y,o[3]=o[30]-y,o[30]+=y,y=o[18],o[27]-=o[11],o[19]-=y,o[18]=o[15]-y,o[15]+=y,y=o[19],o[10]-=y,o[19]=o[14]-y,o[14]+=y,y=o[10],o[11]-=y,o[10]=o[23]-y,o[23]+=y,y=o[11],o[26]-=y,o[11]=o[22]-y,o[22]+=y,y=o[26],o[27]-=y,o[26]=o[7]-y,o[7]+=y,y=o[27],o[27]=o[6]-y,o[6]+=y,y=n.SQRT2*(o[0]-o[4]),o[0]+=o[4],o[4]=y,y=n.SQRT2*(o[1]-o[5]),o[1]+=o[5],o[5]=y,y=n.SQRT2*(o[16]-o[20]),o[16]+=o[20],o[20]=y,y=n.SQRT2*(o[17]-o[21]),o[17]+=o[21],o[21]=y,y=-n.SQRT2*(o[8]-o[12]),o[8]+=o[12],o[12]=y-o[8],y=-n.SQRT2*(o[9]-o[13]),o[9]+=o[13],o[13]=y-o[9],y=-n.SQRT2*(o[25]-o[29]),o[25]+=o[29],o[29]=y-o[25],y=-n.SQRT2*(o[24]+o[28]),o[24]-=o[28],o[28]=y-o[24],y=o[24]-o[16],o[24]=y,y=o[20]-y,o[20]=y,y=o[28]-y,o[28]=y,y=o[25]-o[17],o[25]=y,y=o[21]-y,o[21]=y,y=o[29]-y,o[29]=y,y=o[17]-o[1],o[17]=y,y=o[9]-y,o[9]=y,y=o[25]-y,o[25]=y,y=o[5]-y,o[5]=y,y=o[21]-y,o[21]=y,y=o[13]-y,o[13]=y,y=o[29]-y,o[29]=y,y=o[1]-o[0],o[1]=y,y=o[16]-y,o[16]=y,y=o[17]-y,o[17]=y,y=o[8]-y,o[8]=y,y=o[9]-y,o[9]=y,y=o[24]-y,o[24]=y,y=o[25]-y,o[25]=y,y=o[4]-y,o[4]=y,y=o[5]-y,o[5]=y,y=o[20]-y,o[20]=y,y=o[21]-y,o[21]=y,y=o[12]-y,o[12]=y,y=o[13]-y,o[13]=y,y=o[28]-y,o[28]=y,y=o[29]-y,o[29]=y,y=o[0],o[0]+=o[31],o[31]-=y,y=o[1],o[1]+=o[30],o[30]-=y,y=o[16],o[16]+=o[15],o[15]-=y,y=o[17],o[17]+=o[14],o[14]-=y,y=o[8],o[8]+=o[23],o[23]-=y,y=o[9],o[9]+=o[22],o[22]-=y,y=o[24],o[24]+=o[7],o[7]-=y,y=o[25],o[25]+=o[6],o[6]-=y,y=o[4],o[4]+=o[27],o[27]-=y,y=o[5],o[5]+=o[26],o[26]-=y,y=o[20],o[20]+=o[11],o[11]-=y,y=o[21],o[21]+=o[10],o[10]-=y,y=o[12],o[12]+=o[19],o[19]-=y,y=o[13],o[13]+=o[18],o[18]-=y,y=o[28],o[28]+=o[3],o[3]-=y,y=o[29],o[29]+=o[2],o[2]-=y}}function v(m,R){for(var o=0;o<3;o++){var S,k,j,$,H,Z;$=m[R+2*3]*c[a.SHORT_TYPE][0]-m[R+5*3],S=m[R+0*3]*c[a.SHORT_TYPE][2]-m[R+3*3],k=$+S,j=$-S,$=m[R+5*3]*c[a.SHORT_TYPE][0]+m[R+2*3],S=m[R+3*3]*c[a.SHORT_TYPE][2]+m[R+0*3],H=$+S,Z=-$+S,S=(m[R+1*3]*c[a.SHORT_TYPE][1]-m[R+4*3])*2069978111953089e-26,$=(m[R+4*3]*c[a.SHORT_TYPE][1]+m[R+1*3])*2069978111953089e-26,m[R+3*0]=k*190752519173728e-25+S,m[R+3*5]=-H*190752519173728e-25+$,j=j*.8660254037844387*1907525191737281e-26,H=H*.5*1907525191737281e-26+$,m[R+3*1]=j-H,m[R+3*2]=j+H,k=k*.5*1907525191737281e-26-S,Z=Z*.8660254037844387*1907525191737281e-26,m[R+3*3]=k+Z,m[R+3*4]=k-Z,R++}}function u(m,R,o){var S,k;{var j,$,H,Z,re,N,y,P;j=o[17]-o[9],H=o[15]-o[11],Z=o[14]-o[12],re=o[0]+o[8],N=o[1]+o[7],y=o[2]+o[6],P=o[3]+o[5],m[R+17]=re+y-P-(N-o[4]),k=(re+y-P)*b[19]+(N-o[4]),S=(j-H-Z)*b[18],m[R+5]=S+k,m[R+6]=S-k,$=(o[16]-o[10])*b[18],N=N*b[19]+o[4],S=j*b[12]+$+H*b[13]+Z*b[14],k=-re*b[16]+N-y*b[17]+P*b[15],m[R+1]=S+k,m[R+2]=S-k,S=j*b[13]-$-H*b[14]+Z*b[12],k=-re*b[17]+N-y*b[15]+P*b[16],m[R+9]=S+k,m[R+10]=S-k,S=j*b[14]-$+H*b[12]-Z*b[13],k=re*b[15]-N+y*b[16]-P*b[17],m[R+13]=S+k,m[R+14]=S-k}{var D,W,L,x,w,E,_,p;D=o[8]-o[0],L=o[6]-o[2],x=o[5]-o[3],w=o[17]+o[9],E=o[16]+o[10],_=o[15]+o[11],p=o[14]+o[12],m[R+0]=w+_+p+(E+o[13]),S=(w+_+p)*b[19]-(E+o[13]),k=(D-L+x)*b[18],m[R+11]=S+k,m[R+12]=S-k,W=(o[7]-o[1])*b[18],E=o[13]-E*b[19],S=w*b[15]-E+_*b[16]+p*b[17],k=D*b[14]+W+L*b[12]+x*b[13],m[R+3]=S+k,m[R+4]=S-k,S=-w*b[17]+E-_*b[15]-p*b[16],k=D*b[13]+W-L*b[14]-x*b[12],m[R+7]=S+k,m[R+8]=S-k,S=-w*b[16]+E-_*b[17]-p*b[15],k=D*b[12]-W+L*b[13]-x*b[14],m[R+15]=S+k,m[R+16]=S-k}}this.mdct_sub48=function(m,R,o){for(var S=R,k=286,j=0;j<m.channels_out;j++){for(var $=0;$<m.mode_gr;$++){for(var H,Z=m.l3_side.tt[$][j],re=Z.xr,N=0,y=m.sb_sample[j][1-$],P=0,D=0;D<18/2;D++)for(Y(S,k,y[P]),Y(S,k+32,y[P+1]),P+=2,k+=64,H=1;H<32;H+=2)y[P-1][H]*=-1;for(H=0;H<32;H++,N+=18){var W=Z.block_type,L=m.sb_sample[j][$],x=m.sb_sample[j][1-$];if(Z.mixed_block_flag!=0&&H<2&&(W=0),m.amp_filter[H]<1e-12)r.fill(re,N+0,N+18,0);else{if(m.amp_filter[H]<1)for(var D=0;D<18;D++)x[D][V[H]]*=m.amp_filter[H];if(W==a.SHORT_TYPE){for(var D=-f/4;D<0;D++){var w=c[a.SHORT_TYPE][D+3];re[N+D*3+9]=L[9+D][V[H]]*w-L[8-D][V[H]],re[N+D*3+18]=L[14-D][V[H]]*w+L[15+D][V[H]],re[N+D*3+10]=L[15+D][V[H]]*w-L[14-D][V[H]],re[N+D*3+19]=x[2-D][V[H]]*w+x[3+D][V[H]],re[N+D*3+11]=x[3+D][V[H]]*w-x[2-D][V[H]],re[N+D*3+20]=x[8-D][V[H]]*w+x[9+D][V[H]]}v(re,N)}else{for(var E=i(18),D=-A/4;D<0;D++){var _,p;_=c[W][D+27]*x[D+9][V[H]]+c[W][D+36]*x[8-D][V[H]],p=c[W][D+9]*L[D+9][V[H]]-c[W][D+18]*L[8-D][V[H]],E[D+9]=_-p*d[3+D+9],E[D+18]=_*d[3+D+9]+p}u(re,N,E)}}if(W!=a.SHORT_TYPE&&H!=0)for(var D=7;D>=0;--D){var h,T;h=re[N+D]*z[20+D]+re[N+-1-D]*C[28+D],T=re[N+D]*C[28+D]-re[N+-1-D]*z[20+D],re[N+-1-D]=h,re[N+D]=T}}}if(S=o,k=286,m.mode_gr==1)for(var G=0;G<18;G++)t.arraycopy(m.sb_sample[j][1][G],0,m.sb_sample[j][0][G],0,32)}}}return N0=s,N0}var I0,Zf;function m_(){if(Zf)return I0;Zf=1;var e=$t(),t=ct,n=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var r=t.new_float,i=t.new_float_n;t.new_int,t.new_int_n,t.assert;function a(){this.l=r(e.SBMAX_l),this.s=i([e.SBMAX_s,3]);var s=this;this.assign=function(l){n.arraycopy(l.l,0,s.l,0,e.SBMAX_l);for(var f=0;f<e.SBMAX_s;f++)for(var A=0;A<3;A++)s.s[f][A]=l.s[f][A]}}return I0=a,I0}var O0,Jf;function cv(){if(Jf)return O0;Jf=1;var e=m_();function t(){this.thm=new e,this.en=new e}return O0=t,O0}function tr(e){var t=e;this.ordinal=function(){return t}}tr.STEREO=new tr(0);tr.JOINT_STEREO=new tr(1);tr.DUAL_CHANNEL=new tr(2);tr.MONO=new tr(3);tr.NOT_SET=new tr(4);var As=tr,L0,ed;function $t(){if(ed)return L0;ed=1;var e=ct,t=e.System,n=e.VbrMode;e.Float,e.ShortBlock,e.Util,e.Arrays;var r=e.new_array_n;e.new_byte,e.new_double;var i=e.new_float,a=e.new_float_n,s=e.new_int;e.new_int_n;var l=e.assert;f.ENCDELAY=576,f.POSTDELAY=1152,f.MDCTDELAY=48,f.FFTOFFSET=224+f.MDCTDELAY,f.DECDELAY=528,f.SBLIMIT=32,f.CBANDS=64,f.SBPSY_l=21,f.SBPSY_s=12,f.SBMAX_l=22,f.SBMAX_s=13,f.PSFB21=6,f.PSFB12=6,f.BLKSIZE=1024,f.HBLKSIZE=f.BLKSIZE/2+1,f.BLKSIZE_s=256,f.HBLKSIZE_s=f.BLKSIZE_s/2+1,f.NORM_TYPE=0,f.START_TYPE=1,f.SHORT_TYPE=2,f.STOP_TYPE=3,f.MPG_MD_LR_LR=0,f.MPG_MD_LR_I=1,f.MPG_MD_MS_LR=2,f.MPG_MD_MS_I=3,f.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function f(){var A=uv(),c=cv(),d=As,b=f.FFTOFFSET,z=f.MPG_MD_MS_LR,C=null;this.psy=null;var V=null,Y=null,v=null;this.setModules=function(S,k,j,$){C=S,this.psy=k,V=k,Y=$,v=j};var u=new A;function m(S){var k,j;if(S.ATH.useAdjust==0){S.ATH.adjust=1;return}if(j=S.loudness_sq[0][0],k=S.loudness_sq[1][0],S.channels_out==2?(j+=S.loudness_sq[0][1],k+=S.loudness_sq[1][1]):(j+=j,k+=k),S.mode_gr==2&&(j=Math.max(j,k)),j*=.5,j*=S.ATH.aaSensitivityP,j>.03125)S.ATH.adjust>=1?S.ATH.adjust=1:S.ATH.adjust<S.ATH.adjustLimit&&(S.ATH.adjust=S.ATH.adjustLimit),S.ATH.adjustLimit=1;else{var $=31.98*j+625e-6;S.ATH.adjust>=$?(S.ATH.adjust*=$*.075+.925,S.ATH.adjust<$&&(S.ATH.adjust=$)):S.ATH.adjustLimit>=$?S.ATH.adjust=$:S.ATH.adjust<S.ATH.adjustLimit&&(S.ATH.adjust=S.ATH.adjustLimit),S.ATH.adjustLimit=$}}function R(S){var k,j;for(l(0<=S.bitrate_index&&S.bitrate_index<16),l(0<=S.mode_ext&&S.mode_ext<4),S.bitrate_stereoMode_Hist[S.bitrate_index][4]++,S.bitrate_stereoMode_Hist[15][4]++,S.channels_out==2&&(S.bitrate_stereoMode_Hist[S.bitrate_index][S.mode_ext]++,S.bitrate_stereoMode_Hist[15][S.mode_ext]++),k=0;k<S.mode_gr;++k)for(j=0;j<S.channels_out;++j){var $=S.l3_side.tt[k][j].block_type|0;S.l3_side.tt[k][j].mixed_block_flag!=0&&($=4),S.bitrate_blockType_Hist[S.bitrate_index][$]++,S.bitrate_blockType_Hist[S.bitrate_index][5]++,S.bitrate_blockType_Hist[15][$]++,S.bitrate_blockType_Hist[15][5]++}}function o(S,k){var j=S.internal_flags,$,H;if(j.lame_encode_frame_init==0){var Z,re,N=i(2014),y=i(2014);for(j.lame_encode_frame_init=1,Z=0,re=0;Z<286+576*(1+j.mode_gr);++Z)Z<576*j.mode_gr?(N[Z]=0,j.channels_out==2&&(y[Z]=0)):(N[Z]=k[0][re],j.channels_out==2&&(y[Z]=k[1][re]),++re);for(H=0;H<j.mode_gr;H++)for($=0;$<j.channels_out;$++)j.l3_side.tt[H][$].block_type=f.SHORT_TYPE;u.mdct_sub48(j,N,y),l(576>=f.FFTOFFSET),l(j.mf_size>=f.BLKSIZE+S.framesize-f.FFTOFFSET),l(j.mf_size>=512+S.framesize-32)}}this.lame_encode_mp3_frame=function(S,k,j,$,H,Z){var re,N=r([2,2]);N[0][0]=new c,N[0][1]=new c,N[1][0]=new c,N[1][1]=new c;var y=r([2,2]);y[0][0]=new c,y[0][1]=new c,y[1][0]=new c,y[1][1]=new c;var P,D=[null,null],W=S.internal_flags,L=a([2,4]),x=[.5,.5],w=[[0,0],[0,0]],E=[[0,0],[0,0]],_,p,h;if(D[0]=k,D[1]=j,W.lame_encode_frame_init==0&&o(S,D),W.padding=0,(W.slot_lag-=W.frac_SpF)<0&&(W.slot_lag+=S.out_samplerate,W.padding=1),W.psymodel!=0){var T,G=[null,null],te=0,q=s(2);for(h=0;h<W.mode_gr;h++){for(p=0;p<W.channels_out;p++)G[p]=D[p],te=576+h*576-f.FFTOFFSET;if(S.VBR==n.vbr_mtrh||S.VBR==n.vbr_mt?T=V.L3psycho_anal_vbr(S,G,te,h,N,y,w[h],E[h],L[h],q):T=V.L3psycho_anal_ns(S,G,te,h,N,y,w[h],E[h],L[h],q),T!=0)return-4;for(S.mode==d.JOINT_STEREO&&(x[h]=L[h][2]+L[h][3],x[h]>0&&(x[h]=L[h][3]/x[h])),p=0;p<W.channels_out;p++){var U=W.l3_side.tt[h][p];U.block_type=q[p],U.mixed_block_flag=0}}}else for(h=0;h<W.mode_gr;h++)for(p=0;p<W.channels_out;p++)W.l3_side.tt[h][p].block_type=f.NORM_TYPE,W.l3_side.tt[h][p].mixed_block_flag=0,E[h][p]=w[h][p]=700;if(m(W),u.mdct_sub48(W,D[0],D[1]),W.mode_ext=f.MPG_MD_LR_LR,S.force_ms)W.mode_ext=f.MPG_MD_MS_LR;else if(S.mode==d.JOINT_STEREO){var ee=0,ae=0;for(h=0;h<W.mode_gr;h++)for(p=0;p<W.channels_out;p++)ee+=E[h][p],ae+=w[h][p];if(ee<=1*ae){var me=W.l3_side.tt[0],Me=W.l3_side.tt[W.mode_gr-1];me[0].block_type==me[1].block_type&&Me[0].block_type==Me[1].block_type&&(W.mode_ext=f.MPG_MD_MS_LR)}}if(W.mode_ext==z?(P=y,_=E):(P=N,_=w),S.analysis&&W.pinfo!=null)for(h=0;h<W.mode_gr;h++)for(p=0;p<W.channels_out;p++)W.pinfo.ms_ratio[h]=W.ms_ratio[h],W.pinfo.ms_ener_ratio[h]=x[h],W.pinfo.blocktype[h][p]=W.l3_side.tt[h][p].block_type,W.pinfo.pe[h][p]=_[h][p],t.arraycopy(W.l3_side.tt[h][p].xr,0,W.pinfo.xr[h][p],0,576),W.mode_ext==z&&(W.pinfo.ers[h][p]=W.pinfo.ers[h][p+2],t.arraycopy(W.pinfo.energy[h][p+2],0,W.pinfo.energy[h][p],0,W.pinfo.energy[h][p].length));if(S.VBR==n.vbr_off||S.VBR==n.vbr_abr){var xe,ge;for(xe=0;xe<18;xe++)W.nsPsy.pefirbuf[xe]=W.nsPsy.pefirbuf[xe+1];for(ge=0,h=0;h<W.mode_gr;h++)for(p=0;p<W.channels_out;p++)ge+=_[h][p];for(W.nsPsy.pefirbuf[18]=ge,ge=W.nsPsy.pefirbuf[9],xe=0;xe<9;xe++)ge+=(W.nsPsy.pefirbuf[xe]+W.nsPsy.pefirbuf[18-xe])*f.fircoef[xe];for(ge=670*5*W.mode_gr*W.channels_out/ge,h=0;h<W.mode_gr;h++)for(p=0;p<W.channels_out;p++)_[h][p]*=ge}if(W.iteration_loop.iteration_loop(S,_,x,P),C.format_bitstream(S),re=C.copy_buffer(W,$,H,Z,1),S.bWriteVbrTag&&Y.addVbrFrame(S),S.analysis&&W.pinfo!=null){for(p=0;p<W.channels_out;p++){var Be;for(Be=0;Be<b;Be++)W.pinfo.pcmdata[p][Be]=W.pinfo.pcmdata[p][Be+S.framesize];for(Be=b;Be<1600;Be++)W.pinfo.pcmdata[p][Be]=D[p][Be-b]}v.set_frame_pinfo(S,P)}return R(W),re}}return L0=f,L0}var rn=ct;rn.System;rn.VbrMode;rn.Float;rn.ShortBlock;var td=rn.Util;rn.Arrays;rn.new_array_n;rn.new_byte;rn.new_double;var nd=rn.new_float;rn.new_float_n;rn.new_int;rn.new_int_n;rn.assert;var St=$t();function fv(){var e=nd(St.BLKSIZE),t=nd(St.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(a,s,l){var f=0,A,c,d;l<<=1;var b=s+l;A=4;do{var z,C,V,Y,v,u,m;m=A>>1,Y=A,v=A<<1,u=v+Y,A=v<<1,c=s,d=c+m;do{var R,o,S,k;o=a[c+0]-a[c+Y],R=a[c+0]+a[c+Y],k=a[c+v]-a[c+u],S=a[c+v]+a[c+u],a[c+v]=R-S,a[c+0]=R+S,a[c+u]=o-k,a[c+Y]=o+k,o=a[d+0]-a[d+Y],R=a[d+0]+a[d+Y],k=td.SQRT2*a[d+u],S=td.SQRT2*a[d+v],a[d+v]=R-S,a[d+0]=R+S,a[d+u]=o-k,a[d+Y]=o+k,d+=A,c+=A}while(c<b);for(C=n[f+0],z=n[f+1],V=1;V<m;V++){var j,$;j=1-2*z*z,$=2*z*C,c=s+V,d=s+Y-V;do{var H,Z,re,R,o,N,S,y,k,P;Z=$*a[c+Y]-j*a[d+Y],H=j*a[c+Y]+$*a[d+Y],o=a[c+0]-H,R=a[c+0]+H,N=a[d+0]-Z,re=a[d+0]+Z,Z=$*a[c+u]-j*a[d+u],H=j*a[c+u]+$*a[d+u],k=a[c+v]-H,S=a[c+v]+H,P=a[d+v]-Z,y=a[d+v]+Z,Z=z*S-C*P,H=C*S+z*P,a[c+v]=R-H,a[c+0]=R+H,a[d+u]=N-Z,a[d+Y]=N+Z,Z=C*y-z*k,H=z*y+C*k,a[d+v]=re-H,a[d+0]=re+H,a[c+u]=o-Z,a[c+Y]=o+Z,d+=A,c+=A}while(c<b);j=C,C=j*n[f+0]-z*n[f+1],z=j*n[f+1]+z*n[f+0]}f+=2}while(A<l)}var i=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(a,s,l,f,A){for(var c=0;c<3;c++){var d=St.BLKSIZE_s/2,b=65535&576/3*(c+1),z=St.BLKSIZE_s/8-1;do{var C,V,Y,v,u,m=i[z<<2]&255;C=t[m]*f[l][A+m+b],u=t[127-m]*f[l][A+m+b+128],V=C-u,C=C+u,Y=t[m+64]*f[l][A+m+b+64],u=t[63-m]*f[l][A+m+b+192],v=Y-u,Y=Y+u,d-=4,s[c][d+0]=C+Y,s[c][d+2]=C-Y,s[c][d+1]=V+v,s[c][d+3]=V-v,C=t[m+1]*f[l][A+m+b+1],u=t[126-m]*f[l][A+m+b+129],V=C-u,C=C+u,Y=t[m+65]*f[l][A+m+b+65],u=t[62-m]*f[l][A+m+b+193],v=Y-u,Y=Y+u,s[c][d+St.BLKSIZE_s/2+0]=C+Y,s[c][d+St.BLKSIZE_s/2+2]=C-Y,s[c][d+St.BLKSIZE_s/2+1]=V+v,s[c][d+St.BLKSIZE_s/2+3]=V-v}while(--z>=0);r(s[c],d,St.BLKSIZE_s/2)}},this.fft_long=function(a,s,l,f,A){var c=St.BLKSIZE/8-1,d=St.BLKSIZE/2;do{var b,z,C,V,Y,v=i[c]&255;b=e[v]*f[l][A+v],Y=e[v+512]*f[l][A+v+512],z=b-Y,b=b+Y,C=e[v+256]*f[l][A+v+256],Y=e[v+768]*f[l][A+v+768],V=C-Y,C=C+Y,d-=4,s[d+0]=b+C,s[d+2]=b-C,s[d+1]=z+V,s[d+3]=z-V,b=e[v+1]*f[l][A+v+1],Y=e[v+513]*f[l][A+v+513],z=b-Y,b=b+Y,C=e[v+257]*f[l][A+v+257],Y=e[v+769]*f[l][A+v+769],V=C-Y,C=C+Y,s[d+St.BLKSIZE/2+0]=b+C,s[d+St.BLKSIZE/2+2]=b-C,s[d+St.BLKSIZE/2+1]=z+V,s[d+St.BLKSIZE/2+3]=z-V}while(--c>=0);r(s,d,St.BLKSIZE/2)},this.init_fft=function(a){for(var s=0;s<St.BLKSIZE;s++)e[s]=.42-.5*Math.cos(2*Math.PI*(s+.5)/St.BLKSIZE)+.08*Math.cos(4*Math.PI*(s+.5)/St.BLKSIZE);for(var s=0;s<St.BLKSIZE_s/2;s++)t[s]=.5*(1-Math.cos(2*Math.PI*(s+.5)/St.BLKSIZE_s))}}var dv=fv,an=ct;an.System;var Ri=an.VbrMode,rd=an.Float,bi=an.ShortBlock,Wt=an.Util,hv=an.Arrays;an.new_array_n;an.new_byte;an.new_double;var Et=an.new_float,Cn=an.new_float_n,Jr=an.new_int;an.new_int_n;var be=an.assert,_v=dv,ue=$t();function mv(){var e=As,t=new _v,n=2.302585092994046,r=2,i=16,a=2,s=16,l=.34,f=1/(14752*14752)/(ue.BLKSIZE/2),A=.01,c=.8,d=.6,b=.3,z=3.5,C=21,V=.2302585093;function Y(B){return B}function v(B,I){for(var O=0,X=0;X<ue.BLKSIZE/2;++X)O+=B[X]*I.ATH.eql_w[X];return O*=f,O}function u(B,I,O,X,Q,F,K,ne,J,se,ie){var le=B.internal_flags;if(J<2)t.fft_long(le,X[Q],J,se,ie),t.fft_short(le,F[K],J,se,ie);else if(J==2){for(var ye=ue.BLKSIZE-1;ye>=0;--ye){var Le=X[Q+0][ye],fe=X[Q+1][ye];X[Q+0][ye]=(Le+fe)*Wt.SQRT2*.5,X[Q+1][ye]=(Le-fe)*Wt.SQRT2*.5}for(var Ie=2;Ie>=0;--Ie)for(var ye=ue.BLKSIZE_s-1;ye>=0;--ye){var Le=F[K+0][Ie][ye],fe=F[K+1][Ie][ye];F[K+0][Ie][ye]=(Le+fe)*Wt.SQRT2*.5,F[K+1][Ie][ye]=(Le-fe)*Wt.SQRT2*.5}}I[0]=X[Q+0][0],I[0]*=I[0];for(var ye=ue.BLKSIZE/2-1;ye>=0;--ye){var oe=X[Q+0][ue.BLKSIZE/2-ye],Ae=X[Q+0][ue.BLKSIZE/2+ye];I[ue.BLKSIZE/2-ye]=(oe*oe+Ae*Ae)*.5}for(var Ie=2;Ie>=0;--Ie){O[Ie][0]=F[K+0][Ie][0],O[Ie][0]*=O[Ie][0];for(var ye=ue.BLKSIZE_s/2-1;ye>=0;--ye){var oe=F[K+0][Ie][ue.BLKSIZE_s/2-ye],Ae=F[K+0][Ie][ue.BLKSIZE_s/2+ye];O[Ie][ue.BLKSIZE_s/2-ye]=(oe*oe+Ae*Ae)*.5}}{for(var $e=0,ye=11;ye<ue.HBLKSIZE;ye++)$e+=I[ye];le.tot_ener[J]=$e}if(B.analysis){for(var ye=0;ye<ue.HBLKSIZE;ye++)le.pinfo.energy[ne][J][ye]=le.pinfo.energy_save[J][ye],le.pinfo.energy_save[J][ye]=I[ye];le.pinfo.pe[ne][J]=le.pe[J]}B.athaa_loudapprox==2&&J<2&&(le.loudness_sq[ne][J]=le.loudness_sq_save[J],le.loudness_sq_save[J]=v(I,le))}var m=8,R=23,o=15,S,k,j,$=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function H(){S=Math.pow(10,(m+1)/16),k=Math.pow(10,(R+1)/16),j=Math.pow(10,o/10)}var Z=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],re=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],N=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function y(B,I,O,X,Q,F){var K;if(I>B)if(I<B*k)K=I/B;else return B+I;else{if(B>=I*k)return B+I;K=B/I}if(be(B>=0),be(I>=0),B+=I,X+3<=6){if(K>=S)return B;var ne=0|Wt.FAST_LOG10_X(K,16);return B*re[ne]}var ne=0|Wt.FAST_LOG10_X(K,16);if(F!=0?I=Q.ATH.cb_s[O]*Q.ATH.adjust:I=Q.ATH.cb_l[O]*Q.ATH.adjust,be(I>=0),B<j*I){if(B>I){var J,se;return J=1,ne<=13&&(J=N[ne]),se=Wt.FAST_LOG10_X(B/I,10/15),B*((Z[ne]-J)*se+J)}return ne>13?B:B*N[ne]}return B*Z[ne]}var P=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function D(B,I,O){var X;if(B<0&&(B=0),I<0&&(I=0),B<=0)return I;if(I<=0)return B;if(I>B?X=I/B:X=B/I,-2<=O&&O<=2){if(X>=S)return B+I;var Q=0|Wt.FAST_LOG10_X(X,16);return(B+I)*P[Q]}return X<k?B+I:(B<I&&(B=I),B)}function W(B,I){var O=B.internal_flags;if(O.channels_out>1){for(var X=0;X<ue.SBMAX_l;X++){var Q=O.thm[0].l[X],F=O.thm[1].l[X];O.thm[0].l[X]+=F*I,O.thm[1].l[X]+=Q*I}for(var X=0;X<ue.SBMAX_s;X++)for(var K=0;K<3;K++){var Q=O.thm[0].s[X][K],F=O.thm[1].s[X][K];O.thm[0].s[X][K]+=F*I,O.thm[1].s[X][K]+=Q*I}}}function L(B){for(var I=0;I<ue.SBMAX_l;I++)if(!(B.thm[0].l[I]>1.58*B.thm[1].l[I]||B.thm[1].l[I]>1.58*B.thm[0].l[I])){var O=B.mld_l[I]*B.en[3].l[I],X=Math.max(B.thm[2].l[I],Math.min(B.thm[3].l[I],O));O=B.mld_l[I]*B.en[2].l[I];var Q=Math.max(B.thm[3].l[I],Math.min(B.thm[2].l[I],O));B.thm[2].l[I]=X,B.thm[3].l[I]=Q}for(var I=0;I<ue.SBMAX_s;I++)for(var F=0;F<3;F++)if(!(B.thm[0].s[I][F]>1.58*B.thm[1].s[I][F]||B.thm[1].s[I][F]>1.58*B.thm[0].s[I][F])){var O=B.mld_s[I]*B.en[3].s[I][F],X=Math.max(B.thm[2].s[I][F],Math.min(B.thm[3].s[I][F],O));O=B.mld_s[I]*B.en[2].s[I][F];var Q=Math.max(B.thm[3].s[I][F],Math.min(B.thm[2].s[I][F],O));B.thm[2].s[I][F]=X,B.thm[3].s[I][F]=Q}}function x(B,I,O){var X=I,Q=Math.pow(10,O);I*=2,X*=2;for(var F=0;F<ue.SBMAX_l;F++){var K,ne,J,se;if(se=B.ATH.cb_l[B.bm_l[F]]*Q,K=Math.min(Math.max(B.thm[0].l[F],se),Math.max(B.thm[1].l[F],se)),ne=Math.max(B.thm[2].l[F],se),J=Math.max(B.thm[3].l[F],se),K*I<ne+J){var ie=K*X/(ne+J);ne*=ie,J*=ie,be(ne+J>0)}B.thm[2].l[F]=Math.min(ne,B.thm[2].l[F]),B.thm[3].l[F]=Math.min(J,B.thm[3].l[F])}Q*=ue.BLKSIZE_s/ue.BLKSIZE;for(var F=0;F<ue.SBMAX_s;F++)for(var le=0;le<3;le++){var K,ne,J,se;if(se=B.ATH.cb_s[B.bm_s[F]]*Q,K=Math.min(Math.max(B.thm[0].s[F][le],se),Math.max(B.thm[1].s[F][le],se)),ne=Math.max(B.thm[2].s[F][le],se),J=Math.max(B.thm[3].s[F][le],se),K*I<ne+J){var ie=K*I/(ne+J);ne*=ie,J*=ie,be(ne+J>0)}B.thm[2].s[F][le]=Math.min(B.thm[2].s[F][le],ne),B.thm[3].s[F][le]=Math.min(B.thm[3].s[F][le],J)}}function w(B,I,O,X,Q){var F,K,ne=0,J=0;for(F=K=0;F<ue.SBMAX_s;++K,++F){for(var se=B.bo_s[F],ie=B.npart_s,le=se<ie?se:ie;K<le;)be(I[K]>=0),be(O[K]>=0),ne+=I[K],J+=O[K],K++;if(B.en[X].s[F][Q]=ne,B.thm[X].s[F][Q]=J,K>=ie){++F;break}be(I[K]>=0),be(O[K]>=0);{var ye=B.PSY.bo_s_weight[F],Le=1-ye;ne=ye*I[K],J=ye*O[K],B.en[X].s[F][Q]+=ne,B.thm[X].s[F][Q]+=J,ne=Le*I[K],J=Le*O[K]}}for(;F<ue.SBMAX_s;++F)B.en[X].s[F][Q]=0,B.thm[X].s[F][Q]=0}function E(B,I,O,X){var Q,F,K=0,ne=0;for(Q=F=0;Q<ue.SBMAX_l;++F,++Q){for(var J=B.bo_l[Q],se=B.npart_l,ie=J<se?J:se;F<ie;)be(I[F]>=0),be(O[F]>=0),K+=I[F],ne+=O[F],F++;if(B.en[X].l[Q]=K,B.thm[X].l[Q]=ne,F>=se){++Q;break}be(I[F]>=0),be(O[F]>=0);{var le=B.PSY.bo_l_weight[Q],ye=1-le;K=le*I[F],ne=le*O[F],B.en[X].l[Q]+=K,B.thm[X].l[Q]+=ne,K=ye*I[F],ne=ye*O[F]}}for(;Q<ue.SBMAX_l;++Q)B.en[X].l[Q]=0,B.thm[X].l[Q]=0}function _(B,I,O,X,Q,F){var K=B.internal_flags,ne,J;for(J=ne=0;J<K.npart_s;++J){for(var se=0,ie=K.numlines_s[J],le=0;le<ie;++le,++ne){var ye=I[F][ne];se+=ye}O[J]=se}for(be(J==K.npart_s),be(ne==129),ne=J=0;J<K.npart_s;J++){var Le=K.s3ind_s[J][0],fe=K.s3_ss[ne++]*O[Le];for(++Le;Le<=K.s3ind_s[J][1];)fe+=K.s3_ss[ne]*O[Le],++ne,++Le;{var Ie=a*K.nb_s1[Q][J];X[J]=Math.min(fe,Ie)}if(K.blocktype_old[Q&1]==ue.SHORT_TYPE){var Ie=s*K.nb_s2[Q][J],oe=X[J];X[J]=Math.min(Ie,oe)}K.nb_s2[Q][J]=K.nb_s1[Q][J],K.nb_s1[Q][J]=fe,be(X[J]>=0)}for(;J<=ue.CBANDS;++J)O[J]=0,X[J]=0}function p(B,I,O,X){var Q=B.internal_flags;B.short_blocks==bi.short_block_coupled&&!(I[0]!=0&&I[1]!=0)&&(I[0]=I[1]=0);for(var F=0;F<Q.channels_out;F++)X[F]=ue.NORM_TYPE,B.short_blocks==bi.short_block_dispensed&&(I[F]=1),B.short_blocks==bi.short_block_forced&&(I[F]=0),I[F]!=0?(be(Q.blocktype_old[F]!=ue.START_TYPE),Q.blocktype_old[F]==ue.SHORT_TYPE&&(X[F]=ue.STOP_TYPE)):(X[F]=ue.SHORT_TYPE,Q.blocktype_old[F]==ue.NORM_TYPE&&(Q.blocktype_old[F]=ue.START_TYPE),Q.blocktype_old[F]==ue.STOP_TYPE&&(Q.blocktype_old[F]=ue.SHORT_TYPE)),O[F]=Q.blocktype_old[F],Q.blocktype_old[F]=X[F]}function h(B,I,O){return O>=1?B:O<=0?I:I>0?Math.pow(B/I,O)*I:0}var T=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function G(B,I){for(var O=309.07,X=0;X<ue.SBMAX_s-1;X++)for(var Q=0;Q<3;Q++){var F=B.thm.s[X][Q];if(be(X<T.length),F>0){var K=F*I,ne=B.en.s[X][Q];ne>K&&(ne>K*1e10?O+=T[X]*(10*n):(be(K>0),O+=T[X]*Wt.FAST_LOG10(ne/K)))}}return O}var te=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function q(B,I){for(var O=281.0575,X=0;X<ue.SBMAX_l-1;X++){var Q=B.thm.l[X];if(be(X<te.length),Q>0){var F=Q*I,K=B.en.l[X];K>F&&(K>F*1e10?O+=te[X]*(10*n):(be(F>0),O+=te[X]*Wt.FAST_LOG10(K/F)))}}return O}function U(B,I,O,X,Q){var F,K;for(F=K=0;F<B.npart_l;++F){var ne=0,J=0,se;for(se=0;se<B.numlines_l[F];++se,++K){var ie=I[K];be(ie>=0),ne+=ie,J<ie&&(J=ie)}O[F]=ne,X[F]=J,Q[F]=ne*B.rnumlines_l[F],be(B.rnumlines_l[F]>=0),be(ne>=0),be(O[F]>=0),be(X[F]>=0),be(Q[F]>=0)}}function ee(B,I,O,X){var Q=$.length-1,F=0,K=O[F]+O[F+1];if(be(K>=0),K>0){var ne=I[F];ne<I[F+1]&&(ne=I[F+1]),be(B.numlines_l[F]+B.numlines_l[F+1]-1>0),K=20*(ne*2-K)/(K*(B.numlines_l[F]+B.numlines_l[F+1]-1));var J=0|K;J>Q&&(J=Q),X[F]=J}else X[F]=0;for(F=1;F<B.npart_l-1;F++)if(K=O[F-1]+O[F]+O[F+1],be(K>=0),K>0){var ne=I[F-1];ne<I[F]&&(ne=I[F]),ne<I[F+1]&&(ne=I[F+1]),be(B.numlines_l[F-1]+B.numlines_l[F]+B.numlines_l[F+1]-1>0),K=20*(ne*3-K)/(K*(B.numlines_l[F-1]+B.numlines_l[F]+B.numlines_l[F+1]-1));var J=0|K;J>Q&&(J=Q),X[F]=J}else X[F]=0;if(be(F>0),be(F==B.npart_l-1),K=O[F-1]+O[F],be(K>=0),K>0){var ne=I[F-1];ne<I[F]&&(ne=I[F]),be(B.numlines_l[F-1]+B.numlines_l[F]-1>0),K=20*(ne*2-K)/(K*(B.numlines_l[F-1]+B.numlines_l[F]-1));var J=0|K;J>Q&&(J=Q),X[F]=J}else X[F]=0;be(F==B.npart_l-1)}var ae=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(B,I,O,X,Q,F,K,ne,J,se){var ie=B.internal_flags,le=Cn([2,ue.BLKSIZE]),ye=Cn([2,3,ue.BLKSIZE_s]),Le=Et(ue.CBANDS+1),fe=Et(ue.CBANDS+1),Ie=Et(ue.CBANDS+2),oe=Jr(2),Ae=Jr(2),$e,he,Ce,de,Fe,tt,Ee,He,Ue=Cn([2,576]),ot,wn=Jr(ue.CBANDS+2),wt=Jr(ue.CBANDS+2);for(hv.fill(wt,0),$e=ie.channels_out,B.mode==e.JOINT_STEREO&&($e=4),B.VBR==Ri.vbr_off?ot=ie.ResvMax==0?0:ie.ResvSize/ie.ResvMax*.5:B.VBR==Ri.vbr_rh||B.VBR==Ri.vbr_mtrh||B.VBR==Ri.vbr_mt?ot=.6:ot=1,he=0;he<ie.channels_out;he++){var rt=I[he],Yt=O+576-350-C+192;for(be(ae.length==(C-1)/2),de=0;de<576;de++){var Sn,gn;for(Sn=rt[Yt+de+10],gn=0,Fe=0;Fe<(C-1)/2-1;Fe+=2)Sn+=ae[Fe]*(rt[Yt+de+Fe]+rt[Yt+de+C-Fe]),gn+=ae[Fe+1]*(rt[Yt+de+Fe+1]+rt[Yt+de+C-Fe-1]);Ue[he][de]=Sn+gn}Q[X][he].en.assign(ie.en[he]),Q[X][he].thm.assign(ie.thm[he]),$e>2&&(F[X][he].en.assign(ie.en[he+2]),F[X][he].thm.assign(ie.thm[he+2]))}for(he=0;he<$e;he++){var jn,Hn,Lt=Et(12),rr=[0,0,0,0],Ei=Et(12),Zl=1,Ic,Oc=Et(ue.CBANDS),Lc=Et(ue.CBANDS),lt=[0,0,0,0],Pc=Et(ue.HBLKSIZE),Fc=Cn([3,ue.HBLKSIZE_s]);for(be(ie.npart_s<=ue.CBANDS),be(ie.npart_l<=ue.CBANDS),de=0;de<3;de++)Lt[de]=ie.nsPsy.last_en_subshort[he][de+6],be(ie.nsPsy.last_en_subshort[he][de+4]>0),Ei[de]=Lt[de]/ie.nsPsy.last_en_subshort[he][de+4],rr[0]+=Lt[de];if(he==2)for(de=0;de<576;de++){var Jl,e0;Jl=Ue[0][de],e0=Ue[1][de],Ue[0][de]=Jl+e0,Ue[1][de]=Jl-e0}{var Dc=Ue[he&1],fa=0;for(de=0;de<9;de++){for(var Am=fa+64,bt=1;fa<Am;fa++)bt<Math.abs(Dc[fa])&&(bt=Math.abs(Dc[fa]));ie.nsPsy.last_en_subshort[he][de]=Lt[de+3]=bt,rr[1+de/3]+=bt,bt>Lt[de+3-2]?(be(Lt[de+3-2]>0),bt=bt/Lt[de+3-2]):Lt[de+3-2]>bt*10?(be(bt>0),bt=Lt[de+3-2]/(bt*10)):bt=0,Ei[de+3]=bt}}if(B.analysis){var t0=Ei[0];for(de=1;de<12;de++)t0<Ei[de]&&(t0=Ei[de]);ie.pinfo.ers[X][he]=ie.pinfo.ers_save[he],ie.pinfo.ers_save[he]=t0}for(Ic=he==3?ie.nsPsy.attackthre_s:ie.nsPsy.attackthre,de=0;de<12;de++)lt[de/3]==0&&Ei[de]>Ic&&(lt[de/3]=de%3+1);for(de=1;de<4;de++){var n0;rr[de-1]>rr[de]?(be(rr[de]>0),n0=rr[de-1]/rr[de]):(be(rr[de-1]>0),n0=rr[de]/rr[de-1]),n0<1.7&&(lt[de]=0,de==1&&(lt[0]=0))}for(lt[0]!=0&&ie.nsPsy.lastAttacks[he]!=0&&(lt[0]=0),(ie.nsPsy.lastAttacks[he]==3||lt[0]+lt[1]+lt[2]+lt[3]!=0)&&(Zl=0,lt[1]!=0&&lt[0]!=0&&(lt[1]=0),lt[2]!=0&&lt[1]!=0&&(lt[2]=0),lt[3]!=0&&lt[2]!=0&&(lt[3]=0)),he<2?Ae[he]=Zl:Zl==0&&(Ae[0]=Ae[1]=0),J[he]=ie.tot_ener[he],Hn=ye,jn=le,u(B,Pc,Fc,jn,he&1,Hn,he&1,X,he,I,O),U(ie,Pc,Le,Oc,Lc),ee(ie,Oc,Lc,wn),He=0;He<3;He++){var r0,Gt;for(_(B,Fc,fe,Ie,he,He),w(ie,fe,Ie,he,He),Ee=0;Ee<ue.SBMAX_s;Ee++){if(Gt=ie.thm[he].s[Ee][He],Gt*=c,lt[He]>=2||lt[He+1]==1){var da=He!=0?He-1:2,bt=h(ie.thm[he].s[Ee][da],Gt,d*ot);Gt=Math.min(Gt,bt)}if(lt[He]==1){var da=He!=0?He-1:2,bt=h(ie.thm[he].s[Ee][da],Gt,b*ot);Gt=Math.min(Gt,bt)}else if(He!=0&&lt[He-1]==3||He==0&&ie.nsPsy.lastAttacks[he]==3){var da=He!=2?He+1:0,bt=h(ie.thm[he].s[Ee][da],Gt,b*ot);Gt=Math.min(Gt,bt)}r0=Lt[He*3+3]+Lt[He*3+4]+Lt[He*3+5],Lt[He*3+5]*6<r0&&(Gt*=.5,Lt[He*3+4]*6<r0&&(Gt*=.5)),ie.thm[he].s[Ee][He]=Gt}}for(ie.nsPsy.lastAttacks[he]=lt[2],tt=0,Ce=0;Ce<ie.npart_l;Ce++){for(var Qr=ie.s3ind[Ce][0],i0=Le[Qr]*$[wn[Qr]],Zr=ie.s3_ll[tt++]*i0;++Qr<=ie.s3ind[Ce][1];)i0=Le[Qr]*$[wn[Qr]],Zr=y(Zr,ie.s3_ll[tt++]*i0,Qr,Qr-Ce,ie,0);Zr*=.158489319246111,ie.blocktype_old[he&1]==ue.SHORT_TYPE?Ie[Ce]=Zr:Ie[Ce]=h(Math.min(Zr,Math.min(r*ie.nb_1[he][Ce],i*ie.nb_2[he][Ce])),Zr,ot),ie.nb_2[he][Ce]=ie.nb_1[he][Ce],ie.nb_1[he][Ce]=Zr}for(;Ce<=ue.CBANDS;++Ce)Le[Ce]=0,Ie[Ce]=0;E(ie,Le,Ie,he)}if((B.mode==e.STEREO||B.mode==e.JOINT_STEREO)&&B.interChRatio>0&&W(B,B.interChRatio),B.mode==e.JOINT_STEREO){var a0;L(ie),a0=B.msfix,Math.abs(a0)>0&&x(ie,a0,B.ATHlower*ie.ATH.adjust)}for(p(B,Ae,se,oe),he=0;he<$e;he++){var ha,_a=0,ks,Cs;he>1?(ha=ne,_a=-2,ks=ue.NORM_TYPE,(se[0]==ue.SHORT_TYPE||se[1]==ue.SHORT_TYPE)&&(ks=ue.SHORT_TYPE),Cs=F[X][he-2]):(ha=K,_a=0,ks=se[he],Cs=Q[X][he]),ks==ue.SHORT_TYPE?ha[_a+he]=G(Cs,ie.masking_lower):ha[_a+he]=q(Cs,ie.masking_lower),B.analysis&&(ie.pinfo.pe[X][he]=ha[_a+he])}return 0};function me(B,I,O,X,Q,F,K,ne){var J=B.internal_flags;if(X<2)t.fft_long(J,K[ne],X,I,O);else if(X==2)for(var se=ue.BLKSIZE-1;se>=0;--se){var ie=K[ne+0][se],le=K[ne+1][se];K[ne+0][se]=(ie+le)*Wt.SQRT2*.5,K[ne+1][se]=(ie-le)*Wt.SQRT2*.5}F[0]=K[ne+0][0],F[0]*=F[0];for(var se=ue.BLKSIZE/2-1;se>=0;--se){var ye=K[ne+0][ue.BLKSIZE/2-se],Le=K[ne+0][ue.BLKSIZE/2+se];F[ue.BLKSIZE/2-se]=(ye*ye+Le*Le)*.5}{for(var fe=0,se=11;se<ue.HBLKSIZE;se++)fe+=F[se];J.tot_ener[X]=fe}if(B.analysis){for(var se=0;se<ue.HBLKSIZE;se++)J.pinfo.energy[Q][X][se]=J.pinfo.energy_save[X][se],J.pinfo.energy_save[X][se]=F[se];J.pinfo.pe[Q][X]=J.pe[X]}}function Me(B,I,O,X,Q,F,K,ne){var J=B.internal_flags;if(Q==0&&X<2&&t.fft_short(J,K[ne],X,I,O),X==2)for(var se=ue.BLKSIZE_s-1;se>=0;--se){var ie=K[ne+0][Q][se],le=K[ne+1][Q][se];K[ne+0][Q][se]=(ie+le)*Wt.SQRT2*.5,K[ne+1][Q][se]=(ie-le)*Wt.SQRT2*.5}F[Q][0]=K[ne+0][Q][0],F[Q][0]*=F[Q][0];for(var se=ue.BLKSIZE_s/2-1;se>=0;--se){var ye=K[ne+0][Q][ue.BLKSIZE_s/2-se],Le=K[ne+0][Q][ue.BLKSIZE_s/2+se];F[Q][ue.BLKSIZE_s/2-se]=(ye*ye+Le*Le)*.5}}function xe(B,I,O,X){var Q=B.internal_flags;B.athaa_loudapprox==2&&O<2&&(Q.loudness_sq[I][O]=Q.loudness_sq_save[O],Q.loudness_sq_save[O]=v(X,Q))}var ge=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function Be(B,I,O,X,Q,F,K,ne,J,se){for(var ie=Cn([2,576]),le=B.internal_flags,ye=le.channels_out,Le=B.mode==e.JOINT_STEREO?4:ye,fe=0;fe<ye;fe++){firbuf=I[fe];var Ie=O+576-350-C+192;be(ge.length==(C-1)/2);for(var oe=0;oe<576;oe++){var Ae,$e;Ae=firbuf[Ie+oe+10],$e=0;for(var he=0;he<(C-1)/2-1;he+=2)Ae+=ge[he]*(firbuf[Ie+oe+he]+firbuf[Ie+oe+C-he]),$e+=ge[he+1]*(firbuf[Ie+oe+he+1]+firbuf[Ie+oe+C-he-1]);ie[fe][oe]=Ae+$e}Q[X][fe].en.assign(le.en[fe]),Q[X][fe].thm.assign(le.thm[fe]),Le>2&&(F[X][fe].en.assign(le.en[fe+2]),F[X][fe].thm.assign(le.thm[fe+2]))}for(var fe=0;fe<Le;fe++){var Ce=Et(12),de=Et(12),Fe=[0,0,0,0],tt=ie[fe&1],Ee=0,He=fe==3?le.nsPsy.attackthre_s:le.nsPsy.attackthre,Ue=1;if(fe==2)for(var oe=0,he=576;he>0;++oe,--he){var ot=ie[0][oe],wn=ie[1][oe];ie[0][oe]=ot+wn,ie[1][oe]=ot-wn}for(var oe=0;oe<3;oe++)de[oe]=le.nsPsy.last_en_subshort[fe][oe+6],be(le.nsPsy.last_en_subshort[fe][oe+4]>0),Ce[oe]=de[oe]/le.nsPsy.last_en_subshort[fe][oe+4],Fe[0]+=de[oe];for(var oe=0;oe<9;oe++){for(var wt=Ee+64,rt=1;Ee<wt;Ee++)rt<Math.abs(tt[Ee])&&(rt=Math.abs(tt[Ee]));le.nsPsy.last_en_subshort[fe][oe]=de[oe+3]=rt,Fe[1+oe/3]+=rt,rt>de[oe+3-2]?(be(de[oe+3-2]>0),rt=rt/de[oe+3-2]):de[oe+3-2]>rt*10?(be(rt>0),rt=de[oe+3-2]/(rt*10)):rt=0,Ce[oe+3]=rt}for(var oe=0;oe<3;++oe){var Yt=de[oe*3+3]+de[oe*3+4]+de[oe*3+5],Sn=1;de[oe*3+5]*6<Yt&&(Sn*=.5,de[oe*3+4]*6<Yt&&(Sn*=.5)),ne[fe][oe]=Sn}if(B.analysis){for(var gn=Ce[0],oe=1;oe<12;oe++)gn<Ce[oe]&&(gn=Ce[oe]);le.pinfo.ers[X][fe]=le.pinfo.ers_save[fe],le.pinfo.ers_save[fe]=gn}for(var oe=0;oe<12;oe++)J[fe][oe/3]==0&&Ce[oe]>He&&(J[fe][oe/3]=oe%3+1);for(var oe=1;oe<4;oe++){var jn=Fe[oe-1],Hn=Fe[oe],Lt=Math.max(jn,Hn);Lt<4e4&&jn<1.7*Hn&&Hn<1.7*jn&&(oe==1&&J[fe][0]<=J[fe][oe]&&(J[fe][0]=0),J[fe][oe]=0)}J[fe][0]<=le.nsPsy.lastAttacks[fe]&&(J[fe][0]=0),(le.nsPsy.lastAttacks[fe]==3||J[fe][0]+J[fe][1]+J[fe][2]+J[fe][3]!=0)&&(Ue=0,J[fe][1]!=0&&J[fe][0]!=0&&(J[fe][1]=0),J[fe][2]!=0&&J[fe][1]!=0&&(J[fe][2]=0),J[fe][3]!=0&&J[fe][2]!=0&&(J[fe][3]=0)),fe<2?se[fe]=Ue:Ue==0&&(se[0]=se[1]=0),K[fe]=le.tot_ener[fe]}}function Xe(B,I,O){if(O==0)for(var X=0;X<B.npart_s;X++)B.nb_s2[I][X]=B.nb_s1[I][X],B.nb_s1[I][X]=0}function dt(B,I){for(var O=0;O<B.npart_l;O++)B.nb_2[I][O]=B.nb_1[I][O],B.nb_1[I][O]=0}function g(B,I,O,X){var Q=$.length-1,F=0,K=O[F]+O[F+1];if(be(K>=0),K>0){var ne=I[F];ne<I[F+1]&&(ne=I[F+1]),be(B.numlines_s[F]+B.numlines_s[F+1]-1>0),K=20*(ne*2-K)/(K*(B.numlines_s[F]+B.numlines_s[F+1]-1));var J=0|K;J>Q&&(J=Q),X[F]=J}else X[F]=0;for(F=1;F<B.npart_s-1;F++)if(K=O[F-1]+O[F]+O[F+1],be(F+1<B.npart_s),be(K>=0),K>0){var ne=I[F-1];ne<I[F]&&(ne=I[F]),ne<I[F+1]&&(ne=I[F+1]),be(B.numlines_s[F-1]+B.numlines_s[F]+B.numlines_s[F+1]-1>0),K=20*(ne*3-K)/(K*(B.numlines_s[F-1]+B.numlines_s[F]+B.numlines_s[F+1]-1));var J=0|K;J>Q&&(J=Q),X[F]=J}else X[F]=0;if(be(F>0),be(F==B.npart_s-1),K=O[F-1]+O[F],be(K>=0),K>0){var ne=I[F-1];ne<I[F]&&(ne=I[F]),be(B.numlines_s[F-1]+B.numlines_s[F]-1>0),K=20*(ne*2-K)/(K*(B.numlines_s[F-1]+B.numlines_s[F]-1));var J=0|K;J>Q&&(J=Q),X[F]=J}else X[F]=0;be(F==B.npart_s-1)}function M(B,I,O,X,Q,F){var K=B.internal_flags,ne=new float[ue.CBANDS],J=Et(ue.CBANDS),se,ie,le,ye=new int[ue.CBANDS];for(le=ie=0;le<K.npart_s;++le){var Le=0,fe=0,Ie=K.numlines_s[le];for(se=0;se<Ie;++se,++ie){var oe=I[F][ie];Le+=oe,fe<oe&&(fe=oe)}O[le]=Le,be(Le>=0),ne[le]=fe,be(Ie>0),J[le]=Le/Ie,be(J[le]>=0)}for(be(le==K.npart_s),be(ie==129);le<ue.CBANDS;++le)ne[le]=0,J[le]=0;for(g(K,ne,J,ye),ie=le=0;le<K.npart_s;le++){var Ae=K.s3ind_s[le][0],$e=K.s3ind_s[le][1],he,Ce,de,Fe,tt;for(he=ye[Ae],Ce=1,Fe=K.s3_ss[ie]*O[Ae]*$[ye[Ae]],++ie,++Ae;Ae<=$e;)he+=ye[Ae],Ce+=1,de=K.s3_ss[ie]*O[Ae]*$[ye[Ae]],Fe=D(Fe,de,Ae-le),++ie,++Ae;he=(1+2*he)/(2*Ce),tt=$[he]*.5,Fe*=tt,X[le]=Fe,K.nb_s2[Q][le]=K.nb_s1[Q][le],K.nb_s1[Q][le]=Fe,de=ne[le],de*=K.minval_s[le],de*=tt,X[le]>de&&(X[le]=de),K.masking_lower>1&&(X[le]*=K.masking_lower),X[le]>O[le]&&(X[le]=O[le]),K.masking_lower<1&&(X[le]*=K.masking_lower),be(X[le]>=0)}for(;le<ue.CBANDS;++le)O[le]=0,X[le]=0}function we(B,I,O,X,Q){var F=Et(ue.CBANDS),K=Et(ue.CBANDS),ne=Jr(ue.CBANDS+2),J;U(B,I,O,F,K),ee(B,F,K,ne);var se=0;for(J=0;J<B.npart_l;J++){var ie,le,ye,Le,fe=B.s3ind[J][0],Ie=B.s3ind[J][1],oe=0,Ae=0;for(oe=ne[fe],Ae+=1,le=B.s3_ll[se]*O[fe]*$[ne[fe]],++se,++fe;fe<=Ie;)oe+=ne[fe],Ae+=1,ie=B.s3_ll[se]*O[fe]*$[ne[fe]],Le=D(le,ie,fe-J),le=Le,++se,++fe;if(oe=(1+2*oe)/(2*Ae),ye=$[oe]*.5,le*=ye,B.blocktype_old[Q&1]==ue.SHORT_TYPE){var $e=r*B.nb_1[Q][J];$e>0?X[J]=Math.min(le,$e):X[J]=Math.min(le,O[J]*b)}else{var he=i*B.nb_2[Q][J],Ce=r*B.nb_1[Q][J],$e;he<=0&&(he=le),Ce<=0&&(Ce=le),B.blocktype_old[Q&1]==ue.NORM_TYPE?$e=Math.min(Ce,he):$e=Ce,X[J]=Math.min(le,$e)}B.nb_2[Q][J]=B.nb_1[Q][J],B.nb_1[Q][J]=le,ie=F[J],ie*=B.minval_l[J],ie*=ye,X[J]>ie&&(X[J]=ie),B.masking_lower>1&&(X[J]*=B.masking_lower),X[J]>O[J]&&(X[J]=O[J]),B.masking_lower<1&&(X[J]*=B.masking_lower),be(X[J]>=0)}for(;J<ue.CBANDS;++J)O[J]=0,X[J]=0}function Re(B,I){var O=B.internal_flags;B.short_blocks==bi.short_block_coupled&&!(I[0]!=0&&I[1]!=0)&&(I[0]=I[1]=0);for(var X=0;X<O.channels_out;X++)B.short_blocks==bi.short_block_dispensed&&(I[X]=1),B.short_blocks==bi.short_block_forced&&(I[X]=0)}function De(B,I,O){for(var X=B.internal_flags,Q=0;Q<X.channels_out;Q++){var F=ue.NORM_TYPE;I[Q]!=0?(be(X.blocktype_old[Q]!=ue.START_TYPE),X.blocktype_old[Q]==ue.SHORT_TYPE&&(F=ue.STOP_TYPE)):(F=ue.SHORT_TYPE,X.blocktype_old[Q]==ue.NORM_TYPE&&(X.blocktype_old[Q]=ue.START_TYPE),X.blocktype_old[Q]==ue.STOP_TYPE&&(X.blocktype_old[Q]=ue.SHORT_TYPE)),O[Q]=X.blocktype_old[Q],X.blocktype_old[Q]=F}}function Pe(B,I,O,X,Q,F,K){for(var ne=F*2,J=F>0?Math.pow(10,Q):1,se,ie,le=0;le<K;++le){var ye=B[2][le],Le=B[3][le],fe=I[0][le],Ie=I[1][le],oe=I[2][le],Ae=I[3][le];if(fe<=1.58*Ie&&Ie<=1.58*fe){var $e=O[le]*Le,he=O[le]*ye;ie=Math.max(oe,Math.min(Ae,$e)),se=Math.max(Ae,Math.min(oe,he))}else ie=oe,se=Ae;if(F>0){var Ce,de,Fe=X[le]*J;if(Ce=Math.min(Math.max(fe,Fe),Math.max(Ie,Fe)),oe=Math.max(ie,Fe),Ae=Math.max(se,Fe),de=oe+Ae,de>0&&Ce*ne<de){var tt=Ce*ne/de;oe*=tt,Ae*=tt,be(de>0)}ie=Math.min(oe,ie),se=Math.min(Ae,se)}ie>ye&&(ie=ye),se>Le&&(se=Le),I[2][le]=ie,I[3][le]=se}}this.L3psycho_anal_vbr=function(B,I,O,X,Q,F,K,ne,J,se){var ie=B.internal_flags,le,ye,Le=Et(ue.HBLKSIZE),fe=Cn([3,ue.HBLKSIZE_s]),Ie=Cn([2,ue.BLKSIZE]),oe=Cn([2,3,ue.BLKSIZE_s]),Ae=Cn([4,ue.CBANDS]),$e=Cn([4,ue.CBANDS]),he=Cn([4,3]),Ce=.6,de=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Fe=Jr(2),tt=B.mode==e.JOINT_STEREO?4:ie.channels_out;Be(B,I,O,X,Q,F,J,he,de,Fe),Re(B,Fe);{for(var Ee=0;Ee<tt;Ee++){var He=Ee&1;le=Ie,me(B,I,O,Ee,X,Le,le,He),xe(B,X,Ee,Le),Fe[He]!=0?we(ie,Le,Ae[Ee],$e[Ee],Ee):dt(ie,Ee)}Fe[0]+Fe[1]==2&&B.mode==e.JOINT_STEREO&&Pe(Ae,$e,ie.mld_cb_l,ie.ATH.cb_l,B.ATHlower*ie.ATH.adjust,B.msfix,ie.npart_l);for(var Ee=0;Ee<tt;Ee++){var He=Ee&1;Fe[He]!=0&&E(ie,Ae[Ee],$e[Ee],Ee)}}{for(var Ue=0;Ue<3;Ue++){for(var Ee=0;Ee<tt;++Ee){var He=Ee&1;Fe[He]!=0?Xe(ie,Ee,Ue):(ye=oe,Me(B,I,O,Ee,Ue,fe,ye,He),M(B,fe,Ae[Ee],$e[Ee],Ee,Ue))}Fe[0]+Fe[1]==0&&B.mode==e.JOINT_STEREO&&Pe(Ae,$e,ie.mld_cb_s,ie.ATH.cb_s,B.ATHlower*ie.ATH.adjust,B.msfix,ie.npart_s);for(var Ee=0;Ee<tt;++Ee){var He=Ee&1;Fe[He]==0&&w(ie,Ae[Ee],$e[Ee],Ee,Ue)}}for(var Ee=0;Ee<tt;Ee++){var He=Ee&1;if(Fe[He]==0)for(var ot=0;ot<ue.SBMAX_s;ot++){for(var wn=Et(3),Ue=0;Ue<3;Ue++){var wt=ie.thm[Ee].s[ot][Ue];if(wt*=c,de[Ee][Ue]>=2||de[Ee][Ue+1]==1){var rt=Ue!=0?Ue-1:2,Yt=h(ie.thm[Ee].s[ot][rt],wt,d*Ce);wt=Math.min(wt,Yt)}else if(de[Ee][Ue]==1){var rt=Ue!=0?Ue-1:2,Yt=h(ie.thm[Ee].s[ot][rt],wt,b*Ce);wt=Math.min(wt,Yt)}else if(Ue!=0&&de[Ee][Ue-1]==3||Ue==0&&ie.nsPsy.lastAttacks[Ee]==3){var rt=Ue!=2?Ue+1:0,Yt=h(ie.thm[Ee].s[ot][rt],wt,b*Ce);wt=Math.min(wt,Yt)}wt*=he[Ee][Ue],wn[Ue]=wt}for(var Ue=0;Ue<3;Ue++)ie.thm[Ee].s[ot][Ue]=wn[Ue]}}}for(var Ee=0;Ee<tt;Ee++)ie.nsPsy.lastAttacks[Ee]=de[Ee][2];De(B,Fe,se);for(var Ee=0;Ee<tt;Ee++){var Sn,gn,jn,Hn;Ee>1?(Sn=ne,gn=-2,jn=ue.NORM_TYPE,(se[0]==ue.SHORT_TYPE||se[1]==ue.SHORT_TYPE)&&(jn=ue.SHORT_TYPE),Hn=F[X][Ee-2]):(Sn=K,gn=0,jn=se[Ee],Hn=Q[X][Ee]),jn==ue.SHORT_TYPE?Sn[gn+Ee]=G(Hn,ie.masking_lower):Sn[gn+Ee]=q(Hn,ie.masking_lower),B.analysis&&(ie.pinfo.pe[X][Ee]=Sn[gn+Ee])}return 0};function ke(B,I){var O=B,X;return O>=0?X=-O*27:X=O*I,X<=-72?0:Math.exp(X*V)}function Te(B){var I=0,O=0;{var X=0,Q,F;for(X=0;ke(X,B)>1e-20;X-=1);for(Q=X,F=0;Math.abs(F-Q)>1e-12;)X=(F+Q)/2,ke(X,B)>0?F=X:Q=X;I=Q}{var X=0,Q,F;for(X=0;ke(X,B)>1e-20;X+=1);for(Q=0,F=X;Math.abs(F-Q)>1e-12;)X=(F+Q)/2,ke(X,B)>0?Q=X:F=X;O=F}{var K=0,ne=1e3,J;for(J=0;J<=ne;++J){var X=I+J*(O-I)/ne,se=ke(X,B);K+=se}{var ie=(ne+1)/(K*(O-I));return ie}}}function Ve(B){var I,O,X,Q;return I=B,I>=0?I*=3:I*=1.5,I>=.5&&I<=2.5?(Q=I-.5,O=8*(Q*Q-2*Q)):O=0,I+=.474,X=15.811389+7.5*I-17.5*Math.sqrt(1+I*I),X<=-60?0:(I=Math.exp((O+X)*V),I/=.6609193,I)}function Ne(B){return B<0&&(B=0),B=B*.001,13*Math.atan(.76*B)+3.5*Math.atan(B*B/(7.5*7.5))}function Se(B,I,O,X,Q,F,K,ne,J,se,ie,le){var ye=Et(ue.CBANDS+1),Le=ne/(le>15?2*576:2*192),fe=Jr(ue.HBLKSIZE),Ie;ne/=J;var oe=0,Ae=0;for(Ie=0;Ie<ue.CBANDS;Ie++){var $e,he;for($e=Ne(ne*oe),ye[Ie]=ne*oe,he=oe;Ne(ne*he)-$e<l&&he<=J/2;he++);for(B[Ie]=he-oe,Ae=Ie+1;oe<he;)be(oe<ue.HBLKSIZE),fe[oe++]=Ie;if(oe>J/2){oe=J/2,++Ie;break}}be(Ie<ue.CBANDS),ye[Ie]=ne*oe;for(var Ce=0;Ce<le;Ce++){var de,Fe,tt,Ee,He;tt=se[Ce],Ee=se[Ce+1],de=0|Math.floor(.5+ie*(tt-.5)),de<0&&(de=0),Fe=0|Math.floor(.5+ie*(Ee-.5)),Fe>J/2&&(Fe=J/2),O[Ce]=(fe[de]+fe[Fe])/2,I[Ce]=fe[Fe];var Ue=Le*Ee;K[Ce]=(Ue-ye[I[Ce]])/(ye[I[Ce]+1]-ye[I[Ce]]),K[Ce]<0?K[Ce]=0:K[Ce]>1&&(K[Ce]=1),He=Ne(ne*se[Ce]*ie),He=Math.min(He,15.5)/15.5,F[Ce]=Math.pow(10,1.25*(1-Math.cos(Math.PI*He))-2.5)}oe=0;for(var ot=0;ot<Ae;ot++){var wn=B[ot],$e,wt;$e=Ne(ne*oe),wt=Ne(ne*(oe+wn-1)),X[ot]=.5*($e+wt),$e=Ne(ne*(oe-.5)),wt=Ne(ne*(oe+wn-.5)),Q[ot]=wt-$e,oe+=wn}return Ae}function We(B,I,O,X,Q,F){var K=Cn([ue.CBANDS,ue.CBANDS]),ne,J=0;if(F)for(var se=0;se<I;se++)for(ne=0;ne<I;ne++){var ie=Ve(O[se]-O[ne])*X[ne];K[se][ne]=ie*Q[se]}else for(ne=0;ne<I;ne++)for(var le=15+Math.min(21/O[ne],12),ye=Te(le),se=0;se<I;se++){var ie=ye*ke(O[se]-O[ne],le)*X[ne];K[se][ne]=ie*Q[se]}for(var se=0;se<I;se++){for(ne=0;ne<I&&!(K[se][ne]>0);ne++);for(B[se][0]=ne,ne=I-1;ne>0&&!(K[se][ne]>0);ne--);B[se][1]=ne,J+=B[se][1]-B[se][0]+1}for(var Le=Et(J),fe=0,se=0;se<I;se++)for(ne=B[se][0];ne<=B[se][1];ne++)Le[fe++]=K[se][ne];return Le}function yt(B){var I=Ne(B);return I=Math.min(I,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*I))-2.5)}this.psymodel_init=function(B){var I=B.internal_flags,O,X=!0,Q=13,F=24,K=0,ne=0,J=-8.25,se=-4.5,ie=Et(ue.CBANDS),le=Et(ue.CBANDS),ye=Et(ue.CBANDS),Le=B.out_samplerate;switch(B.experimentalZ){default:case 0:X=!0;break;case 1:X=!(B.VBR==Ri.vbr_mtrh||B.VBR==Ri.vbr_mt);break;case 2:X=!1;break;case 3:Q=8,K=-1.75,ne=-.0125,J=-8.25,se=-2.25;break}for(I.ms_ener_ratio_old=.25,I.blocktype_old[0]=I.blocktype_old[1]=ue.NORM_TYPE,O=0;O<4;++O){for(var oe=0;oe<ue.CBANDS;++oe)I.nb_1[O][oe]=1e20,I.nb_2[O][oe]=1e20,I.nb_s1[O][oe]=I.nb_s2[O][oe]=1;for(var fe=0;fe<ue.SBMAX_l;fe++)I.en[O].l[fe]=1e20,I.thm[O].l[fe]=1e20;for(var oe=0;oe<3;++oe){for(var fe=0;fe<ue.SBMAX_s;fe++)I.en[O].s[fe][oe]=1e20,I.thm[O].s[fe][oe]=1e20;I.nsPsy.lastAttacks[O]=0}for(var oe=0;oe<9;oe++)I.nsPsy.last_en_subshort[O][oe]=10}for(I.loudness_sq_save[0]=I.loudness_sq_save[1]=0,I.npart_l=Se(I.numlines_l,I.bo_l,I.bm_l,ie,le,I.mld_l,I.PSY.bo_l_weight,Le,ue.BLKSIZE,I.scalefac_band.l,ue.BLKSIZE/(2*576),ue.SBMAX_l),be(I.npart_l<ue.CBANDS),O=0;O<I.npart_l;O++){var Ie=K;ie[O]>=Q&&(Ie=ne*(ie[O]-Q)/(F-Q)+K*(F-ie[O])/(F-Q)),ye[O]=Math.pow(10,Ie/10),I.numlines_l[O]>0?I.rnumlines_l[O]=1/I.numlines_l[O]:I.rnumlines_l[O]=0}I.s3_ll=We(I.s3ind,I.npart_l,ie,le,ye,X);var oe=0;for(O=0;O<I.npart_l;O++){var Ae;Ae=rd.MAX_VALUE;for(var $e=0;$e<I.numlines_l[O];$e++,oe++){var he=Le*oe/(1e3*ue.BLKSIZE),Ce;Ce=this.ATHformula(he*1e3,B)-20,Ce=Math.pow(10,.1*Ce),Ce*=I.numlines_l[O],Ae>Ce&&(Ae=Ce)}I.ATH.cb_l[O]=Ae,Ae=-20+ie[O]*20/10,Ae>6&&(Ae=100),Ae<-15&&(Ae=-15),Ae-=8,I.minval_l[O]=Math.pow(10,Ae/10)*I.numlines_l[O]}for(I.npart_s=Se(I.numlines_s,I.bo_s,I.bm_s,ie,le,I.mld_s,I.PSY.bo_s_weight,Le,ue.BLKSIZE_s,I.scalefac_band.s,ue.BLKSIZE_s/(2*192),ue.SBMAX_s),be(I.npart_s<ue.CBANDS),oe=0,O=0;O<I.npart_s;O++){var Ae,Ie=J;ie[O]>=Q&&(Ie=se*(ie[O]-Q)/(F-Q)+J*(F-ie[O])/(F-Q)),ye[O]=Math.pow(10,Ie/10),Ae=rd.MAX_VALUE;for(var $e=0;$e<I.numlines_s[O];$e++,oe++){var he=Le*oe/(1e3*ue.BLKSIZE_s),Ce;Ce=this.ATHformula(he*1e3,B)-20,Ce=Math.pow(10,.1*Ce),Ce*=I.numlines_s[O],Ae>Ce&&(Ae=Ce)}I.ATH.cb_s[O]=Ae,Ae=-7+ie[O]*7/12,ie[O]>12&&(Ae*=1+Math.log(1+Ae)*3.1),ie[O]<12&&(Ae*=1+Math.log(1-Ae)*2.3),Ae<-15&&(Ae=-15),Ae-=8,I.minval_s[O]=Math.pow(10,Ae/10)*I.numlines_s[O]}I.s3_ss=We(I.s3ind_s,I.npart_s,ie,le,ye,X),H(),t.init_fft(I),I.decay=Math.exp(-1*n/(A*Le/192));{var de;de=z,B.exp_nspsytune&2&&(de=1),Math.abs(B.msfix)>0&&(de=B.msfix),B.msfix=de;for(var Fe=0;Fe<I.npart_l;Fe++)I.s3ind[Fe][1]>I.npart_l-1&&(I.s3ind[Fe][1]=I.npart_l-1)}var tt=576*I.mode_gr/Le;if(I.ATH.decay=Math.pow(10,-12/10*tt),I.ATH.adjust=.01,I.ATH.adjustLimit=1,be(I.bo_l[ue.SBMAX_l-1]<=I.npart_l),be(I.bo_s[ue.SBMAX_s-1]<=I.npart_s),B.ATHtype!=-1){var he,Ee=B.out_samplerate/ue.BLKSIZE,He=0;for(he=0,O=0;O<ue.BLKSIZE/2;++O)he+=Ee,I.ATH.eql_w[O]=1/Math.pow(10,this.ATHformula(he,B)/10),He+=I.ATH.eql_w[O];for(He=1/He,O=ue.BLKSIZE/2;--O>=0;)I.ATH.eql_w[O]*=He}{for(var Fe=oe=0;Fe<I.npart_s;++Fe)for(O=0;O<I.numlines_s[Fe];++O)++oe;be(oe==129);for(var Fe=oe=0;Fe<I.npart_l;++Fe)for(O=0;O<I.numlines_l[Fe];++O)++oe;be(oe==513)}for(oe=0,O=0;O<I.npart_l;O++){var he=Le*(oe+I.numlines_l[O]/2)/(1*ue.BLKSIZE);I.mld_cb_l[O]=yt(he),oe+=I.numlines_l[O]}for(;O<ue.CBANDS;++O)I.mld_cb_l[O]=1;for(oe=0,O=0;O<I.npart_s;O++){var he=Le*(oe+I.numlines_s[O]/2)/(1*ue.BLKSIZE_s);I.mld_cb_s[O]=yt(he),oe+=I.numlines_s[O]}for(;O<ue.CBANDS;++O)I.mld_cb_s[O]=1;return 0};function Ye(B,I){B<-.3&&(B=3410),B/=1e3,B=Math.max(.1,B);var O=3.64*Math.pow(B,-.8)-6.8*Math.exp(-.6*Math.pow(B-3.4,2))+6*Math.exp(-.15*Math.pow(B-8.7,2))+(.6+.04*I)*.001*Math.pow(B,4);return O}this.ATHformula=function(B,I){var O;switch(I.ATHtype){case 0:O=Ye(B,9);break;case 1:O=Ye(B,-1);break;case 2:O=Ye(B,0);break;case 3:O=Ye(B,1)+6;break;case 4:O=Ye(B,I.ATHcurve);break;default:O=Ye(B,0);break}return O}}var pv=mv,vv=As;function yv(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=vv.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var wv=yv,Sv=$t(),p_={};p_.SFBMAX=Sv.SBMAX_s*3;var Vl=p_,sn=ct;sn.System;sn.VbrMode;sn.Float;sn.ShortBlock;sn.Util;sn.Arrays;sn.new_array_n;sn.new_byte;sn.new_double;var gv=sn.new_float;sn.new_float_n;var ei=sn.new_int;sn.new_int_n;sn.assert;var P0=Vl;function Ev(){this.xr=gv(576),this.l3_enc=ei(576),this.scalefac=ei(P0.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=ei(3),this.subblock_gain=ei(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=ei(P0.SFBMAX),this.window=ei(P0.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=ei(4),this.max_nonzero_coeff=0;var e=this;function t(r){return new Int32Array(r)}function n(r){return new Float32Array(r)}this.assign=function(r){e.xr=n(r.xr),e.l3_enc=t(r.l3_enc),e.scalefac=t(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=t(r.table_select),e.subblock_gain=t(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=t(r.width),e.window=t(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=t(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}var oc=Ev,on=ct;on.System;on.VbrMode;on.Float;on.ShortBlock;on.Util;on.Arrays;on.new_array_n;on.new_byte;on.new_double;on.new_float;on.new_float_n;var id=on.new_int;on.new_int_n;on.assert;var xv=oc;function Rv(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[id(4),id(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new xv}var bv=Rv,ln=ct,Ys=ln.System;ln.VbrMode;ln.Float;ln.ShortBlock;ln.Util;ln.Arrays;ln.new_array_n;ln.new_byte;ln.new_double;ln.new_float;ln.new_float_n;var Gs=ln.new_int;ln.new_int_n;ln.assert;var Ws=$t();function Av(e,t,n,r){this.l=Gs(1+Ws.SBMAX_l),this.s=Gs(1+Ws.SBMAX_s),this.psfb21=Gs(1+Ws.PSFB21),this.psfb12=Gs(1+Ws.PSFB12);var i=this.l,a=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Ys.arraycopy(this.arrL,0,i,0,Math.min(this.arrL.length,this.l.length)),Ys.arraycopy(this.arrS,0,a,0,Math.min(this.arrS.length,this.s.length)),Ys.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Ys.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var v_=Av,un=ct;un.System;un.VbrMode;un.Float;un.ShortBlock;un.Util;un.Arrays;un.new_array_n;un.new_byte;un.new_double;var F0=un.new_float,Tv=un.new_float_n,kv=un.new_int;un.new_int_n;un.assert;var ad=$t();function Cv(){this.last_en_subshort=Tv([4,9]),this.lastAttacks=kv(4),this.pefirbuf=F0(19),this.longfact=F0(ad.SBMAX_l),this.shortfact=F0(ad.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var Mv=Cv;function Bv(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var Nv=Bv,cn=ct;cn.System;cn.VbrMode;cn.Float;cn.ShortBlock;cn.Util;cn.Arrays;cn.new_array_n;var Iv=cn.new_byte,Ov=cn.new_double,Mn=cn.new_float,ti=cn.new_float_n,$n=cn.new_int,Ks=cn.new_int_n;cn.assert;var Lv=bv,Pv=v_,Fv=Mv,Dv=Nv,sd=m_(),pt=$t(),jv=Vl;wr.MFSIZE=3*1152+pt.ENCDELAY-pt.MDCTDELAY;wr.MAX_HEADER_BUF=256;wr.MAX_BITS_PER_CHANNEL=4095;wr.MAX_BITS_PER_GRANULE=7680;wr.BPC=320;function wr(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=ti([2,wr.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new Lv,this.ms_ratio=Mn(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=$n(2),this.CurrentStep=$n(2),this.masking_lower=0,this.bv_scf=$n(576),this.pseudohalf=$n(jv.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*wr.BPC+1),this.itime=Ov(2),this.sideinfo_len=0,this.sb_sample=ti([2,2,18,pt.SBLIMIT]),this.amp_filter=Mn(32);function t(){this.write_timing=0,this.ptr=0,this.buf=Iv(e)}this.header=new Array(wr.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new Pv,this.minval_l=Mn(pt.CBANDS),this.minval_s=Mn(pt.CBANDS),this.nb_1=ti([4,pt.CBANDS]),this.nb_2=ti([4,pt.CBANDS]),this.nb_s1=ti([4,pt.CBANDS]),this.nb_s2=ti([4,pt.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Mn(4),this.loudness_sq=ti([2,2]),this.loudness_sq_save=Mn(2),this.mld_l=Mn(pt.SBMAX_l),this.mld_s=Mn(pt.SBMAX_s),this.bm_l=$n(pt.SBMAX_l),this.bo_l=$n(pt.SBMAX_l),this.bm_s=$n(pt.SBMAX_s),this.bo_s=$n(pt.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Ks([pt.CBANDS,2]),this.s3ind_s=Ks([pt.CBANDS,2]),this.numlines_s=$n(pt.CBANDS),this.numlines_l=$n(pt.CBANDS),this.rnumlines_l=Mn(pt.CBANDS),this.mld_cb_l=Mn(pt.CBANDS),this.mld_cb_s=Mn(pt.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Mn(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=$n(2),this.nsPsy=new Fv,this.VBR_seek_table=new Dv,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Ks([16,5]),this.bitrate_blockType_Hist=Ks([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new sd;for(var n=0;n<this.thm.length;n++)this.thm[n]=new sd;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var $l=wr,fn=ct;fn.System;fn.VbrMode;fn.Float;fn.ShortBlock;fn.Util;fn.Arrays;fn.new_array_n;fn.new_byte;fn.new_double;var ni=fn.new_float;fn.new_float_n;fn.new_int;fn.new_int_n;fn.assert;var ri=$t();function Hv(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=ni(ri.SBMAX_l),this.s=ni(ri.SBMAX_s),this.psfb21=ni(ri.PSFB21),this.psfb12=ni(ri.PSFB12),this.cb_l=ni(ri.CBANDS),this.cb_s=ni(ri.CBANDS),this.eql_w=ni(ri.BLKSIZE/2)}var Vv=Hv,dn=ct,Kt=dn.System;dn.VbrMode;dn.Float;dn.ShortBlock;dn.Util;var od=dn.Arrays;dn.new_array_n;dn.new_byte;dn.new_double;dn.new_float;dn.new_float_n;dn.new_int;dn.new_int_n;dn.assert;at.STEPS_per_dB=100;at.MAX_dB=120;at.GAIN_NOT_ENOUGH_SAMPLES=-24601;at.GAIN_ANALYSIS_ERROR=0;at.GAIN_ANALYSIS_OK=1;at.INIT_GAIN_ANALYSIS_ERROR=0;at.INIT_GAIN_ANALYSIS_OK=1;at.YULE_ORDER=10;at.MAX_ORDER=at.YULE_ORDER;at.MAX_SAMP_FREQ=48e3;at.RMS_WINDOW_TIME_NUMERATOR=1;at.RMS_WINDOW_TIME_DENOMINATOR=20;at.MAX_SAMPLES_PER_WINDOW=at.MAX_SAMP_FREQ*at.RMS_WINDOW_TIME_NUMERATOR/at.RMS_WINDOW_TIME_DENOMINATOR+1;function at(){var e=64.82;at.YULE_ORDER;var t=.95;at.MAX_SAMP_FREQ;var n=at.RMS_WINDOW_TIME_NUMERATOR,r=at.RMS_WINDOW_TIME_DENOMINATOR;at.MAX_SAMPLES_PER_WINDOW;var i=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],a=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function s(d,b,z,C,V,Y){for(;V--!=0;)z[C]=1e-10+d[b+0]*Y[0]-z[C-1]*Y[1]+d[b-1]*Y[2]-z[C-2]*Y[3]+d[b-2]*Y[4]-z[C-3]*Y[5]+d[b-3]*Y[6]-z[C-4]*Y[7]+d[b-4]*Y[8]-z[C-5]*Y[9]+d[b-5]*Y[10]-z[C-6]*Y[11]+d[b-6]*Y[12]-z[C-7]*Y[13]+d[b-7]*Y[14]-z[C-8]*Y[15]+d[b-8]*Y[16]-z[C-9]*Y[17]+d[b-9]*Y[18]-z[C-10]*Y[19]+d[b-10]*Y[20],++C,++b}function l(d,b,z,C,V,Y){for(;V--!=0;)z[C]=d[b+0]*Y[0]-z[C-1]*Y[1]+d[b-1]*Y[2]-z[C-2]*Y[3]+d[b-2]*Y[4],++C,++b}function f(d,b){for(var z=0;z<MAX_ORDER;z++)d.linprebuf[z]=d.lstepbuf[z]=d.loutbuf[z]=d.rinprebuf[z]=d.rstepbuf[z]=d.routbuf[z]=0;switch(0|b){case 48e3:d.reqindex=0;break;case 44100:d.reqindex=1;break;case 32e3:d.reqindex=2;break;case 24e3:d.reqindex=3;break;case 22050:d.reqindex=4;break;case 16e3:d.reqindex=5;break;case 12e3:d.reqindex=6;break;case 11025:d.reqindex=7;break;case 8e3:d.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return d.sampleWindow=0|(b*n+r-1)/r,d.lsum=0,d.rsum=0,d.totsamp=0,od.ill(d.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(d,b){return f(d,b)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(d.linpre=MAX_ORDER,d.rinpre=MAX_ORDER,d.lstep=MAX_ORDER,d.rstep=MAX_ORDER,d.lout=MAX_ORDER,d.rout=MAX_ORDER,od.fill(d.B,0),INIT_GAIN_ANALYSIS_OK)};function A(d){return d*d}this.AnalyzeSamples=function(d,b,z,C,V,Y,v){var u,m,R,o,S,k,j;if(Y==0)return GAIN_ANALYSIS_OK;switch(j=0,S=Y,v){case 1:C=b,V=z;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(Y<MAX_ORDER?(Kt.arraycopy(b,z,d.linprebuf,MAX_ORDER,Y),Kt.arraycopy(C,V,d.rinprebuf,MAX_ORDER,Y)):(Kt.arraycopy(b,z,d.linprebuf,MAX_ORDER,MAX_ORDER),Kt.arraycopy(C,V,d.rinprebuf,MAX_ORDER,MAX_ORDER));S>0;){k=S>d.sampleWindow-d.totsamp?d.sampleWindow-d.totsamp:S,j<MAX_ORDER?(u=d.linpre+j,m=d.linprebuf,R=d.rinpre+j,o=d.rinprebuf,k>MAX_ORDER-j&&(k=MAX_ORDER-j)):(u=z+j,m=b,R=V+j,o=C),s(m,u,d.lstepbuf,d.lstep+d.totsamp,k,i[d.reqindex]),s(o,R,d.rstepbuf,d.rstep+d.totsamp,k,i[d.reqindex]),l(d.lstepbuf,d.lstep+d.totsamp,d.loutbuf,d.lout+d.totsamp,k,a[d.reqindex]),l(d.rstepbuf,d.rstep+d.totsamp,d.routbuf,d.rout+d.totsamp,k,a[d.reqindex]),u=d.lout+d.totsamp,m=d.loutbuf,R=d.rout+d.totsamp,o=d.routbuf;for(var $=k%8;$--!=0;)d.lsum+=A(m[u++]),d.rsum+=A(o[R++]);for($=k/8;$--!=0;)d.lsum+=A(m[u+0])+A(m[u+1])+A(m[u+2])+A(m[u+3])+A(m[u+4])+A(m[u+5])+A(m[u+6])+A(m[u+7]),u+=8,d.rsum+=A(o[R+0])+A(o[R+1])+A(o[R+2])+A(o[R+3])+A(o[R+4])+A(o[R+5])+A(o[R+6])+A(o[R+7]),R+=8;if(S-=k,j+=k,d.totsamp+=k,d.totsamp==d.sampleWindow){var H=at.STEPS_per_dB*10*Math.log10((d.lsum+d.rsum)/d.totsamp*.5+1e-37),Z=H<=0?0:0|H;Z>=d.A.length&&(Z=d.A.length-1),d.A[Z]++,d.lsum=d.rsum=0,Kt.arraycopy(d.loutbuf,d.totsamp,d.loutbuf,0,MAX_ORDER),Kt.arraycopy(d.routbuf,d.totsamp,d.routbuf,0,MAX_ORDER),Kt.arraycopy(d.lstepbuf,d.totsamp,d.lstepbuf,0,MAX_ORDER),Kt.arraycopy(d.rstepbuf,d.totsamp,d.rstepbuf,0,MAX_ORDER),d.totsamp=0}if(d.totsamp>d.sampleWindow)return GAIN_ANALYSIS_ERROR}return Y<MAX_ORDER?(Kt.arraycopy(d.linprebuf,Y,d.linprebuf,0,MAX_ORDER-Y),Kt.arraycopy(d.rinprebuf,Y,d.rinprebuf,0,MAX_ORDER-Y),Kt.arraycopy(b,z,d.linprebuf,MAX_ORDER-Y,Y),Kt.arraycopy(C,V,d.rinprebuf,MAX_ORDER-Y,Y)):(Kt.arraycopy(b,z+Y-MAX_ORDER,d.linprebuf,0,MAX_ORDER),Kt.arraycopy(C,V+Y-MAX_ORDER,d.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function c(d,b){var z,C=0;for(z=0;z<b;z++)C+=d[z];if(C==0)return GAIN_NOT_ENOUGH_SAMPLES;var V=0|Math.ceil(C*(1-t));for(z=b;z-- >0&&!((V-=d[z])<=0););return e-z/at.STEPS_per_dB}this.GetTitleGain=function(d){for(var b=c(d.A,d.A.length),z=0;z<d.A.length;z++)d.B[z]+=d.A[z],d.A[z]=0;for(var z=0;z<MAX_ORDER;z++)d.linprebuf[z]=d.lstepbuf[z]=d.loutbuf[z]=d.rinprebuf[z]=d.rstepbuf[z]=d.routbuf[z]=0;return d.totsamp=0,d.lsum=d.rsum=0,b}}var y_=at,hn=ct;hn.System;hn.VbrMode;hn.Float;hn.ShortBlock;hn.Util;hn.Arrays;hn.new_array_n;hn.new_byte;hn.new_double;var Ai=hn.new_float;hn.new_float_n;var ld=hn.new_int;hn.new_int_n;hn.assert;var Qt=y_;function $v(){this.linprebuf=Ai(Qt.MAX_ORDER*2),this.linpre=0,this.lstepbuf=Ai(Qt.MAX_SAMPLES_PER_WINDOW+Qt.MAX_ORDER),this.lstep=0,this.loutbuf=Ai(Qt.MAX_SAMPLES_PER_WINDOW+Qt.MAX_ORDER),this.lout=0,this.rinprebuf=Ai(Qt.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=Ai(Qt.MAX_SAMPLES_PER_WINDOW+Qt.MAX_ORDER),this.rstep=0,this.routbuf=Ai(Qt.MAX_SAMPLES_PER_WINDOW+Qt.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=ld(0|Qt.STEPS_per_dB*Qt.MAX_dB),this.B=ld(0|Qt.STEPS_per_dB*Qt.MAX_dB)}var Uv=$v;function zv(e){this.bits=e}var w_=zv,_n=ct;_n.System;_n.VbrMode;_n.Float;_n.ShortBlock;_n.Util;_n.Arrays;_n.new_array_n;_n.new_byte;_n.new_double;var ud=_n.new_float;_n.new_float_n;var Xv=_n.new_int;_n.new_int_n;var cd=_n.assert,qv=w_,fd=$t(),Yv=Vl,Gv=$l;function Wv(e){var t=e;this.quantize=t,this.iteration_loop=function(n,r,i,a){var s=n.internal_flags,l=ud(Yv.SFBMAX),f=ud(576),A=Xv(2),c=0,d,b=s.l3_side,z=new qv(c);this.quantize.rv.ResvFrameBegin(n,z),c=z.bits;for(var C=0;C<s.mode_gr;C++){d=this.quantize.qupvt.on_pe(n,r,A,c,C,C),s.mode_ext==fd.MPG_MD_MS_LR&&(this.quantize.ms_convert(s.l3_side,C),this.quantize.qupvt.reduce_side(A,i[C],c,d));for(var V=0;V<s.channels_out;V++){var Y,v,u=b.tt[C][V];u.block_type!=fd.SHORT_TYPE?(Y=0,v=s.PSY.mask_adjust-Y):(Y=0,v=s.PSY.mask_adjust_short-Y),s.masking_lower=Math.pow(10,v*.1),this.quantize.init_outer_loop(s,u),this.quantize.init_xrpow(s,u,f)&&(this.quantize.qupvt.calc_xmin(n,a[C][V],u,l),this.quantize.outer_loop(n,u,l,f,V,A[V])),this.quantize.iteration_finish_one(s,C,V),cd(u.part2_3_length<=Gv.MAX_BITS_PER_CHANNEL),cd(u.part2_3_length<=A[V])}}this.quantize.rv.ResvFrameEnd(s,c)}}var Kv=Wv;function Ke(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var _e={};_e.t1HB=[1,1,1,0];_e.t2HB=[1,2,1,3,1,1,3,2,0];_e.t3HB=[3,2,1,1,1,1,3,2,0];_e.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];_e.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];_e.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];_e.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];_e.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];_e.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];_e.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];_e.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];_e.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];_e.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];_e.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];_e.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];_e.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];_e.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];_e.t1l=[1,4,3,5];_e.t2l=[1,4,7,4,5,7,6,7,8];_e.t3l=[2,3,7,4,4,7,6,7,8];_e.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];_e.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];_e.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];_e.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];_e.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];_e.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];_e.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];_e.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];_e.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];_e.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];_e.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];_e.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];_e.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];_e.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];_e.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];_e.ht=[new Ke(0,0,null,null),new Ke(2,0,_e.t1HB,_e.t1l),new Ke(3,0,_e.t2HB,_e.t2l),new Ke(3,0,_e.t3HB,_e.t3l),new Ke(0,0,null,null),new Ke(4,0,_e.t5HB,_e.t5l),new Ke(4,0,_e.t6HB,_e.t6l),new Ke(6,0,_e.t7HB,_e.t7l),new Ke(6,0,_e.t8HB,_e.t8l),new Ke(6,0,_e.t9HB,_e.t9l),new Ke(8,0,_e.t10HB,_e.t10l),new Ke(8,0,_e.t11HB,_e.t11l),new Ke(8,0,_e.t12HB,_e.t12l),new Ke(16,0,_e.t13HB,_e.t13l),new Ke(0,0,null,_e.t16_5l),new Ke(16,0,_e.t15HB,_e.t15l),new Ke(1,1,_e.t16HB,_e.t16l),new Ke(2,3,_e.t16HB,_e.t16l),new Ke(3,7,_e.t16HB,_e.t16l),new Ke(4,15,_e.t16HB,_e.t16l),new Ke(6,63,_e.t16HB,_e.t16l),new Ke(8,255,_e.t16HB,_e.t16l),new Ke(10,1023,_e.t16HB,_e.t16l),new Ke(13,8191,_e.t16HB,_e.t16l),new Ke(4,15,_e.t24HB,_e.t24l),new Ke(5,31,_e.t24HB,_e.t24l),new Ke(6,63,_e.t24HB,_e.t24l),new Ke(7,127,_e.t24HB,_e.t24l),new Ke(8,255,_e.t24HB,_e.t24l),new Ke(9,511,_e.t24HB,_e.t24l),new Ke(11,2047,_e.t24HB,_e.t24l),new Ke(13,8191,_e.t24HB,_e.t24l),new Ke(0,0,_e.t32HB,_e.t32l),new Ke(0,0,_e.t33HB,_e.t33l)];_e.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];_e.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];_e.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];_e.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];_e.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];_e.scfsi_band=[0,6,11,16,21];var lc=_e,D0,dd;function S_(){if(dd)return D0;dd=1;var e=v_,t=ct;t.System;var n=t.VbrMode,r=t.Float;t.ShortBlock;var i=t.Util;t.Arrays,t.new_array_n,t.new_byte,t.new_double;var a=t.new_float;t.new_float_n;var s=t.new_int;t.new_int_n;var l=t.assert,f=$t(),A=w_,c=$l;d.Q_MAX=257,d.Q_MAX2=116,d.LARGE_BITS=1e5,d.IXMAX_VAL=8206;function d(){var b=uc(),z=null,C=null,V=null;this.setModules=function(P,D,W){z=P,C=D,V=W};function Y(P){return l(0<=P+d.Q_MAX2&&P<d.Q_MAX),j[P+d.Q_MAX2]}this.IPOW20=function(P){return l(0<=P&&P<d.Q_MAX),$[P]};var v=2220446049250313e-31,u=d.IXMAX_VAL,m=u+2,R=d.Q_MAX,o=d.Q_MAX2;d.LARGE_BITS;var S=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var k=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=k,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var j=a(R+o+1),$=a(R),H=a(m),Z=a(m);this.adj43=Z;function re(P,D){var W=V.ATHformula(D,P);return W-=S,W=Math.pow(10,W/10+P.ATHlower),W}function N(P){for(var D=P.internal_flags.ATH.l,W=P.internal_flags.ATH.psfb21,L=P.internal_flags.ATH.s,x=P.internal_flags.ATH.psfb12,w=P.internal_flags,E=P.out_samplerate,_=0;_<f.SBMAX_l;_++){var p=w.scalefac_band.l[_],h=w.scalefac_band.l[_+1];D[_]=r.MAX_VALUE;for(var T=p;T<h;T++){var G=T*E/1152,te=re(P,G);D[_]=Math.min(D[_],te)}}for(var _=0;_<f.PSFB21;_++){var p=w.scalefac_band.psfb21[_],h=w.scalefac_band.psfb21[_+1];W[_]=r.MAX_VALUE;for(var T=p;T<h;T++){var G=T*E/1152,te=re(P,G);W[_]=Math.min(W[_],te)}}for(var _=0;_<f.SBMAX_s;_++){var p=w.scalefac_band.s[_],h=w.scalefac_band.s[_+1];L[_]=r.MAX_VALUE;for(var T=p;T<h;T++){var G=T*E/384,te=re(P,G);L[_]=Math.min(L[_],te)}L[_]*=w.scalefac_band.s[_+1]-w.scalefac_band.s[_]}for(var _=0;_<f.PSFB12;_++){var p=w.scalefac_band.psfb12[_],h=w.scalefac_band.psfb12[_+1];x[_]=r.MAX_VALUE;for(var T=p;T<h;T++){var G=T*E/384,te=re(P,G);x[_]=Math.min(x[_],te)}x[_]*=w.scalefac_band.s[13]-w.scalefac_band.s[12]}if(P.noATH){for(var _=0;_<f.SBMAX_l;_++)D[_]=1e-20;for(var _=0;_<f.PSFB21;_++)W[_]=1e-20;for(var _=0;_<f.SBMAX_s;_++)L[_]=1e-20;for(var _=0;_<f.PSFB12;_++)x[_]=1e-20}w.ATH.floor=10*Math.log10(re(P,-1))}this.iteration_init=function(P){var D=P.internal_flags,W=D.l3_side,L;if(D.iteration_init_init==0){for(D.iteration_init_init=1,W.main_data_begin=0,N(P),H[0]=0,L=1;L<m;L++)H[L]=Math.pow(L,4/3);for(L=0;L<m-1;L++)Z[L]=L+1-Math.pow(.5*(H[L]+H[L+1]),.75);for(Z[L]=.5,L=0;L<R;L++)$[L]=Math.pow(2,(L-210)*-.1875);for(L=0;L<=R+o;L++)j[L]=Math.pow(2,(L-210-o)*.25);z.huffman_init(D);{var x,w,E,_;for(L=P.exp_nspsytune>>2&63,L>=32&&(L-=64),x=Math.pow(10,L/4/10),L=P.exp_nspsytune>>8&63,L>=32&&(L-=64),w=Math.pow(10,L/4/10),L=P.exp_nspsytune>>14&63,L>=32&&(L-=64),E=Math.pow(10,L/4/10),L=P.exp_nspsytune>>20&63,L>=32&&(L-=64),_=E*Math.pow(10,L/4/10),L=0;L<f.SBMAX_l;L++){var p;L<=6?p=x:L<=13?p=w:L<=20?p=E:p=_,D.nsPsy.longfact[L]=p}for(L=0;L<f.SBMAX_s;L++){var p;L<=5?p=x:L<=10?p=w:L<=11?p=E:p=_,D.nsPsy.shortfact[L]=p}}}},this.on_pe=function(P,D,W,L,x,w){var E=P.internal_flags,_=0,p,h=s(2),T,G=new A(_),te=C.ResvMaxBits(P,L,G,w);_=G.bits;var q=_+te;for(q>c.MAX_BITS_PER_GRANULE&&(q=c.MAX_BITS_PER_GRANULE),p=0,T=0;T<E.channels_out;++T)W[T]=Math.min(c.MAX_BITS_PER_CHANNEL,_/E.channels_out),h[T]=0|W[T]*D[x][T]/700-W[T],h[T]>L*3/4&&(h[T]=L*3/4),h[T]<0&&(h[T]=0),h[T]+W[T]>c.MAX_BITS_PER_CHANNEL&&(h[T]=Math.max(0,c.MAX_BITS_PER_CHANNEL-W[T])),p+=h[T];if(p>te)for(T=0;T<E.channels_out;++T)h[T]=te*h[T]/p;for(T=0;T<E.channels_out;++T)W[T]+=h[T],te-=h[T];for(p=0,T=0;T<E.channels_out;++T)p+=W[T];if(p>c.MAX_BITS_PER_GRANULE){var U=0;for(T=0;T<E.channels_out;++T)W[T]*=c.MAX_BITS_PER_GRANULE,W[T]/=p,U+=W[T];l(U<=c.MAX_BITS_PER_GRANULE)}return q},this.reduce_side=function(P,D,W,L){l(L<=c.MAX_BITS_PER_GRANULE),l(P[0]+P[1]<=c.MAX_BITS_PER_GRANULE);var x=.33*(.5-D)/.5;x<0&&(x=0),x>.5&&(x=.5);var w=0|x*.5*(P[0]+P[1]);w>c.MAX_BITS_PER_CHANNEL-P[0]&&(w=c.MAX_BITS_PER_CHANNEL-P[0]),w<0&&(w=0),P[1]>=125&&(P[1]-w>125?(P[0]<W&&(P[0]+=w),P[1]-=w):(P[0]+=P[1]-125,P[1]=125)),w=P[0]+P[1],w>L&&(P[0]=L*P[0]/w,P[1]=L*P[1]/w),l(P[0]<=c.MAX_BITS_PER_CHANNEL),l(P[1]<=c.MAX_BITS_PER_CHANNEL),l(P[0]+P[1]<=c.MAX_BITS_PER_GRANULE)},this.athAdjust=function(P,D,W){var L=90.30873362,x=94.82444863,w=i.FAST_LOG10_X(D,10),E=P*P,_=0;return w-=W,E>1e-20&&(_=1+i.FAST_LOG10_X(E,10/L)),_<0&&(_=0),w*=_,w+=W+L-x,Math.pow(10,.1*w)},this.calc_xmin=function(P,D,W,L){var x=0,w=P.internal_flags,E,_=0,p=0,h=w.ATH,T=W.xr,G=P.VBR==n.vbr_mtrh?1:0,te=w.masking_lower;for((P.VBR==n.vbr_mtrh||P.VBR==n.vbr_mt)&&(te=1),E=0;E<W.psy_lmax;E++){var q,U,ee,ae,me,Me;P.VBR==n.vbr_rh||P.VBR==n.vbr_mtrh?U=athAdjust(h.adjust,h.l[E],h.floor):U=h.adjust*h.l[E],me=W.width[E],ee=U/me,ae=v,Me=me>>1,q=0;do{var xe,ge;xe=T[_]*T[_],q+=xe,ae+=xe<ee?xe:ee,_++,ge=T[_]*T[_],q+=ge,ae+=ge<ee?ge:ee,_++}while(--Me>0);if(q>U&&p++,E==f.SBPSY_l){var Be=U*w.nsPsy.longfact[E];ae<Be&&(ae=Be)}if(G!=0&&(U=ae),!P.ATHonly){var Xe=D.en.l[E];if(Xe>0){var Be;Be=q*D.thm.l[E]*te/Xe,G!=0&&(Be*=w.nsPsy.longfact[E]),U<Be&&(U=Be)}}G!=0?L[x++]=U:L[x++]=U*w.nsPsy.longfact[E]}var dt=575;if(W.block_type!=f.SHORT_TYPE)for(var g=576;g--!=0&&b.EQ(T[g],0);)dt=g;W.max_nonzero_coeff=dt;for(var M=W.sfb_smin;E<W.psymax;M++,E+=3){var me,we,Re;for(P.VBR==n.vbr_rh||P.VBR==n.vbr_mtrh?Re=athAdjust(h.adjust,h.s[M],h.floor):Re=h.adjust*h.s[M],me=W.width[E],we=0;we<3;we++){var q=0,U,ee,ae,Me=me>>1;ee=Re/me,ae=v;do{var xe,ge;xe=T[_]*T[_],q+=xe,ae+=xe<ee?xe:ee,_++,ge=T[_]*T[_],q+=ge,ae+=ge<ee?ge:ee,_++}while(--Me>0);if(q>Re&&p++,M==f.SBPSY_s){var Be=Re*w.nsPsy.shortfact[M];ae<Be&&(ae=Be)}if(G!=0?U=ae:U=Re,!P.ATHonly&&!P.ATHshort){var Xe=D.en.s[M][we];if(Xe>0){var Be;Be=q*D.thm.s[M][we]*te/Xe,G!=0&&(Be*=w.nsPsy.shortfact[M]),U<Be&&(U=Be)}}G!=0?L[x++]=U:L[x++]=U*w.nsPsy.shortfact[M]}P.useTemporal&&(L[x-3]>L[x-3+1]&&(L[x-3+1]+=(L[x-3]-L[x-3+1])*w.decay),L[x-3+1]>L[x-3+2]&&(L[x-3+2]+=(L[x-3+1]-L[x-3+2])*w.decay))}return p};function y(P){this.s=P}this.calc_noise_core=function(P,D,W,L){var x=0,w=D.s,E=P.l3_enc;if(w>P.count1)for(;W--!=0;){var _;_=P.xr[w],w++,x+=_*_,_=P.xr[w],w++,x+=_*_}else if(w>P.big_values){var p=a(2);for(p[0]=0,p[1]=L;W--!=0;){var _;_=Math.abs(P.xr[w])-p[E[w]],w++,x+=_*_,_=Math.abs(P.xr[w])-p[E[w]],w++,x+=_*_}}else for(;W--!=0;){var _;_=Math.abs(P.xr[w])-H[E[w]]*L,w++,x+=_*_,_=Math.abs(P.xr[w])-H[E[w]]*L,w++,x+=_*_}return D.s=w,x},this.calc_noise=function(P,D,W,L,x){var w=0,E=0,_,p,h=0,T=0,G=0,te=-20,q=0,U=P.scalefac,ee=0;for(L.over_SSD=0,_=0;_<P.psymax;_++){var ae=P.global_gain-(U[ee++]+(P.preflag!=0?k[_]:0)<<P.scalefac_scale+1)-P.subblock_gain[P.window[_]]*8,me=0;if(x!=null&&x.step[_]==ae)me=x.noise[_],q+=P.width[_],W[w++]=me/D[E++],me=x.noise_log[_];else{var Me=Y(ae);if(p=P.width[_]>>1,q+P.width[_]>P.max_nonzero_coeff){var xe;xe=P.max_nonzero_coeff-q+1,xe>0?p=xe>>1:p=0}var ge=new y(q);me=this.calc_noise_core(P,ge,p,Me),q=ge.s,x!=null&&(x.step[_]=ae,x.noise[_]=me),me=W[w++]=me/D[E++],me=i.FAST_LOG10(Math.max(me,1e-20)),x!=null&&(x.noise_log[_]=me)}if(x!=null&&(x.global_gain=P.global_gain),G+=me,me>0){var Be;Be=Math.max(0|me*10+.5,1),L.over_SSD+=Be*Be,h++,T+=me}te=Math.max(te,me)}return L.over_count=h,L.tot_noise=G,L.over_noise=T,L.max_noise=te,h},this.set_pinfo=function(P,D,W,L,x){var w=P.internal_flags,E,_,p,h,T,G=D.scalefac_scale==0?.5:1,te=D.scalefac,q=a(L3Side.SFBMAX),U=a(L3Side.SFBMAX),ee=new CalcNoiseResult;calc_xmin(P,W,D,q),calc_noise(D,q,U,ee,null);var ae=0;for(_=D.sfb_lmax,D.block_type!=f.SHORT_TYPE&&D.mixed_block_flag==0&&(_=22),E=0;E<_;E++){var me=w.scalefac_band.l[E],Me=w.scalefac_band.l[E+1],xe=Me-me;for(h=0;ae<Me;ae++)h+=D.xr[ae]*D.xr[ae];h/=xe,T=1e15,w.pinfo.en[L][x][E]=T*h,w.pinfo.xfsf[L][x][E]=T*q[E]*U[E]/xe,W.en.l[E]>0&&!P.ATHonly?h=h/W.en.l[E]:h=0,w.pinfo.thr[L][x][E]=T*Math.max(h*W.thm.l[E],w.ATH.l[E]),w.pinfo.LAMEsfb[L][x][E]=0,D.preflag!=0&&E>=11&&(w.pinfo.LAMEsfb[L][x][E]=-G*k[E]),E<f.SBPSY_l&&(l(te[E]>=0),w.pinfo.LAMEsfb[L][x][E]-=G*te[E])}if(D.block_type==f.SHORT_TYPE)for(_=E,E=D.sfb_smin;E<f.SBMAX_s;E++)for(var me=w.scalefac_band.s[E],Me=w.scalefac_band.s[E+1],xe=Me-me,ge=0;ge<3;ge++){for(h=0,p=me;p<Me;p++)h+=D.xr[ae]*D.xr[ae],ae++;h=Math.max(h/xe,1e-20),T=1e15,w.pinfo.en_s[L][x][3*E+ge]=T*h,w.pinfo.xfsf_s[L][x][3*E+ge]=T*q[_]*U[_]/xe,W.en.s[E][ge]>0?h=h/W.en.s[E][ge]:h=0,(P.ATHonly||P.ATHshort)&&(h=0),w.pinfo.thr_s[L][x][3*E+ge]=T*Math.max(h*W.thm.s[E][ge],w.ATH.s[E]),w.pinfo.LAMEsfb_s[L][x][3*E+ge]=-2*D.subblock_gain[ge],E<f.SBPSY_s&&(w.pinfo.LAMEsfb_s[L][x][3*E+ge]-=G*te[_]),_++}w.pinfo.LAMEqss[L][x]=D.global_gain,w.pinfo.LAMEmainbits[L][x]=D.part2_3_length+D.part2_length,w.pinfo.LAMEsfbits[L][x]=D.part2_length,w.pinfo.over[L][x]=ee.over_count,w.pinfo.max_noise[L][x]=ee.max_noise*10,w.pinfo.over_noise[L][x]=ee.over_noise*10,w.pinfo.tot_noise[L][x]=ee.tot_noise*10,w.pinfo.over_SSD[L][x]=ee.over_SSD}}return D0=d,D0}var j0,hd;function g_(){if(hd)return j0;hd=1;var e=ct,t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var n=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var r=e.new_int;e.new_int_n;var i=e.assert,a=$t(),s=lc,l=oc,f=S_();function A(){var c=null;this.qupvt=null,this.setModules=function(w){this.qupvt=w,c=w};function d(w){this.bits=0|w}var b=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function z(w,E,_,p,h,T){var G=.5946/E;for(i(w>0),w=w>>1;w--!=0;)h[T++]=G>_[p++]?0:1,h[T++]=G>_[p++]?0:1}function C(w,E,_,p,h,T){i(w>0),w=w>>1;var G=w%2;for(w=w>>1;w--!=0;){var te,q,U,ee,ae,me,Me,xe;te=_[p++]*E,q=_[p++]*E,ae=0|te,U=_[p++]*E,me=0|q,ee=_[p++]*E,Me=0|U,te+=c.adj43[ae],xe=0|ee,q+=c.adj43[me],h[T++]=0|te,U+=c.adj43[Me],h[T++]=0|q,ee+=c.adj43[xe],h[T++]=0|U,h[T++]=0|ee}if(G!=0){var te,q,ae,me;te=_[p++]*E,q=_[p++]*E,ae=0|te,me=0|q,te+=c.adj43[ae],q+=c.adj43[me],h[T++]=0|te,h[T++]=0|q}}function V(w,E,_,p,h){var T,G,te=0,q,U=0,ee=0,ae=0,me=E,Me=0,xe=me,ge=0,Be=w,Xe=0;for(q=h!=null&&p.global_gain==h.global_gain,p.block_type==a.SHORT_TYPE?G=38:G=21,T=0;T<=G;T++){var dt=-1;if((q||p.block_type==a.NORM_TYPE)&&(dt=p.global_gain-(p.scalefac[T]+(p.preflag!=0?c.pretab[T]:0)<<p.scalefac_scale+1)-p.subblock_gain[p.window[T]]*8),i(p.width[T]>=0),q&&h.step[T]==dt)U!=0&&(C(U,_,Be,Xe,xe,ge),U=0),ee!=0&&(z(ee,_,Be,Xe,xe,ge),ee=0);else{var g=p.width[T];if(te+p.width[T]>p.max_nonzero_coeff){var M;M=p.max_nonzero_coeff-te+1,n.fill(E,p.max_nonzero_coeff,576,0),g=M,g<0&&(g=0),T=G+1}if(U==0&&ee==0&&(xe=me,ge=Me,Be=w,Xe=ae),h!=null&&h.sfb_count1>0&&T>=h.sfb_count1&&h.step[T]>0&&dt>=h.step[T]?(U!=0&&(C(U,_,Be,Xe,xe,ge),U=0,xe=me,ge=Me,Be=w,Xe=ae),ee+=g):(ee!=0&&(z(ee,_,Be,Xe,xe,ge),ee=0,xe=me,ge=Me,Be=w,Xe=ae),U+=g),g<=0){ee!=0&&(z(ee,_,Be,Xe,xe,ge),ee=0),U!=0&&(C(U,_,Be,Xe,xe,ge),U=0);break}}T<=G&&(Me+=p.width[T],ae+=p.width[T],te+=p.width[T])}U!=0&&(C(U,_,Be,Xe,xe,ge),U=0),ee!=0&&(z(ee,_,Be,Xe,xe,ge),ee=0)}function Y(w,E,_){var p=0,h=0;do{var T=w[E++],G=w[E++];p<T&&(p=T),h<G&&(h=G)}while(E<_);return p<h&&(p=h),p}function v(w,E,_,p,h,T){var G=s.ht[p].xlen*65536+s.ht[h].xlen,te=0,q;do{var U=w[E++],ee=w[E++];U!=0&&(U>14&&(U=15,te+=G),U*=16),ee!=0&&(ee>14&&(ee=15,te+=G),U+=ee),te+=s.largetbl[U]}while(E<_);return q=te&65535,te>>=16,te>q&&(te=q,p=h),T.bits+=te,p}function u(w,E,_,p){var h=0,T=s.ht[1].hlen;do{var G=w[E+0]*2+w[E+1];E+=2,h+=T[G]}while(E<_);return p.bits+=h,1}function m(w,E,_,p,h){var T=0,G,te=s.ht[p].xlen,q;p==2?q=s.table23:q=s.table56;do{var U=w[E+0]*te+w[E+1];E+=2,T+=q[U]}while(E<_);return G=T&65535,T>>=16,T>G&&(T=G,p++),h.bits+=T,p}function R(w,E,_,p,h){var T=0,G=0,te=0,q=s.ht[p].xlen,U=s.ht[p].hlen,ee=s.ht[p+1].hlen,ae=s.ht[p+2].hlen;do{var me=w[E+0]*q+w[E+1];E+=2,T+=U[me],G+=ee[me],te+=ae[me]}while(E<_);var Me=p;return T>G&&(T=G,Me++),T>te&&(T=te,Me=p+2),h.bits+=T,Me}var o=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function S(w,E,_,p){var h=Y(w,E,_);switch(h){case 0:return h;case 1:return u(w,E,_,p);case 2:case 3:return m(w,E,_,o[h-1],p);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return R(w,E,_,o[h-1],p);default:if(h>f.IXMAX_VAL)return p.bits=f.LARGE_BITS,-1;h-=15;var T;for(T=24;T<32&&!(s.ht[T].linmax>=h);T++);var G;for(G=T-8;G<24&&!(s.ht[G].linmax>=h);G++);return v(w,E,_,G,T,p)}}this.noquant_count_bits=function(w,E,_){var p=E.l3_enc,h=Math.min(576,E.max_nonzero_coeff+2>>1<<1);for(_!=null&&(_.sfb_count1=0);h>1&&!(p[h-1]|p[h-2]);h-=2);E.count1=h;for(var T=0,G=0;h>3;h-=4){var te;if(((p[h-1]|p[h-2]|p[h-3]|p[h-4])&2147483647)>1)break;te=((p[h-4]*2+p[h-3])*2+p[h-2])*2+p[h-1],T+=s.t32l[te],G+=s.t33l[te]}var q=T;if(E.count1table_select=0,T>G&&(q=G,E.count1table_select=1),E.count1bits=q,E.big_values=h,h==0)return q;if(E.block_type==a.SHORT_TYPE)T=3*w.scalefac_band.s[3],T>E.big_values&&(T=E.big_values),G=E.big_values;else if(E.block_type==a.NORM_TYPE){if(i(h<=576),T=E.region0_count=w.bv_scf[h-2],G=E.region1_count=w.bv_scf[h-1],i(T+G+2<a.SBPSY_l),G=w.scalefac_band.l[T+G+2],T=w.scalefac_band.l[T+1],G<h){var U=new d(q);E.table_select[2]=S(p,G,h,U),q=U.bits}}else E.region0_count=7,E.region1_count=a.SBMAX_l-1-7-1,T=w.scalefac_band.l[8],G=h,T>G&&(T=G);if(T=Math.min(T,h),G=Math.min(G,h),i(T>=0),i(G>=0),0<T){var U=new d(q);E.table_select[0]=S(p,0,T,U),q=U.bits}if(T<G){var U=new d(q);E.table_select[1]=S(p,T,G,U),q=U.bits}if(w.use_best_huffman==2&&(E.part2_3_length=q,best_huffman_divide(w,E),q=E.part2_3_length),_!=null&&E.block_type==a.NORM_TYPE){for(var ee=0;w.scalefac_band.l[ee]<E.big_values;)ee++;_.sfb_count1=ee}return q},this.count_bits=function(w,E,_,p){var h=_.l3_enc,T=f.IXMAX_VAL/c.IPOW20(_.global_gain);if(_.xrpow_max>T)return f.LARGE_BITS;if(V(E,h,c.IPOW20(_.global_gain),_,p),w.substep_shaping&2)for(var G=0,te=_.global_gain+_.scalefac_scale,q=.634521682242439/c.IPOW20(te),U=0;U<_.sfbmax;U++){var ee=_.width[U];if(i(ee>=0),w.pseudohalf[U]==0)G+=ee;else{var ae;for(ae=G,G+=ee;ae<G;++ae)h[ae]=E[ae]>=q?h[ae]:0}}return this.noquant_count_bits(w,_,p)};function k(w,E,_,p,h,T,G){for(var te=E.big_values,q=0;q<=22;q++)p[q]=f.LARGE_BITS;for(var q=0;q<16;q++){var U=w.scalefac_band.l[q+1];if(U>=te)break;var ee=0,ae=new d(ee),me=S(_,0,U,ae);ee=ae.bits;for(var Me=0;Me<8;Me++){var xe=w.scalefac_band.l[q+Me+2];if(xe>=te)break;var ge=ee;ae=new d(ge);var Be=S(_,U,xe,ae);ge=ae.bits,p[q+Me]>ge&&(p[q+Me]=ge,h[q+Me]=q,T[q+Me]=me,G[q+Me]=Be)}}}function j(w,E,_,p,h,T,G,te){for(var q=E.big_values,U=2;U<a.SBMAX_l+1;U++){var ee=w.scalefac_band.l[U];if(ee>=q)break;var ae=h[U-2]+E.count1bits;if(_.part2_3_length<=ae)break;var me=new d(ae),Me=S(p,ee,q,me);ae=me.bits,!(_.part2_3_length<=ae)&&(_.assign(E),_.part2_3_length=ae,_.region0_count=T[U-2],_.region1_count=U-2-T[U-2],_.table_select[0]=G[U-2],_.table_select[1]=te[U-2],_.table_select[2]=Me)}}this.best_huffman_divide=function(w,E){var _=new l,p=E.l3_enc,h=r(23),T=r(23),G=r(23),te=r(23);if(!(E.block_type==a.SHORT_TYPE&&w.mode_gr==1)){_.assign(E),E.block_type==a.NORM_TYPE&&(k(w,E,p,h,T,G,te),j(w,_,E,p,h,T,G,te));var q=_.big_values;if(!(q==0||(p[q-2]|p[q-1])>1)&&(q=E.count1+2,!(q>576))){_.assign(E),_.count1=q;var U=0,ee=0;for(i(q<=576);q>_.big_values;q-=4){var ae=((p[q-4]*2+p[q-3])*2+p[q-2])*2+p[q-1];U+=s.t32l[ae],ee+=s.t33l[ae]}if(_.big_values=q,_.count1table_select=0,U>ee&&(U=ee,_.count1table_select=1),_.count1bits=U,_.block_type==a.NORM_TYPE)j(w,_,E,p,h,T,G,te);else{if(_.part2_3_length=U,U=w.scalefac_band.l[8],U>q&&(U=q),U>0){var me=new d(_.part2_3_length);_.table_select[0]=S(p,0,U,me),_.part2_3_length=me.bits}if(q>U){var me=new d(_.part2_3_length);_.table_select[1]=S(p,U,q,me),_.part2_3_length=me.bits}E.part2_3_length>_.part2_3_length&&E.assign(_)}}}};var $=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],H=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],Z=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],re=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];A.slen1_tab=Z,A.slen2_tab=re;function N(w,E){for(var _,p=E.tt[1][w],h=E.tt[0][w],T=0;T<s.scfsi_band.length-1;T++){for(_=s.scfsi_band[T];_<s.scfsi_band[T+1]&&!(h.scalefac[_]!=p.scalefac[_]&&p.scalefac[_]>=0);_++);if(_==s.scfsi_band[T+1]){for(_=s.scfsi_band[T];_<s.scfsi_band[T+1];_++)p.scalefac[_]=-1;E.scfsi[w][T]=1}}var G=0,te=0;for(_=0;_<11;_++)p.scalefac[_]!=-1&&(te++,G<p.scalefac[_]&&(G=p.scalefac[_]));for(var q=0,U=0;_<a.SBPSY_l;_++)p.scalefac[_]!=-1&&(U++,q<p.scalefac[_]&&(q=p.scalefac[_]));for(var T=0;T<16;T++)if(G<$[T]&&q<H[T]){var ee=Z[T]*te+re[T]*U;p.part2_length>ee&&(p.part2_length=ee,p.scalefac_compress=T)}}this.best_scalefac_store=function(w,E,_,p){var h=p.tt[E][_],T,G,te,q,U=0;for(te=0,T=0;T<h.sfbmax;T++){var ee=h.width[T];for(i(ee>=0),te+=ee,q=-ee;q<0&&h.l3_enc[q+te]==0;q++);q==0&&(h.scalefac[T]=U=-2)}if(h.scalefac_scale==0&&h.preflag==0){var ae=0;for(T=0;T<h.sfbmax;T++)h.scalefac[T]>0&&(ae|=h.scalefac[T]);if(!(ae&1)&&ae!=0){for(T=0;T<h.sfbmax;T++)h.scalefac[T]>0&&(h.scalefac[T]>>=1);h.scalefac_scale=U=1}}if(h.preflag==0&&h.block_type!=a.SHORT_TYPE&&w.mode_gr==2){for(T=11;T<a.SBPSY_l&&!(h.scalefac[T]<c.pretab[T]&&h.scalefac[T]!=-2);T++);if(T==a.SBPSY_l){for(T=11;T<a.SBPSY_l;T++)h.scalefac[T]>0&&(h.scalefac[T]-=c.pretab[T]);h.preflag=U=1}}for(G=0;G<4;G++)p.scfsi[_][G]=0;for(w.mode_gr==2&&E==1&&p.tt[0][_].block_type!=a.SHORT_TYPE&&p.tt[1][_].block_type!=a.SHORT_TYPE&&(N(_,p),U=0),T=0;T<h.sfbmax;T++)h.scalefac[T]==-2&&(h.scalefac[T]=0);U!=0&&(w.mode_gr==2?this.scale_bitcount(h):this.scale_bitcount_lsf(w,h))};function y(w,E){for(var _=0;_<E;++_)if(w[_]<0)return!1;return!0}var P=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],D=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],W=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(w){var E,_,p=0,h=0,T,G=w.scalefac;if(i(y(G,w.sfbmax)),w.block_type==a.SHORT_TYPE)T=P,w.mixed_block_flag!=0&&(T=D);else if(T=W,w.preflag==0){for(_=11;_<a.SBPSY_l&&!(G[_]<c.pretab[_]);_++);if(_==a.SBPSY_l)for(w.preflag=1,_=11;_<a.SBPSY_l;_++)G[_]-=c.pretab[_]}for(_=0;_<w.sfbdivide;_++)p<G[_]&&(p=G[_]);for(;_<w.sfbmax;_++)h<G[_]&&(h=G[_]);for(w.part2_length=f.LARGE_BITS,E=0;E<16;E++)p<$[E]&&h<H[E]&&w.part2_length>T[E]&&(w.part2_length=T[E],w.scalefac_compress=E);return w.part2_length==f.LARGE_BITS};var L=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(w,E){var _,p,h,T,G,te,q,U,ee=r(4),ae=E.scalefac;for(E.preflag!=0?_=2:_=0,q=0;q<4;q++)ee[q]=0;if(E.block_type==a.SHORT_TYPE){p=1;var me=c.nr_of_sfb_block[_][p];for(U=0,h=0;h<4;h++)for(T=me[h]/3,q=0;q<T;q++,U++)for(G=0;G<3;G++)ae[U*3+G]>ee[h]&&(ee[h]=ae[U*3+G])}else{p=0;var me=c.nr_of_sfb_block[_][p];for(U=0,h=0;h<4;h++)for(T=me[h],q=0;q<T;q++,U++)ae[U]>ee[h]&&(ee[h]=ae[U])}for(te=!1,h=0;h<4;h++)ee[h]>L[_][h]&&(te=!0);if(!te){var Me,xe,ge,Be;for(E.sfb_partition_table=c.nr_of_sfb_block[_][p],h=0;h<4;h++)E.slen[h]=x[ee[h]];switch(Me=E.slen[0],xe=E.slen[1],ge=E.slen[2],Be=E.slen[3],_){case 0:E.scalefac_compress=(Me*5+xe<<4)+(ge<<2)+Be;break;case 1:E.scalefac_compress=400+(Me*5+xe<<2)+ge;break;case 2:E.scalefac_compress=500+Me*3+xe;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!te)for(i(E.sfb_partition_table!=null),E.part2_length=0,h=0;h<4;h++)E.part2_length+=E.slen[h]*E.sfb_partition_table[h];return te};var x=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(w){for(var E=2;E<=576;E+=2){for(var _=0,p;w.scalefac_band.l[++_]<E;);for(p=b[_][0];w.scalefac_band.l[p+1]>E;)p--;for(p<0&&(p=b[_][0]),w.bv_scf[E-2]=p,p=b[_][1];w.scalefac_band.l[p+w.bv_scf[E-2]+2]>E;)p--;p<0&&(p=b[_][1]),w.bv_scf[E-1]=p}}}return j0=A,j0}var H0,_d;function uc(){if(_d)return H0;_d=1;var e=ct,t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var n=e.Arrays;e.new_array_n;var r=e.new_byte;e.new_double,e.new_float;var i=e.new_float_n,a=e.new_int;e.new_int_n;var s=e.assert,l=g_(),f=lc,A=$t(),c=$l;d.EQ=function(b,z){return Math.abs(b)>Math.abs(z)?Math.abs(b-z)<=Math.abs(b)*1e-6:Math.abs(b-z)<=Math.abs(z)*1e-6},d.NEQ=function(b,z){return!d.EQ(b,z)};function d(){var b=cc(),z=this,C=32773,V=32,Y=null,v=null,u=null,m=null;this.setModules=function(_,p,h,T){Y=_,v=p,u=h,m=T};var R=null,o=0,S=0,k=0;this.getframebits=function(_){var p=_.internal_flags,h;p.bitrate_index!=0?h=f.bitrate_table[_.version][p.bitrate_index]:h=_.brate,s(8<=h&&h<=640);var T=0|(_.version+1)*72e3*h/_.out_samplerate+p.padding;return 8*T};function j(_){t.arraycopy(_.header[_.w_ptr].buf,0,R,S,_.sideinfo_len),S+=_.sideinfo_len,o+=_.sideinfo_len*8,_.w_ptr=_.w_ptr+1&c.MAX_HEADER_BUF-1}function $(_,p,h){for(s(h<V-2);h>0;){var T;k==0&&(k=8,S++,s(S<b.LAME_MAXMP3BUFFER),s(_.header[_.w_ptr].write_timing>=o),_.header[_.w_ptr].write_timing==o&&j(_),R[S]=0),T=Math.min(h,k),h-=T,k-=T,s(h<V),s(k<V),R[S]|=p>>h<<k,o+=T}}function H(_,p,h){for(s(h<V-2);h>0;){var T;k==0&&(k=8,S++,s(S<b.LAME_MAXMP3BUFFER),R[S]=0),T=Math.min(h,k),h-=T,k-=T,s(h<V),s(k<V),R[S]|=p>>h<<k,o+=T}}function Z(_,p){var h=_.internal_flags,T;if(s(p>=0),p>=8&&($(h,76,8),p-=8),p>=8&&($(h,65,8),p-=8),p>=8&&($(h,77,8),p-=8),p>=8&&($(h,69,8),p-=8),p>=32){var G=u.getLameShortVersion();if(p>=32)for(T=0;T<G.length&&p>=8;++T)p-=8,$(h,G.charAt(T),8)}for(;p>=1;p-=1)$(h,h.ancillary_flag,1),h.ancillary_flag^=_.disable_reservoir?0:1;s(p==0)}function re(_,p,h){for(var T=_.header[_.h_ptr].ptr;h>0;){var G=Math.min(h,8-(T&7));h-=G,s(h<V),_.header[_.h_ptr].buf[T>>3]|=p>>h<<8-(T&7)-G,T+=G}_.header[_.h_ptr].ptr=T}function N(_,p){_<<=8;for(var h=0;h<8;h++)_<<=1,p<<=1,(p^_)&65536&&(p^=C);return p}this.CRC_writeheader=function(_,p){var h=65535;h=N(p[2]&255,h),h=N(p[3]&255,h);for(var T=6;T<_.sideinfo_len;T++)h=N(p[T]&255,h);p[4]=byte(h>>8),p[5]=byte(h&255)};function y(_,p){var h=_.internal_flags,T,G,te;if(T=h.l3_side,h.header[h.h_ptr].ptr=0,n.fill(h.header[h.h_ptr].buf,0,h.sideinfo_len,0),_.out_samplerate<16e3?re(h,4094,12):re(h,4095,12),re(h,_.version,1),re(h,1,2),re(h,_.error_protection?0:1,1),re(h,h.bitrate_index,4),re(h,h.samplerate_index,2),re(h,h.padding,1),re(h,_.extension,1),re(h,_.mode.ordinal(),2),re(h,h.mode_ext,2),re(h,_.copyright,1),re(h,_.original,1),re(h,_.emphasis,2),_.error_protection&&re(h,0,16),_.version==1){for(s(T.main_data_begin>=0),re(h,T.main_data_begin,9),h.channels_out==2?re(h,T.private_bits,3):re(h,T.private_bits,5),te=0;te<h.channels_out;te++){var q;for(q=0;q<4;q++)re(h,T.scfsi[te][q],1)}for(G=0;G<2;G++)for(te=0;te<h.channels_out;te++){var U=T.tt[G][te];re(h,U.part2_3_length+U.part2_length,12),re(h,U.big_values/2,9),re(h,U.global_gain,8),re(h,U.scalefac_compress,4),U.block_type!=A.NORM_TYPE?(re(h,1,1),re(h,U.block_type,2),re(h,U.mixed_block_flag,1),U.table_select[0]==14&&(U.table_select[0]=16),re(h,U.table_select[0],5),U.table_select[1]==14&&(U.table_select[1]=16),re(h,U.table_select[1],5),re(h,U.subblock_gain[0],3),re(h,U.subblock_gain[1],3),re(h,U.subblock_gain[2],3)):(re(h,0,1),U.table_select[0]==14&&(U.table_select[0]=16),re(h,U.table_select[0],5),U.table_select[1]==14&&(U.table_select[1]=16),re(h,U.table_select[1],5),U.table_select[2]==14&&(U.table_select[2]=16),re(h,U.table_select[2],5),s(0<=U.region0_count&&U.region0_count<16),s(0<=U.region1_count&&U.region1_count<8),re(h,U.region0_count,4),re(h,U.region1_count,3)),re(h,U.preflag,1),re(h,U.scalefac_scale,1),re(h,U.count1table_select,1)}}else for(s(T.main_data_begin>=0),re(h,T.main_data_begin,8),re(h,T.private_bits,h.channels_out),G=0,te=0;te<h.channels_out;te++){var U=T.tt[G][te];re(h,U.part2_3_length+U.part2_length,12),re(h,U.big_values/2,9),re(h,U.global_gain,8),re(h,U.scalefac_compress,9),U.block_type!=A.NORM_TYPE?(re(h,1,1),re(h,U.block_type,2),re(h,U.mixed_block_flag,1),U.table_select[0]==14&&(U.table_select[0]=16),re(h,U.table_select[0],5),U.table_select[1]==14&&(U.table_select[1]=16),re(h,U.table_select[1],5),re(h,U.subblock_gain[0],3),re(h,U.subblock_gain[1],3),re(h,U.subblock_gain[2],3)):(re(h,0,1),U.table_select[0]==14&&(U.table_select[0]=16),re(h,U.table_select[0],5),U.table_select[1]==14&&(U.table_select[1]=16),re(h,U.table_select[1],5),U.table_select[2]==14&&(U.table_select[2]=16),re(h,U.table_select[2],5),s(0<=U.region0_count&&U.region0_count<16),s(0<=U.region1_count&&U.region1_count<8),re(h,U.region0_count,4),re(h,U.region1_count,3)),re(h,U.scalefac_scale,1),re(h,U.count1table_select,1)}_.error_protection&&CRC_writeheader(h,h.header[h.h_ptr].buf);{var ee=h.h_ptr;s(h.header[ee].ptr==h.sideinfo_len*8),h.h_ptr=ee+1&c.MAX_HEADER_BUF-1,h.header[h.h_ptr].write_timing=h.header[ee].write_timing+p,h.h_ptr==h.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function P(_,p){var h=f.ht[p.count1table_select+32],T,G=0,te=p.big_values,q=p.big_values;for(s(p.count1table_select<2),T=(p.count1-p.big_values)/4;T>0;--T){var U=0,ee=0,ae;ae=p.l3_enc[te+0],ae!=0&&(ee+=8,p.xr[q+0]<0&&U++,s(ae<=1)),ae=p.l3_enc[te+1],ae!=0&&(ee+=4,U*=2,p.xr[q+1]<0&&U++,s(ae<=1)),ae=p.l3_enc[te+2],ae!=0&&(ee+=2,U*=2,p.xr[q+2]<0&&U++,s(ae<=1)),ae=p.l3_enc[te+3],ae!=0&&(ee++,U*=2,p.xr[q+3]<0&&U++,s(ae<=1)),te+=4,q+=4,$(_,U+h.table[ee],h.hlen[ee]),G+=h.hlen[ee]}return G}function D(_,p,h,T,G){var te=f.ht[p],q=0;if(s(p<32),p==0)return q;for(var U=h;U<T;U+=2){var ee=0,ae=0,me=te.xlen,Me=te.xlen,xe=0,ge=G.l3_enc[U],Be=G.l3_enc[U+1];if(ge!=0&&(G.xr[U]<0&&xe++,ee--),p>15){if(ge>14){var Xe=ge-15;s(Xe<=te.linmax),xe|=Xe<<1,ae=me,ge=15}if(Be>14){var dt=Be-15;s(dt<=te.linmax),xe<<=me,xe|=dt,ae+=me,Be=15}Me=16}Be!=0&&(xe<<=1,G.xr[U+1]<0&&xe++,ee--),s((ge|Be)<16),ge=ge*Me+Be,ae-=ee,ee+=te.hlen[ge],s(ee<=V),s(ae<=V),$(_,te.table[ge],ee),$(_,xe,ae),q+=ee+ae}return q}function W(_,p){var h=3*_.scalefac_band.s[3];h>p.big_values&&(h=p.big_values);var T=D(_,p.table_select[0],0,h,p);return T+=D(_,p.table_select[1],h,p.big_values,p),T}function L(_,p){var h,T,G,te;h=p.big_values,s(0<=h&&h<=576);var q=p.region0_count+1;return s(0<=q),s(q<_.scalefac_band.l.length),G=_.scalefac_band.l[q],q+=p.region1_count+1,s(0<=q),s(q<_.scalefac_band.l.length),te=_.scalefac_band.l[q],G>h&&(G=h),te>h&&(te=h),T=D(_,p.table_select[0],0,G,p),T+=D(_,p.table_select[1],G,te,p),T+=D(_,p.table_select[2],te,h,p),T}function x(_){var p,h,T,G,te=0,q=_.internal_flags,U=q.l3_side;if(_.version==1)for(p=0;p<2;p++)for(h=0;h<q.channels_out;h++){var ee=U.tt[p][h],ae=l.slen1_tab[ee.scalefac_compress],me=l.slen2_tab[ee.scalefac_compress];for(G=0,T=0;T<ee.sfbdivide;T++)ee.scalefac[T]!=-1&&($(q,ee.scalefac[T],ae),G+=ae);for(;T<ee.sfbmax;T++)ee.scalefac[T]!=-1&&($(q,ee.scalefac[T],me),G+=me);s(G==ee.part2_length),ee.block_type==A.SHORT_TYPE?G+=W(q,ee):G+=L(q,ee),G+=P(q,ee),s(G==ee.part2_3_length+ee.part2_length),te+=G}else for(p=0,h=0;h<q.channels_out;h++){var ee=U.tt[p][h],Me,xe,ge=0;if(s(ee.sfb_partition_table!=null),G=0,T=0,xe=0,ee.block_type==A.SHORT_TYPE){for(;xe<4;xe++){var Be=ee.sfb_partition_table[xe]/3,Xe=ee.slen[xe];for(Me=0;Me<Be;Me++,T++)$(q,Math.max(ee.scalefac[T*3+0],0),Xe),$(q,Math.max(ee.scalefac[T*3+1],0),Xe),$(q,Math.max(ee.scalefac[T*3+2],0),Xe),ge+=3*Xe}G+=W(q,ee)}else{for(;xe<4;xe++){var Be=ee.sfb_partition_table[xe],Xe=ee.slen[xe];for(Me=0;Me<Be;Me++,T++)$(q,Math.max(ee.scalefac[T],0),Xe),ge+=Xe}G+=L(q,ee)}G+=P(q,ee),s(G==ee.part2_3_length),s(ge==ee.part2_length),te+=ge+G}return te}function w(){this.total=0}function E(_,p){var h=_.internal_flags,T,G,te,q,U;return U=h.w_ptr,q=h.h_ptr-1,q==-1&&(q=c.MAX_HEADER_BUF-1),T=h.header[q].write_timing-o,p.total=T,T>=0&&(G=1+q-U,q<U&&(G=1+q-U+c.MAX_HEADER_BUF),T-=G*8*h.sideinfo_len),te=z.getframebits(_),T+=te,p.total+=te,p.total%8!=0?p.total=1+p.total/8:p.total=p.total/8,p.total+=S+1,T<0&&t.err.println(`strange error flushing buffer ... 
`),T}this.flush_bitstream=function(_){var p=_.internal_flags,h,T,G=p.h_ptr-1;if(G==-1&&(G=c.MAX_HEADER_BUF-1),h=p.l3_side,!((T=E(_,new w))<0)){if(Z(_,T),s(p.header[G].write_timing+this.getframebits(_)==o),p.ResvSize=0,h.main_data_begin=0,p.findReplayGain){var te=Y.GetTitleGain(p.rgdata);s(NEQ(te,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),p.RadioGain=Math.floor(te*10+.5)|0}p.findPeakSample&&(p.noclipGainChange=Math.ceil(Math.log10(p.PeakSample/32767)*20*10)|0,p.noclipGainChange>0&&(EQ(_.scale,1)||EQ(_.scale,0))?p.noclipScale=Math.floor(32767/p.PeakSample*100)/100:p.noclipScale=-1)}},this.add_dummy_byte=function(_,p,h){for(var T=_.internal_flags,G;h-- >0;)for(H(T,p,8),G=0;G<c.MAX_HEADER_BUF;++G)T.header[G].write_timing+=8},this.format_bitstream=function(_){var p=_.internal_flags,h;h=p.l3_side;var T=this.getframebits(_);Z(_,h.resvDrain_pre),y(_,T);var G=8*p.sideinfo_len;if(G+=x(_),Z(_,h.resvDrain_post),G+=h.resvDrain_post,h.main_data_begin+=(T-G)/8,E(_,new w)!=p.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),h.main_data_begin*8!=p.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*h.main_data_begin,p.ResvSize,h.resvDrain_post,h.resvDrain_pre,8*p.sideinfo_len,G-h.resvDrain_post-8*p.sideinfo_len,G,G%8,T),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),p.ResvSize=h.main_data_begin*8),s(o%8==0),o>1e9){var te;for(te=0;te<c.MAX_HEADER_BUF;++te)p.header[te].write_timing-=o;o=0}return 0},this.copy_buffer=function(_,p,h,T,G){var te=S+1;if(te<=0)return 0;if(T!=0&&te>T)return-1;if(t.arraycopy(R,0,p,h,te),S=-1,k=0,G!=0){var q=a(1);if(q[0]=_.nMusicCRC,m.updateMusicCRC(q,p,h,te),_.nMusicCRC=q[0],te>0&&(_.VBR_seek_table.nBytesWritten+=te),_.decode_on_the_fly){for(var U=i([2,1152]),ee=te,ae=-1,me;ae!=0;)if(ae=v.hip_decode1_unclipped(_.hip,p,h,ee,U[0],U[1]),ee=0,ae==-1&&(ae=0),ae>0){if(s(ae<=1152),_.findPeakSample){for(me=0;me<ae;me++)U[0][me]>_.PeakSample?_.PeakSample=U[0][me]:-U[0][me]>_.PeakSample&&(_.PeakSample=-U[0][me]);if(_.channels_out>1)for(me=0;me<ae;me++)U[1][me]>_.PeakSample?_.PeakSample=U[1][me]:-U[1][me]>_.PeakSample&&(_.PeakSample=-U[1][me])}if(_.findReplayGain&&Y.AnalyzeSamples(_.rgdata,U[0],0,U[1],0,ae,_.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return te},this.init_bit_stream_w=function(_){R=r(b.LAME_MAXMP3BUFFER),_.h_ptr=_.w_ptr=0,_.header[_.h_ptr].write_timing=0,S=-1,k=0,o=0}}return H0=d,H0}var V0,md;function cc(){if(md)return V0;md=1;var e=ct,t=e.System,n=e.VbrMode;e.Float;var r=e.ShortBlock;e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var i=e.new_float;e.new_float_n,e.new_int;var a=e.new_int_n,s=e.new_short_n,l=e.assert,f=pv,A=wv,c=$l,d=Vv,b=Uv,z=Kv,C=uc(),V=lc,Y=$t();function v(){var u=As,m=this,R=128*1024;v.V9=410,v.V8=420,v.V7=430,v.V6=440,v.V5=450,v.V4=460,v.V3=470,v.V2=480,v.V1=490,v.V0=500,v.R3MIX=1e3,v.STANDARD=1001,v.EXTREME=1002,v.INSANE=1003,v.STANDARD_FAST=1004,v.EXTREME_FAST=1005,v.MEDIUM=1006,v.MEDIUM_FAST=1007;var o=16384+R;v.LAME_MAXMP3BUFFER=o;var S,k,j,$,H,Z=new f,re,N,y;this.enc=new Y,this.setModules=function(g,M,we,Re,De,Pe,ke,Te,Ve){S=g,k=M,j=we,$=Re,H=De,re=Pe,N=Te,y=Ve,this.enc.setModules(k,Z,$,re)};function P(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i(Y.SBMAX_l),this.bo_s_weight=i(Y.SBMAX_s)}function D(){this.lowerlimit=0}function W(g,M){this.lowpass=M}var L=4294479419;function x(g){var M;return g.class_id=L,M=g.internal_flags=new c,g.mode=u.NOT_SET,g.original=1,g.in_samplerate=44100,g.num_channels=2,g.num_samples=-1,g.bWriteVbrTag=!0,g.quality=-1,g.short_blocks=null,M.subblock_gain=-1,g.lowpassfreq=0,g.highpassfreq=0,g.lowpasswidth=-1,g.highpasswidth=-1,g.VBR=n.vbr_off,g.VBR_q=4,g.ATHcurve=-1,g.VBR_mean_bitrate_kbps=128,g.VBR_min_bitrate_kbps=0,g.VBR_max_bitrate_kbps=0,g.VBR_hard_min=0,M.VBR_min_bitrate=1,M.VBR_max_bitrate=13,g.quant_comp=-1,g.quant_comp_short=-1,g.msfix=-1,M.resample_ratio=1,M.OldValue[0]=180,M.OldValue[1]=180,M.CurrentStep[0]=4,M.CurrentStep[1]=4,M.masking_lower=1,M.nsPsy.attackthre=-1,M.nsPsy.attackthre_s=-1,g.scale=-1,g.athaa_type=-1,g.ATHtype=-1,g.athaa_loudapprox=-1,g.athaa_sensitivity=0,g.useTemporal=null,g.interChRatio=-1,M.mf_samples_to_encode=Y.ENCDELAY+Y.POSTDELAY,g.encoder_padding=0,M.mf_size=Y.ENCDELAY-Y.MDCTDELAY,g.findReplayGain=!1,g.decode_on_the_fly=!1,M.decode_on_the_fly=!1,M.findReplayGain=!1,M.findPeakSample=!1,M.RadioGain=0,M.AudiophileGain=0,M.noclipGainChange=0,M.noclipScale=-1,g.preset=0,g.write_id3tag_automatic=!0,0}this.lame_init=function(){var g=new A;return x(g),g.lame_allocated_gfp=1,g};function w(g){return g>1?0:g<=0?1:Math.cos(Math.PI/2*g)}this.nearestBitrateFullIndex=function(g){var M=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],we=0,Re=0,De=0,Pe=0;Pe=M[16],De=16,Re=M[16],we=16;for(var ke=0;ke<16;ke++)if(Math.max(g,M[ke+1])!=g){Pe=M[ke+1],De=ke+1,Re=M[ke],we=ke;break}return Pe-g>g-Re?we:De};function E(g,M){var we=44100;return M>=48e3?we=48e3:M>=44100?we=44100:M>=32e3?we=32e3:M>=24e3?we=24e3:M>=22050?we=22050:M>=16e3?we=16e3:M>=12e3?we=12e3:M>=11025?we=11025:M>=8e3&&(we=8e3),g==-1?we:(g<=15960&&(we=44100),g<=15250&&(we=32e3),g<=11220&&(we=24e3),g<=9970&&(we=22050),g<=7230&&(we=16e3),g<=5420&&(we=12e3),g<=4510&&(we=11025),g<=3970&&(we=8e3),M<we?M>44100?48e3:M>32e3?44100:M>24e3?32e3:M>22050?24e3:M>16e3?22050:M>12e3?16e3:M>11025?12e3:M>8e3?11025:8e3:we)}function _(g,M){switch(g){case 44100:return M.version=1,0;case 48e3:return M.version=1,1;case 32e3:return M.version=1,2;case 22050:return M.version=0,0;case 24e3:return M.version=0,1;case 16e3:return M.version=0,2;case 11025:return M.version=0,0;case 12e3:return M.version=0,1;case 8e3:return M.version=0,2;default:return M.version=0,-1}}function p(g,M,we){we<16e3&&(M=2);for(var Re=V.bitrate_table[M][1],De=2;De<=14;De++)V.bitrate_table[M][De]>0&&Math.abs(V.bitrate_table[M][De]-g)<Math.abs(Re-g)&&(Re=V.bitrate_table[M][De]);return Re}function h(g,M,we){we<16e3&&(M=2);for(var Re=0;Re<=14;Re++)if(V.bitrate_table[M][Re]>0&&V.bitrate_table[M][Re]==g)return Re;return-1}function T(g,M){var we=[new W(8,2e3),new W(16,3700),new W(24,3900),new W(32,5500),new W(40,7e3),new W(48,7500),new W(56,1e4),new W(64,11e3),new W(80,13500),new W(96,15100),new W(112,15600),new W(128,17e3),new W(160,17500),new W(192,18600),new W(224,19400),new W(256,19700),new W(320,20500)],Re=m.nearestBitrateFullIndex(M);g.lowerlimit=we[Re].lowpass}function G(g){var M=g.internal_flags,we=32,Re=-1;if(M.lowpass1>0){for(var De=999,Pe=0;Pe<=31;Pe++){var ke=Pe/31;ke>=M.lowpass2&&(we=Math.min(we,Pe)),M.lowpass1<ke&&ke<M.lowpass2&&(De=Math.min(De,Pe))}De==999?M.lowpass1=(we-.75)/31:M.lowpass1=(De-.75)/31,M.lowpass2=we/31}if(M.highpass2>0&&M.highpass2<.9*(.75/31)&&(M.highpass1=0,M.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),M.highpass2>0){for(var Te=-1,Pe=0;Pe<=31;Pe++){var ke=Pe/31;ke<=M.highpass1&&(Re=Math.max(Re,Pe)),M.highpass1<ke&&ke<M.highpass2&&(Te=Math.max(Te,Pe))}M.highpass1=Re/31,Te==-1?M.highpass2=(Re+.75)/31:M.highpass2=(Te+.75)/31}for(var Pe=0;Pe<32;Pe++){var Ve,Ne,ke=Pe/31;M.highpass2>M.highpass1?Ve=w((M.highpass2-ke)/(M.highpass2-M.highpass1+1e-20)):Ve=1,M.lowpass2>M.lowpass1?Ne=w((ke-M.lowpass1)/(M.lowpass2-M.lowpass1+1e-20)):Ne=1,M.amp_filter[Pe]=Ve*Ne}}function te(g){var M=g.internal_flags;switch(g.quality){default:case 9:M.psymodel=0,M.noise_shaping=0,M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.use_best_huffman=0,M.full_outer_loop=0;break;case 8:g.quality=7;case 7:M.psymodel=1,M.noise_shaping=0,M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.use_best_huffman=0,M.full_outer_loop=0;break;case 6:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=0,M.full_outer_loop=0;break;case 5:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=0,M.full_outer_loop=0;break;case 4:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 3:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=1,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 2:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.substep_shaping==0&&(M.substep_shaping=2),M.noise_shaping_amp=1,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 1:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.substep_shaping==0&&(M.substep_shaping=2),M.noise_shaping_amp=2,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 0:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.substep_shaping==0&&(M.substep_shaping=2),M.noise_shaping_amp=2,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break}}function q(g){var M=g.internal_flags;g.frameNum=0,g.write_id3tag_automatic&&N.id3tag_write_v2(g),M.bitrate_stereoMode_Hist=a([16,5]),M.bitrate_blockType_Hist=a([16,6]),M.PeakSample=0,g.bWriteVbrTag&&re.InitVbrTag(g)}this.lame_init_params=function(g){var M=g.internal_flags;if(M.Class_ID=0,M.ATH==null&&(M.ATH=new d),M.PSY==null&&(M.PSY=new P),M.rgdata==null&&(M.rgdata=new b),M.channels_in=g.num_channels,M.channels_in==1&&(g.mode=u.MONO),M.channels_out=g.mode==u.MONO?1:2,M.mode_ext=Y.MPG_MD_MS_LR,g.mode==u.MONO&&(g.force_ms=!1),g.VBR==n.vbr_off&&g.VBR_mean_bitrate_kbps!=128&&g.brate==0&&(g.brate=g.VBR_mean_bitrate_kbps),g.VBR==n.vbr_off||g.VBR==n.vbr_mtrh||g.VBR==n.vbr_mt||(g.free_format=!1),g.VBR==n.vbr_off&&g.brate==0&&C.EQ(g.compression_ratio,0)&&(g.compression_ratio=11.025),g.VBR==n.vbr_off&&g.compression_ratio>0&&(g.out_samplerate==0&&(g.out_samplerate=map2MP3Frequency(int(.97*g.in_samplerate))),g.brate=0|g.out_samplerate*16*M.channels_out/(1e3*g.compression_ratio),M.samplerate_index=_(g.out_samplerate,g),g.free_format||(g.brate=p(g.brate,g.version,g.out_samplerate))),g.out_samplerate!=0&&(g.out_samplerate<16e3?(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,64)):g.out_samplerate<32e3?(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,160)):(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,32),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,320))),g.lowpassfreq==0){var we=16e3;switch(g.VBR){case n.vbr_off:{var Re=new D;T(Re,g.brate),we=Re.lowerlimit;break}case n.vbr_abr:{var Re=new D;T(Re,g.VBR_mean_bitrate_kbps),we=Re.lowerlimit;break}case n.vbr_rh:{var De=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=g.VBR_q&&g.VBR_q<=9){var Pe=De[g.VBR_q],ke=De[g.VBR_q+1],Te=g.VBR_q_frac;we=linear_int(Pe,ke,Te)}else we=19500;break}default:{var De=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=g.VBR_q&&g.VBR_q<=9){var Pe=De[g.VBR_q],ke=De[g.VBR_q+1],Te=g.VBR_q_frac;we=linear_int(Pe,ke,Te)}else we=19500}}g.mode==u.MONO&&(g.VBR==n.vbr_off||g.VBR==n.vbr_abr)&&(we*=1.5),g.lowpassfreq=we|0}if(g.out_samplerate==0&&(2*g.lowpassfreq>g.in_samplerate&&(g.lowpassfreq=g.in_samplerate/2),g.out_samplerate=E(g.lowpassfreq|0,g.in_samplerate)),g.lowpassfreq=Math.min(20500,g.lowpassfreq),g.lowpassfreq=Math.min(g.out_samplerate/2,g.lowpassfreq),g.VBR==n.vbr_off&&(g.compression_ratio=g.out_samplerate*16*M.channels_out/(1e3*g.brate)),g.VBR==n.vbr_abr&&(g.compression_ratio=g.out_samplerate*16*M.channels_out/(1e3*g.VBR_mean_bitrate_kbps)),g.bWriteVbrTag||(g.findReplayGain=!1,g.decode_on_the_fly=!1,M.findPeakSample=!1),M.findReplayGain=g.findReplayGain,M.decode_on_the_fly=g.decode_on_the_fly,M.decode_on_the_fly&&(M.findPeakSample=!0),M.findReplayGain&&S.InitGainAnalysis(M.rgdata,g.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return g.internal_flags=null,-6;switch(M.decode_on_the_fly&&!g.decode_only&&(M.hip!=null&&y.hip_decode_exit(M.hip),M.hip=y.hip_decode_init()),M.mode_gr=g.out_samplerate<=24e3?1:2,g.framesize=576*M.mode_gr,g.encoder_delay=Y.ENCDELAY,M.resample_ratio=g.in_samplerate/g.out_samplerate,g.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:{var Ve=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];g.compression_ratio=Ve[g.VBR_q]}break;case n.vbr_abr:g.compression_ratio=g.out_samplerate*16*M.channels_out/(1e3*g.VBR_mean_bitrate_kbps);break;default:g.compression_ratio=g.out_samplerate*16*M.channels_out/(1e3*g.brate);break}if(g.mode==u.NOT_SET&&(g.mode=u.JOINT_STEREO),g.highpassfreq>0?(M.highpass1=2*g.highpassfreq,g.highpasswidth>=0?M.highpass2=2*(g.highpassfreq+g.highpasswidth):M.highpass2=1*2*g.highpassfreq,M.highpass1/=g.out_samplerate,M.highpass2/=g.out_samplerate):(M.highpass1=0,M.highpass2=0),g.lowpassfreq>0?(M.lowpass2=2*g.lowpassfreq,g.lowpasswidth>=0?(M.lowpass1=2*(g.lowpassfreq-g.lowpasswidth),M.lowpass1<0&&(M.lowpass1=0)):M.lowpass1=1*2*g.lowpassfreq,M.lowpass1/=g.out_samplerate,M.lowpass2/=g.out_samplerate):(M.lowpass1=0,M.lowpass2=0),G(g),M.samplerate_index=_(g.out_samplerate,g),M.samplerate_index<0)return g.internal_flags=null,-1;if(g.VBR==n.vbr_off){if(g.free_format)M.bitrate_index=0;else if(g.brate=p(g.brate,g.version,g.out_samplerate),M.bitrate_index=h(g.brate,g.version,g.out_samplerate),M.bitrate_index<=0)return g.internal_flags=null,-1}else M.bitrate_index=1;g.analysis&&(g.bWriteVbrTag=!1),M.pinfo!=null&&(g.bWriteVbrTag=!1),k.init_bit_stream_w(M);for(var Ne=M.samplerate_index+3*g.version+6*(g.out_samplerate<16e3?1:0),Se=0;Se<Y.SBMAX_l+1;Se++)M.scalefac_band.l[Se]=$.sfBandIndex[Ne].l[Se];for(var Se=0;Se<Y.PSFB21+1;Se++){var We=(M.scalefac_band.l[22]-M.scalefac_band.l[21])/Y.PSFB21,yt=M.scalefac_band.l[21]+Se*We;M.scalefac_band.psfb21[Se]=yt}M.scalefac_band.psfb21[Y.PSFB21]=576;for(var Se=0;Se<Y.SBMAX_s+1;Se++)M.scalefac_band.s[Se]=$.sfBandIndex[Ne].s[Se];for(var Se=0;Se<Y.PSFB12+1;Se++){var We=(M.scalefac_band.s[13]-M.scalefac_band.s[12])/Y.PSFB12,yt=M.scalefac_band.s[12]+Se*We;M.scalefac_band.psfb12[Se]=yt}M.scalefac_band.psfb12[Y.PSFB12]=192,g.version==1?M.sideinfo_len=M.channels_out==1?21:36:M.sideinfo_len=M.channels_out==1?13:21,g.error_protection&&(M.sideinfo_len+=2),q(g),M.Class_ID=L;{var Ye;for(Ye=0;Ye<19;Ye++)M.nsPsy.pefirbuf[Ye]=700*M.mode_gr*M.channels_out;g.ATHtype==-1&&(g.ATHtype=4)}switch(l(g.VBR_q<=9),l(g.VBR_q>=0),g.VBR){case n.vbr_mt:g.VBR=n.vbr_mtrh;case n.vbr_mtrh:{g.useTemporal==null&&(g.useTemporal=!1),j.apply_preset(g,500-g.VBR_q*10,0),g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),g.quality<5&&(g.quality=0),g.quality>5&&(g.quality=5),M.PSY.mask_adjust=g.maskingadjust,M.PSY.mask_adjust_short=g.maskingadjust_short,g.experimentalY?M.sfb21_extra=!1:M.sfb21_extra=g.out_samplerate>44e3,M.iteration_loop=new VBRNewIterationLoop(H);break}case n.vbr_rh:{j.apply_preset(g,500-g.VBR_q*10,0),M.PSY.mask_adjust=g.maskingadjust,M.PSY.mask_adjust_short=g.maskingadjust_short,g.experimentalY?M.sfb21_extra=!1:M.sfb21_extra=g.out_samplerate>44e3,g.quality>6&&(g.quality=6),g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),M.iteration_loop=new VBROldIterationLoop(H);break}default:{var B;M.sfb21_extra=!1,g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),B=g.VBR,B==n.vbr_off&&(g.VBR_mean_bitrate_kbps=g.brate),j.apply_preset(g,g.VBR_mean_bitrate_kbps,0),g.VBR=B,M.PSY.mask_adjust=g.maskingadjust,M.PSY.mask_adjust_short=g.maskingadjust_short,B==n.vbr_off?M.iteration_loop=new z(H):M.iteration_loop=new ABRIterationLoop(H);break}}if(l(g.scale>=0),g.VBR!=n.vbr_off){if(M.VBR_min_bitrate=1,M.VBR_max_bitrate=14,g.out_samplerate<16e3&&(M.VBR_max_bitrate=8),g.VBR_min_bitrate_kbps!=0&&(g.VBR_min_bitrate_kbps=p(g.VBR_min_bitrate_kbps,g.version,g.out_samplerate),M.VBR_min_bitrate=h(g.VBR_min_bitrate_kbps,g.version,g.out_samplerate),M.VBR_min_bitrate<0)||g.VBR_max_bitrate_kbps!=0&&(g.VBR_max_bitrate_kbps=p(g.VBR_max_bitrate_kbps,g.version,g.out_samplerate),M.VBR_max_bitrate=h(g.VBR_max_bitrate_kbps,g.version,g.out_samplerate),M.VBR_max_bitrate<0))return-1;g.VBR_min_bitrate_kbps=V.bitrate_table[g.version][M.VBR_min_bitrate],g.VBR_max_bitrate_kbps=V.bitrate_table[g.version][M.VBR_max_bitrate],g.VBR_mean_bitrate_kbps=Math.min(V.bitrate_table[g.version][M.VBR_max_bitrate],g.VBR_mean_bitrate_kbps),g.VBR_mean_bitrate_kbps=Math.max(V.bitrate_table[g.version][M.VBR_min_bitrate],g.VBR_mean_bitrate_kbps)}return g.tune&&(M.PSY.mask_adjust+=g.tune_value_a,M.PSY.mask_adjust_short+=g.tune_value_a),te(g),l(g.scale>=0),g.athaa_type<0?M.ATH.useAdjust=3:M.ATH.useAdjust=g.athaa_type,M.ATH.aaSensitivityP=Math.pow(10,g.athaa_sensitivity/-10),g.short_blocks==null&&(g.short_blocks=r.short_block_allowed),g.short_blocks==r.short_block_allowed&&(g.mode==u.JOINT_STEREO||g.mode==u.STEREO)&&(g.short_blocks=r.short_block_coupled),g.quant_comp<0&&(g.quant_comp=1),g.quant_comp_short<0&&(g.quant_comp_short=0),g.msfix<0&&(g.msfix=0),g.exp_nspsytune=g.exp_nspsytune|1,g.internal_flags.nsPsy.attackthre<0&&(g.internal_flags.nsPsy.attackthre=f.NSATTACKTHRE),g.internal_flags.nsPsy.attackthre_s<0&&(g.internal_flags.nsPsy.attackthre_s=f.NSATTACKTHRE_S),l(g.scale>=0),g.scale<0&&(g.scale=1),g.ATHtype<0&&(g.ATHtype=4),g.ATHcurve<0&&(g.ATHcurve=4),g.athaa_loudapprox<0&&(g.athaa_loudapprox=2),g.interChRatio<0&&(g.interChRatio=0),g.useTemporal==null&&(g.useTemporal=!0),M.slot_lag=M.frac_SpF=0,g.VBR==n.vbr_off&&(M.slot_lag=M.frac_SpF=(g.version+1)*72e3*g.brate%g.out_samplerate|0),$.iteration_init(g),Z.psymodel_init(g),l(g.scale>=0),0};function U(g,M){(g.in_buffer_0==null||g.in_buffer_nsamples<M)&&(g.in_buffer_0=i(M),g.in_buffer_1=i(M),g.in_buffer_nsamples=M)}this.lame_encode_flush=function(g,M,we,Re){var De=g.internal_flags,Pe=s([2,1152]),ke=0,Te,Ve,Ne,Se,We=De.mf_samples_to_encode-Y.POSTDELAY,yt=ee(g);if(De.mf_samples_to_encode<1)return 0;for(Te=0,g.in_samplerate!=g.out_samplerate&&(We+=16*g.out_samplerate/g.in_samplerate),Ne=g.framesize-We%g.framesize,Ne<576&&(Ne+=g.framesize),g.encoder_padding=Ne,Se=(We+Ne)/g.framesize;Se>0&&ke>=0;){var Ye=yt-De.mf_size,B=g.frameNum;Ye*=g.in_samplerate,Ye/=g.out_samplerate,Ye>1152&&(Ye=1152),Ye<1&&(Ye=1),Ve=Re-Te,Re==0&&(Ve=0),ke=this.lame_encode_buffer(g,Pe[0],Pe[1],Ye,M,we,Ve),we+=ke,Te+=ke,Se-=B!=g.frameNum?1:0}if(De.mf_samples_to_encode=0,ke<0||(Ve=Re-Te,Re==0&&(Ve=0),k.flush_bitstream(g),ke=k.copy_buffer(De,M,we,Ve,1),ke<0))return ke;if(we+=ke,Te+=ke,Ve=Re-Te,Re==0&&(Ve=0),g.write_id3tag_automatic){if(N.id3tag_write_v1(g),ke=k.copy_buffer(De,M,we,Ve,0),ke<0)return ke;Te+=ke}return Te},this.lame_encode_buffer=function(g,M,we,Re,De,Pe,ke){var Te=g.internal_flags,Ve=[null,null];if(Te.Class_ID!=L)return-3;if(Re==0)return 0;U(Te,Re),Ve[0]=Te.in_buffer_0,Ve[1]=Te.in_buffer_1;for(var Ne=0;Ne<Re;Ne++)Ve[0][Ne]=M[Ne],Te.channels_in>1&&(Ve[1][Ne]=we[Ne]);return ae(g,Ve[0],Ve[1],Re,De,Pe,ke)};function ee(g){var M=Y.BLKSIZE+g.framesize-Y.FFTOFFSET;return M=Math.max(M,512+g.framesize-32),l(c.MFSIZE>=M),M}function ae(g,M,we,Re,De,Pe,ke){var Te=g.internal_flags,Ve=0,Ne,Se,We,yt,Ye,B=[null,null],I=[null,null];if(Te.Class_ID!=L)return-3;if(Re==0)return 0;if(Ye=k.copy_buffer(Te,De,Pe,ke,0),Ye<0)return Ye;if(Pe+=Ye,Ve+=Ye,I[0]=M,I[1]=we,C.NEQ(g.scale,0)&&C.NEQ(g.scale,1))for(Se=0;Se<Re;++Se)I[0][Se]*=g.scale,Te.channels_out==2&&(I[1][Se]*=g.scale);if(C.NEQ(g.scale_left,0)&&C.NEQ(g.scale_left,1))for(Se=0;Se<Re;++Se)I[0][Se]*=g.scale_left;if(C.NEQ(g.scale_right,0)&&C.NEQ(g.scale_right,1))for(Se=0;Se<Re;++Se)I[1][Se]*=g.scale_right;if(g.num_channels==2&&Te.channels_out==1)for(Se=0;Se<Re;++Se)I[0][Se]=.5*(I[0][Se]+I[1][Se]),I[1][Se]=0;yt=ee(g),B[0]=Te.mfbuf[0],B[1]=Te.mfbuf[1];for(var O=0;Re>0;){var X=[null,null],Q=0,F=0;X[0]=I[0],X[1]=I[1];var K=new Me;if(dt(g,B,X,O,Re,K),Q=K.n_in,F=K.n_out,Te.findReplayGain&&!Te.decode_on_the_fly&&S.AnalyzeSamples(Te.rgdata,B[0],Te.mf_size,B[1],Te.mf_size,F,Te.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(Re-=Q,O+=Q,Te.channels_out==2,Te.mf_size+=F,l(Te.mf_size<=c.MFSIZE),Te.mf_samples_to_encode<1&&(Te.mf_samples_to_encode=Y.ENCDELAY+Y.POSTDELAY),Te.mf_samples_to_encode+=F,Te.mf_size>=yt){var ne=ke-Ve;if(ke==0&&(ne=0),Ne=me(g,B[0],B[1],De,Pe,ne),Ne<0)return Ne;for(Pe+=Ne,Ve+=Ne,Te.mf_size-=g.framesize,Te.mf_samples_to_encode-=g.framesize,We=0;We<Te.channels_out;We++)for(Se=0;Se<Te.mf_size;Se++)B[We][Se]=B[We][Se+g.framesize]}}return l(Re==0),Ve}function me(g,M,we,Re,De,Pe){var ke=m.enc.lame_encode_mp3_frame(g,M,we,Re,De,Pe);return g.frameNum++,ke}function Me(){this.n_in=0,this.n_out=0}function xe(){this.num_used=0}function ge(g,M){return M!=0?ge(M,g%M):g}function Be(g,M,we){var Re=Math.PI*M;g/=we,g<0&&(g=0),g>1&&(g=1);var De=g-.5,Pe=.42-.5*Math.cos(2*g*Math.PI)+.08*Math.cos(4*g*Math.PI);return Math.abs(De)<1e-9?Re/Math.PI:Pe*Math.sin(we*Re*De)/(Math.PI*we*De)}function Xe(g,M,we,Re,De,Pe,ke,Te,Ve){var Ne=g.internal_flags,Se,We=0,yt,Ye=g.out_samplerate/ge(g.out_samplerate,g.in_samplerate);Ye>c.BPC&&(Ye=c.BPC);var B=Math.abs(Ne.resample_ratio-Math.floor(.5+Ne.resample_ratio))<1e-4?1:0,I=1/Ne.resample_ratio;I>1&&(I=1);var O=31;O%2==0&&--O,O+=B;var X=O+1;if(Ne.fill_buffer_resample_init==0){for(Ne.inbuf_old[0]=i(X),Ne.inbuf_old[1]=i(X),Se=0;Se<=2*Ye;++Se)Ne.blackfilt[Se]=i(X);for(Ne.itime[0]=0,Ne.itime[1]=0,We=0;We<=2*Ye;We++){var Q=0,F=(We-Ye)/(2*Ye);for(Se=0;Se<=O;Se++)Q+=Ne.blackfilt[We][Se]=Be(Se-F,I,O);for(Se=0;Se<=O;Se++)Ne.blackfilt[We][Se]/=Q}Ne.fill_buffer_resample_init=1}var K=Ne.inbuf_old[Ve];for(yt=0;yt<Re;yt++){var ne,J;if(ne=yt*Ne.resample_ratio,We=0|Math.floor(ne-Ne.itime[Ve]),O+We-O/2>=ke)break;var F=ne-Ne.itime[Ve]-(We+.5*(O%2));l(Math.abs(F)<=.501),J=0|Math.floor(F*2*Ye+Ye+.5);var se=0;for(Se=0;Se<=O;++Se){var ie=0|Se+We-O/2,le;l(ie<ke),l(ie+X>=0),le=ie<0?K[X+ie]:De[Pe+ie],se+=le*Ne.blackfilt[J][Se]}M[we+yt]=se}if(Te.num_used=Math.min(ke,O+We-O/2),Ne.itime[Ve]+=Te.num_used-yt*Ne.resample_ratio,Te.num_used>=X)for(Se=0;Se<X;Se++)K[Se]=De[Pe+Te.num_used+Se-X];else{var ye=X-Te.num_used;for(Se=0;Se<ye;++Se)K[Se]=K[Se+Te.num_used];for(We=0;Se<X;++Se,++We)K[Se]=De[Pe+We];l(We==Te.num_used)}return yt}function dt(g,M,we,Re,De,Pe){var ke=g.internal_flags;if(ke.resample_ratio<.9999||ke.resample_ratio>1.0001)for(var Te=0;Te<ke.channels_out;Te++){var Ve=new xe;Pe.n_out=Xe(g,M[Te],ke.mf_size,g.framesize,we[Te],Re,De,Ve,Te),Pe.n_in=Ve.num_used}else{Pe.n_out=Math.min(g.framesize,De),Pe.n_in=Pe.n_out;for(var Ne=0;Ne<Pe.n_out;++Ne)M[0][ke.mf_size+Ne]=we[0][Re+Ne],ke.channels_out==2&&(M[1][ke.mf_size+Ne]=we[1][Re+Ne])}}}return V0=v,V0}var mn=ct;mn.System;var ar=mn.VbrMode;mn.Float;mn.ShortBlock;mn.Util;mn.Arrays;mn.new_array_n;mn.new_byte;mn.new_double;mn.new_float;mn.new_float_n;mn.new_int;mn.new_int_n;mn.assert;function Qv(){var e=cc();function t(c,d,b,z,C,V,Y,v,u,m,R,o,S,k,j){this.vbr_q=c,this.quant_comp=d,this.quant_comp_s=b,this.expY=z,this.st_lrm=C,this.st_s=V,this.masking_adj=Y,this.masking_adj_short=v,this.ath_lower=u,this.ath_curve=m,this.ath_sensitivity=R,this.interch=o,this.safejoint=S,this.sfb21mod=k,this.msfix=j}function n(c,d,b,z,C,V,Y,v,u,m,R,o,S,k){this.quant_comp=d,this.quant_comp_s=b,this.safejoint=z,this.nsmsfix=C,this.st_lrm=V,this.st_s=Y,this.nsbass=v,this.scale=u,this.masking_adj=m,this.ath_lower=R,this.ath_curve=o,this.interch=S,this.sfscale=k}var r;this.setModules=function(c){r=c};var i=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],a=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function s(c,d,b){var z=c.VBR==ar.vbr_rh?i:a,C=c.VBR_q_frac,V=z[d],Y=z[d+1],v=V;V.st_lrm=V.st_lrm+C*(Y.st_lrm-V.st_lrm),V.st_s=V.st_s+C*(Y.st_s-V.st_s),V.masking_adj=V.masking_adj+C*(Y.masking_adj-V.masking_adj),V.masking_adj_short=V.masking_adj_short+C*(Y.masking_adj_short-V.masking_adj_short),V.ath_lower=V.ath_lower+C*(Y.ath_lower-V.ath_lower),V.ath_curve=V.ath_curve+C*(Y.ath_curve-V.ath_curve),V.ath_sensitivity=V.ath_sensitivity+C*(Y.ath_sensitivity-V.ath_sensitivity),V.interch=V.interch+C*(Y.interch-V.interch),V.msfix=V.msfix+C*(Y.msfix-V.msfix),A(c,v.vbr_q),b!=0?c.quant_comp=v.quant_comp:Math.abs(c.quant_comp- -1)>0||(c.quant_comp=v.quant_comp),b!=0?c.quant_comp_short=v.quant_comp_s:Math.abs(c.quant_comp_short- -1)>0||(c.quant_comp_short=v.quant_comp_s),v.expY!=0&&(c.experimentalY=v.expY!=0),b!=0?c.internal_flags.nsPsy.attackthre=v.st_lrm:Math.abs(c.internal_flags.nsPsy.attackthre- -1)>0||(c.internal_flags.nsPsy.attackthre=v.st_lrm),b!=0?c.internal_flags.nsPsy.attackthre_s=v.st_s:Math.abs(c.internal_flags.nsPsy.attackthre_s- -1)>0||(c.internal_flags.nsPsy.attackthre_s=v.st_s),b!=0?c.maskingadjust=v.masking_adj:Math.abs(c.maskingadjust-0)>0||(c.maskingadjust=v.masking_adj),b!=0?c.maskingadjust_short=v.masking_adj_short:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=v.masking_adj_short),b!=0?c.ATHlower=-v.ath_lower/10:Math.abs(-c.ATHlower*10-0)>0||(c.ATHlower=-v.ath_lower/10),b!=0?c.ATHcurve=v.ath_curve:Math.abs(c.ATHcurve- -1)>0||(c.ATHcurve=v.ath_curve),b!=0?c.athaa_sensitivity=v.ath_sensitivity:Math.abs(c.athaa_sensitivity- -1)>0||(c.athaa_sensitivity=v.ath_sensitivity),v.interch>0&&(b!=0?c.interChRatio=v.interch:Math.abs(c.interChRatio- -1)>0||(c.interChRatio=v.interch)),v.safejoint>0&&(c.exp_nspsytune=c.exp_nspsytune|v.safejoint),v.sfb21mod>0&&(c.exp_nspsytune=c.exp_nspsytune|v.sfb21mod<<20),b!=0?c.msfix=v.msfix:Math.abs(c.msfix- -1)>0||(c.msfix=v.msfix),b==0&&(c.VBR_q=d,c.VBR_q_frac=C)}var l=[new n(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new n(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new n(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new n(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new n(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new n(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new n(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new n(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new n(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new n(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new n(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new n(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new n(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new n(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new n(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function f(c,d,b){var z=d,C=r.nearestBitrateFullIndex(d);if(c.VBR=ar.vbr_abr,c.VBR_mean_bitrate_kbps=z,c.VBR_mean_bitrate_kbps=Math.min(c.VBR_mean_bitrate_kbps,320),c.VBR_mean_bitrate_kbps=Math.max(c.VBR_mean_bitrate_kbps,8),c.brate=c.VBR_mean_bitrate_kbps,c.VBR_mean_bitrate_kbps>320&&(c.disable_reservoir=!0),l[C].safejoint>0&&(c.exp_nspsytune=c.exp_nspsytune|2),l[C].sfscale>0&&(c.internal_flags.noise_shaping=2),Math.abs(l[C].nsbass)>0){var V=int(l[C].nsbass*4);V<0&&(V+=64),c.exp_nspsytune=c.exp_nspsytune|V<<2}return b!=0?c.quant_comp=l[C].quant_comp:Math.abs(c.quant_comp- -1)>0||(c.quant_comp=l[C].quant_comp),b!=0?c.quant_comp_short=l[C].quant_comp_s:Math.abs(c.quant_comp_short- -1)>0||(c.quant_comp_short=l[C].quant_comp_s),b!=0?c.msfix=l[C].nsmsfix:Math.abs(c.msfix- -1)>0||(c.msfix=l[C].nsmsfix),b!=0?c.internal_flags.nsPsy.attackthre=l[C].st_lrm:Math.abs(c.internal_flags.nsPsy.attackthre- -1)>0||(c.internal_flags.nsPsy.attackthre=l[C].st_lrm),b!=0?c.internal_flags.nsPsy.attackthre_s=l[C].st_s:Math.abs(c.internal_flags.nsPsy.attackthre_s- -1)>0||(c.internal_flags.nsPsy.attackthre_s=l[C].st_s),b!=0?c.scale=l[C].scale:Math.abs(c.scale- -1)>0||(c.scale=l[C].scale),b!=0?c.maskingadjust=l[C].masking_adj:Math.abs(c.maskingadjust-0)>0||(c.maskingadjust=l[C].masking_adj),l[C].masking_adj>0?b!=0?c.maskingadjust_short=l[C].masking_adj*.9:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=l[C].masking_adj*.9):b!=0?c.maskingadjust_short=l[C].masking_adj*1.1:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=l[C].masking_adj*1.1),b!=0?c.ATHlower=-l[C].ath_lower/10:Math.abs(-c.ATHlower*10-0)>0||(c.ATHlower=-l[C].ath_lower/10),b!=0?c.ATHcurve=l[C].ath_curve:Math.abs(c.ATHcurve- -1)>0||(c.ATHcurve=l[C].ath_curve),b!=0?c.interChRatio=l[C].interch:Math.abs(c.interChRatio- -1)>0||(c.interChRatio=l[C].interch),d}this.apply_preset=function(c,d,b){switch(d){case e.R3MIX:{d=e.V3,c.VBR=ar.vbr_mtrh;break}case e.MEDIUM:{d=e.V4,c.VBR=ar.vbr_rh;break}case e.MEDIUM_FAST:{d=e.V4,c.VBR=ar.vbr_mtrh;break}case e.STANDARD:{d=e.V2,c.VBR=ar.vbr_rh;break}case e.STANDARD_FAST:{d=e.V2,c.VBR=ar.vbr_mtrh;break}case e.EXTREME:{d=e.V0,c.VBR=ar.vbr_rh;break}case e.EXTREME_FAST:{d=e.V0,c.VBR=ar.vbr_mtrh;break}case e.INSANE:return d=320,c.preset=d,f(c,d,b),c.VBR=ar.vbr_off,d}switch(c.preset=d,d){case e.V9:return s(c,9,b),d;case e.V8:return s(c,8,b),d;case e.V7:return s(c,7,b),d;case e.V6:return s(c,6,b),d;case e.V5:return s(c,5,b),d;case e.V4:return s(c,4,b),d;case e.V3:return s(c,3,b),d;case e.V2:return s(c,2,b),d;case e.V1:return s(c,1,b),d;case e.V0:return s(c,0,b),d}return 8<=d&&d<=320?f(c,d,b):(c.preset=0,d)};function A(c,d){var b=0;return 0>d&&(b=-1,d=0),9<d&&(b=-1,d=9),c.VBR_q=d,c.VBR_q_frac=0,b}}var Zv=Qv;function Jv(){this.setModules=function(e,t){}}var e4=Jv;function t4(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var n4=t4,fc=ct,pd=fc.new_float,r4=fc.new_int;fc.assert;function i4(){this.global_gain=0,this.sfb_count1=0,this.step=r4(39),this.noise=pd(39),this.noise_log=pd(39)}var a4=i4,pn=ct,kr=pn.System,vd=pn.VbrMode;pn.Float;pn.ShortBlock;var $0=pn.Util,Ti=pn.Arrays;pn.new_array_n;pn.new_byte;pn.new_double;var xa=pn.new_float;pn.new_float_n;pn.new_int;pn.new_int_n;var Bn=pn.assert,s4=e4,U0=n4,o4=a4,Qe=$t(),yd=oc,wd=Vl;function l4(){var e;this.rv=null;var t;this.qupvt=null;var n,r=new s4,i;this.setModules=function(v,u,m,R){e=v,t=u,this.rv=u,n=m,this.qupvt=m,i=R,r.setModules(n,i)},this.ms_convert=function(v,u){for(var m=0;m<576;++m){var R=v.tt[u][0].xr[m],o=v.tt[u][1].xr[m];v.tt[u][0].xr[m]=(R+o)*($0.SQRT2*.5),v.tt[u][1].xr[m]=(R-o)*($0.SQRT2*.5)}};function a(v,u,m,R){R=0;for(var o=0;o<=m;++o){var S=Math.abs(v.xr[o]);R+=S,u[o]=Math.sqrt(S*Math.sqrt(S)),u[o]>v.xrpow_max&&(v.xrpow_max=u[o])}return R}this.init_xrpow=function(v,u,m){var R=0,o=0|u.max_nonzero_coeff;if(Bn(m!=null),u.xrpow_max=0,Bn(0<=o&&o<=575),Ti.fill(m,o,576,0),R=a(u,m,o,R),R>1e-20){var S=0;v.substep_shaping&2&&(S=1);for(var k=0;k<u.psymax;k++)v.pseudohalf[k]=S;return!0}return Ti.fill(u.l3_enc,0,576,0),!1};function s(v,u){var m=v.ATH,R=u.xr;if(u.block_type!=Qe.SHORT_TYPE)for(var o=!1,S=Qe.PSFB21-1;S>=0&&!o;S--){var k=v.scalefac_band.psfb21[S],j=v.scalefac_band.psfb21[S+1],$=n.athAdjust(m.adjust,m.psfb21[S],m.floor);v.nsPsy.longfact[21]>1e-12&&($*=v.nsPsy.longfact[21]);for(var H=j-1;H>=k;H--)if(Math.abs(R[H])<$)R[H]=0;else{o=!0;break}}else for(var Z=0;Z<3;Z++)for(var o=!1,S=Qe.PSFB12-1;S>=0&&!o;S--){var k=v.scalefac_band.s[12]*3+(v.scalefac_band.s[13]-v.scalefac_band.s[12])*Z+(v.scalefac_band.psfb12[S]-v.scalefac_band.psfb12[0]),j=k+(v.scalefac_band.psfb12[S+1]-v.scalefac_band.psfb12[S]),re=n.athAdjust(m.adjust,m.psfb12[S],m.floor);v.nsPsy.shortfact[12]>1e-12&&(re*=v.nsPsy.shortfact[12]);for(var H=j-1;H>=k;H--)if(Math.abs(R[H])<re)R[H]=0;else{o=!0;break}}}this.init_outer_loop=function(v,u){u.part2_3_length=0,u.big_values=0,u.count1=0,u.global_gain=210,u.scalefac_compress=0,u.table_select[0]=0,u.table_select[1]=0,u.table_select[2]=0,u.subblock_gain[0]=0,u.subblock_gain[1]=0,u.subblock_gain[2]=0,u.subblock_gain[3]=0,u.region0_count=0,u.region1_count=0,u.preflag=0,u.scalefac_scale=0,u.count1table_select=0,u.part2_length=0,u.sfb_lmax=Qe.SBPSY_l,u.sfb_smin=Qe.SBPSY_s,u.psy_lmax=v.sfb21_extra?Qe.SBMAX_l:Qe.SBPSY_l,u.psymax=u.psy_lmax,u.sfbmax=u.sfb_lmax,u.sfbdivide=11;for(var m=0;m<Qe.SBMAX_l;m++)u.width[m]=v.scalefac_band.l[m+1]-v.scalefac_band.l[m],u.window[m]=3;if(u.block_type==Qe.SHORT_TYPE){var R=xa(576);u.sfb_smin=0,u.sfb_lmax=0,u.mixed_block_flag!=0&&(u.sfb_smin=3,u.sfb_lmax=v.mode_gr*2+4),u.psymax=u.sfb_lmax+3*((v.sfb21_extra?Qe.SBMAX_s:Qe.SBPSY_s)-u.sfb_smin),u.sfbmax=u.sfb_lmax+3*(Qe.SBPSY_s-u.sfb_smin),u.sfbdivide=u.sfbmax-18,u.psy_lmax=u.sfb_lmax;var o=v.scalefac_band.l[u.sfb_lmax];kr.arraycopy(u.xr,0,R,0,576);for(var m=u.sfb_smin;m<Qe.SBMAX_s;m++)for(var S=v.scalefac_band.s[m],k=v.scalefac_band.s[m+1],j=0;j<3;j++)for(var $=S;$<k;$++)u.xr[o++]=R[3*$+j];for(var H=u.sfb_lmax,m=u.sfb_smin;m<Qe.SBMAX_s;m++)u.width[H]=u.width[H+1]=u.width[H+2]=v.scalefac_band.s[m+1]-v.scalefac_band.s[m],u.window[H]=0,u.window[H+1]=1,u.window[H+2]=2,H+=3}u.count1bits=0,u.sfb_partition_table=n.nr_of_sfb_block[0][0],u.slen[0]=0,u.slen[1]=0,u.slen[2]=0,u.slen[3]=0,u.max_nonzero_coeff=575,Ti.fill(u.scalefac,0),s(v,u)};function l(v){this.ordinal=v}l.BINSEARCH_NONE=new l(0),l.BINSEARCH_UP=new l(1),l.BINSEARCH_DOWN=new l(2);function f(v,u,m,R,o){var S,k=v.CurrentStep[R],j=!1,$=v.OldValue[R],H=l.BINSEARCH_NONE;for(u.global_gain=$,m-=u.part2_length,Bn(k!=0);;){var Z;if(S=i.count_bits(v,o,u,null),k==1||S==m)break;S>m?(H==l.BINSEARCH_DOWN&&(j=!0),j&&(k/=2),H=l.BINSEARCH_UP,Z=k):(H==l.BINSEARCH_UP&&(j=!0),j&&(k/=2),H=l.BINSEARCH_DOWN,Z=-k),u.global_gain+=Z,u.global_gain<0&&(u.global_gain=0,j=!0),u.global_gain>255&&(u.global_gain=255,j=!0)}for(Bn(u.global_gain>=0),Bn(u.global_gain<256);S>m&&u.global_gain<255;)u.global_gain++,S=i.count_bits(v,o,u,null);return v.CurrentStep[R]=$-u.global_gain>=4?4:2,v.OldValue[R]=u.global_gain,u.part2_3_length=S,S}this.trancate_smallspectrums=function(v,u,m,R){var o=xa(wd.SFBMAX);if(!(!(v.substep_shaping&4)&&u.block_type==Qe.SHORT_TYPE||v.substep_shaping&128)){n.calc_noise(u,m,o,new U0,null);for(var k=0;k<576;k++){var S=0;u.l3_enc[k]!=0&&(S=Math.abs(u.xr[k])),R[k]=S}var k=0,j=8;u.block_type==Qe.SHORT_TYPE&&(j=6);do{var $,H,Z,re,N=u.width[j];if(k+=N,!(o[j]>=1)&&(Ti.sort(R,k-N,N),!BitStream.EQ(R[k-1],0))){$=(1-o[j])*m[j],H=0,re=0;do{var y;for(Z=1;re+Z<N&&!BitStream.NEQ(R[re+k-N],R[re+k+Z-N]);Z++);if(y=R[re+k-N]*R[re+k-N]*Z,$<y){re!=0&&(H=R[re+k-N-1]);break}$-=y,re+=Z}while(re<N);if(!BitStream.EQ(H,0))do Math.abs(u.xr[k-N])<=H&&(u.l3_enc[k-N]=0);while(--N>0)}}while(++j<u.psymax);u.part2_3_length=i.noquant_count_bits(v,u,null)}};function A(v){for(var u=0;u<v.sfbmax;u++)if(v.scalefac[u]+v.subblock_gain[v.window[u]]==0)return!1;return!0}function c(v){return $0.FAST_LOG10(.368+.632*v*v*v)}function d(v,u){for(var m=1e-37,R=0;R<u.psymax;R++)m+=c(v[R]);return Math.max(1e-20,m)}function b(v,u,m,R,o){var S;switch(v){default:case 9:{u.over_count>0?(S=m.over_SSD<=u.over_SSD,m.over_SSD==u.over_SSD&&(S=m.bits<u.bits)):S=m.max_noise<0&&m.max_noise*10+m.bits<=u.max_noise*10+u.bits;break}case 0:S=m.over_count<u.over_count||m.over_count==u.over_count&&m.over_noise<u.over_noise||m.over_count==u.over_count&&BitStream.EQ(m.over_noise,u.over_noise)&&m.tot_noise<u.tot_noise;break;case 8:m.max_noise=d(o,R);case 1:S=m.max_noise<u.max_noise;break;case 2:S=m.tot_noise<u.tot_noise;break;case 3:S=m.tot_noise<u.tot_noise&&m.max_noise<u.max_noise;break;case 4:S=m.max_noise<=0&&u.max_noise>.2||m.max_noise<=0&&u.max_noise<0&&u.max_noise>m.max_noise-.2&&m.tot_noise<u.tot_noise||m.max_noise<=0&&u.max_noise>0&&u.max_noise>m.max_noise-.2&&m.tot_noise<u.tot_noise+u.over_noise||m.max_noise>0&&u.max_noise>-.05&&u.max_noise>m.max_noise-.1&&m.tot_noise+m.over_noise<u.tot_noise+u.over_noise||m.max_noise>0&&u.max_noise>-.1&&u.max_noise>m.max_noise-.15&&m.tot_noise+m.over_noise+m.over_noise<u.tot_noise+u.over_noise+u.over_noise;break;case 5:S=m.over_noise<u.over_noise||BitStream.EQ(m.over_noise,u.over_noise)&&m.tot_noise<u.tot_noise;break;case 6:S=m.over_noise<u.over_noise||BitStream.EQ(m.over_noise,u.over_noise)&&(m.max_noise<u.max_noise||BitStream.EQ(m.max_noise,u.max_noise)&&m.tot_noise<=u.tot_noise);break;case 7:S=m.over_count<u.over_count||m.over_noise<u.over_noise;break}return u.over_count==0&&(S=S&&m.bits<u.bits),S}function z(v,u,m,R,o){var S=v.internal_flags,k;u.scalefac_scale==0?k=1.2968395546510096:k=1.6817928305074292;for(var j=0,$=0;$<u.sfbmax;$++)j<m[$]&&(j=m[$]);var H=S.noise_shaping_amp;switch(H==3&&(o?H=2:H=1),H){case 2:break;case 1:j>1?j=Math.pow(j,.5):j*=.95;break;case 0:default:j>1?j=1:j*=.95;break}for(var Z=0,$=0;$<u.sfbmax;$++){var re=u.width[$],N;if(Z+=re,!(m[$]<j)){if(S.substep_shaping&2&&(S.pseudohalf[$]=S.pseudohalf[$]==0?1:0,S.pseudohalf[$]==0&&S.noise_shaping_amp==2))return;for(u.scalefac[$]++,N=-re;N<0;N++)R[Z+N]*=k,R[Z+N]>u.xrpow_max&&(u.xrpow_max=R[Z+N]);if(S.noise_shaping_amp==2)return}}}function C(v,u){for(var m=1.2968395546510096,R=0,o=0;o<v.sfbmax;o++){var S=v.width[o],k=v.scalefac[o];if(v.preflag!=0&&(k+=n.pretab[o]),R+=S,k&1){k++;for(var j=-S;j<0;j++)u[R+j]*=m,u[R+j]>v.xrpow_max&&(v.xrpow_max=u[R+j])}v.scalefac[o]=k>>1}v.preflag=0,v.scalefac_scale=1}function V(v,u,m){var R,o=u.scalefac;for(R=0;R<u.sfb_lmax;R++)if(o[R]>=16)return!0;for(var S=0;S<3;S++){var k=0,j=0;for(R=u.sfb_lmax+S;R<u.sfbdivide;R+=3)k<o[R]&&(k=o[R]);for(;R<u.sfbmax;R+=3)j<o[R]&&(j=o[R]);if(!(k<16&&j<8)){if(u.subblock_gain[S]>=7)return!0;u.subblock_gain[S]++;var $=v.scalefac_band.l[u.sfb_lmax];for(R=u.sfb_lmax+S;R<u.sfbmax;R+=3){var H,Z=u.width[R],re=o[R];if(Bn(re>=0),re=re-(4>>u.scalefac_scale),re>=0){o[R]=re,$+=Z*3;continue}o[R]=0;{var N=210+(re<<u.scalefac_scale+1);H=n.IPOW20(N)}$+=Z*(S+1);for(var y=-Z;y<0;y++)m[$+y]*=H,m[$+y]>u.xrpow_max&&(u.xrpow_max=m[$+y]);$+=Z*(3-S-1)}{var H=n.IPOW20(202);$+=u.width[R]*(S+1);for(var y=-u.width[R];y<0;y++)m[$+y]*=H,m[$+y]>u.xrpow_max&&(u.xrpow_max=m[$+y])}}}return!1}function Y(v,u,m,R,o){var S=v.internal_flags;z(v,u,m,R,o);var k=A(u);return k?!1:(S.mode_gr==2?k=i.scale_bitcount(u):k=i.scale_bitcount_lsf(S,u),k?(S.noise_shaping>1&&(Ti.fill(S.pseudohalf,0),u.scalefac_scale==0?(C(u,R),k=!1):u.block_type==Qe.SHORT_TYPE&&S.subblock_gain>0&&(k=V(S,u,R)||A(u))),k||(S.mode_gr==2?k=i.scale_bitcount(u):k=i.scale_bitcount_lsf(S,u)),!k):!0)}this.outer_loop=function(v,u,m,R,o,S){var k=v.internal_flags,j=new yd,$=xa(576),H=xa(wd.SFBMAX),Z=new U0,re,N=new o4,y=9999999,P=!1,D=!1,W=0;if(f(k,u,S,o,R),k.noise_shaping==0)return 100;n.calc_noise(u,m,H,Z,N),Z.bits=u.part2_3_length,j.assign(u);var L=0;for(kr.arraycopy(R,0,$,0,576);!P;){do{var x=new U0,w,E=255;if(k.substep_shaping&2?w=20:w=3,k.sfb21_extra&&(H[j.sfbmax]>1||j.block_type==Qe.SHORT_TYPE&&(H[j.sfbmax+1]>1||H[j.sfbmax+2]>1))||!Y(v,j,H,R,D))break;j.scalefac_scale!=0&&(E=254);var _=S-j.part2_length;if(_<=0)break;for(;(j.part2_3_length=i.count_bits(k,R,j,N))>_&&j.global_gain<=E;)j.global_gain++;if(j.global_gain>E)break;if(Z.over_count==0){for(;(j.part2_3_length=i.count_bits(k,R,j,N))>y&&j.global_gain<=E;)j.global_gain++;if(j.global_gain>E)break}if(n.calc_noise(j,m,H,x,N),x.bits=j.part2_3_length,u.block_type!=Qe.SHORT_TYPE?re=v.quant_comp:re=v.quant_comp_short,re=b(re,Z,x,j,H)?1:0,re!=0)y=u.part2_3_length,Z=x,u.assign(j),L=0,kr.arraycopy(R,0,$,0,576);else if(k.full_outer_loop==0&&(++L>w&&Z.over_count==0||k.noise_shaping_amp==3&&D&&L>30||k.noise_shaping_amp==3&&D&&j.global_gain-W>15))break}while(j.global_gain+j.scalefac_scale<255);k.noise_shaping_amp==3?D?P=!0:(j.assign(u),kr.arraycopy($,0,R,0,576),L=0,W=j.global_gain,D=!0):P=!0}return Bn(u.global_gain+u.scalefac_scale<=255),v.VBR==vd.vbr_rh||v.VBR==vd.vbr_mtrh?kr.arraycopy($,0,R,0,576):k.substep_shaping&1&&trancate_smallspectrums(k,u,m,R),Z.over_count},this.iteration_finish_one=function(v,u,m){var R=v.l3_side,o=R.tt[u][m];i.best_scalefac_store(v,u,m,R),v.use_best_huffman==1&&i.best_huffman_divide(v,o),t.ResvAdjust(v,o)},this.VBR_encode_granule=function(v,u,m,R,o,S,k){var j=v.internal_flags,$=new yd,H=xa(576),Z=k,re=k+1,N=(k+S)/2,y,P,D=0,W=j.sfb21_extra;Bn(Z<=LameInternalFlags.MAX_BITS_PER_CHANNEL),Ti.fill($.l3_enc,0);do Bn(N>=S),Bn(N<=k),Bn(S<=k),N>Z-42?j.sfb21_extra=!1:j.sfb21_extra=W,P=outer_loop(v,u,m,R,o,N),P<=0?(D=1,re=u.part2_3_length,$.assign(u),kr.arraycopy(R,0,H,0,576),k=re-32,y=k-S,N=(k+S)/2):(S=N+32,y=k-S,N=(k+S)/2,D!=0&&(D=2,u.assign($),kr.arraycopy(H,0,R,0,576)));while(y>12);j.sfb21_extra=W,D==2&&kr.arraycopy($.l3_enc,0,u.l3_enc,0,576),Bn(u.part2_3_length<=Z)},this.get_framebits=function(v,u){var m=v.internal_flags;m.bitrate_index=m.VBR_min_bitrate;var R=e.getframebits(v);m.bitrate_index=1,R=e.getframebits(v);for(var o=1;o<=m.VBR_max_bitrate;o++){m.bitrate_index=o;var S=new MeanBits(R);u[o]=t.ResvFrameBegin(v,S),R=S.bits}},this.VBR_old_prepare=function(v,u,m,R,o,S,k,j,$){var H=v.internal_flags,Z,re=0,N=1,y=0;H.bitrate_index=H.VBR_max_bitrate;var P=t.ResvFrameBegin(v,new MeanBits(0))/H.mode_gr;get_framebits(v,S);for(var D=0;D<H.mode_gr;D++){var W=n.on_pe(v,u,j[D],P,D,0);H.mode_ext==Qe.MPG_MD_MS_LR&&(ms_convert(H.l3_side,D),n.reduce_side(j[D],m[D],P,W));for(var L=0;L<H.channels_out;++L){var x=H.l3_side.tt[D][L];x.block_type!=Qe.SHORT_TYPE?(re=1.28/(1+Math.exp(3.5-u[D][L]/300))-.05,Z=H.PSY.mask_adjust-re):(re=2.56/(1+Math.exp(3.5-u[D][L]/300))-.14,Z=H.PSY.mask_adjust_short-re),H.masking_lower=Math.pow(10,Z*.1),init_outer_loop(H,x),$[D][L]=n.calc_xmin(v,R[D][L],x,o[D][L]),$[D][L]!=0&&(N=0),k[D][L]=126,y+=j[D][L]}}for(var D=0;D<H.mode_gr;D++)for(var L=0;L<H.channels_out;L++)y>S[H.VBR_max_bitrate]&&(j[D][L]*=S[H.VBR_max_bitrate],j[D][L]/=y),k[D][L]>j[D][L]&&(k[D][L]=j[D][L]);return N},this.bitpressure_strategy=function(v,u,m,R){for(var o=0;o<v.mode_gr;o++)for(var S=0;S<v.channels_out;S++){for(var k=v.l3_side.tt[o][S],j=u[o][S],$=0,H=0;H<k.psy_lmax;H++)j[$++]*=1+.029*H*H/Qe.SBMAX_l/Qe.SBMAX_l;if(k.block_type==Qe.SHORT_TYPE)for(var H=k.sfb_smin;H<Qe.SBMAX_s;H++)j[$++]*=1+.029*H*H/Qe.SBMAX_s/Qe.SBMAX_s,j[$++]*=1+.029*H*H/Qe.SBMAX_s/Qe.SBMAX_s,j[$++]*=1+.029*H*H/Qe.SBMAX_s/Qe.SBMAX_s;R[o][S]=0|Math.max(m[o][S],.9*R[o][S])}},this.VBR_new_prepare=function(v,u,m,R,o,S){var k=v.internal_flags,j=1,$=0,H=0,Z;if(v.free_format){k.bitrate_index=0;var re=new MeanBits($);Z=t.ResvFrameBegin(v,re),$=re.bits,o[0]=Z}else{k.bitrate_index=k.VBR_max_bitrate;var re=new MeanBits($);t.ResvFrameBegin(v,re),$=re.bits,get_framebits(v,o),Z=o[k.VBR_max_bitrate]}for(var N=0;N<k.mode_gr;N++){n.on_pe(v,u,S[N],$,N,0),k.mode_ext==Qe.MPG_MD_MS_LR&&ms_convert(k.l3_side,N);for(var y=0;y<k.channels_out;++y){var P=k.l3_side.tt[N][y];k.masking_lower=Math.pow(10,k.PSY.mask_adjust*.1),init_outer_loop(k,P),n.calc_xmin(v,m[N][y],P,R[N][y])!=0&&(j=0),H+=S[N][y]}}for(var N=0;N<k.mode_gr;N++)for(var y=0;y<k.channels_out;y++)H>Z&&(S[N][y]*=Z,S[N][y]/=H);return j},this.calc_target_bits=function(v,u,m,R,o,S){var k=v.internal_flags,j=k.l3_side,$,H,Z,re,N=0;k.bitrate_index=k.VBR_max_bitrate;var y=new MeanBits(N);for(S[0]=t.ResvFrameBegin(v,y),N=y.bits,k.bitrate_index=1,N=e.getframebits(v)-k.sideinfo_len*8,o[0]=N/(k.mode_gr*k.channels_out),N=v.VBR_mean_bitrate_kbps*v.framesize*1e3,k.substep_shaping&1&&(N*=1.09),N/=v.out_samplerate,N-=k.sideinfo_len*8,N/=k.mode_gr*k.channels_out,$=.93+.07*(11-v.compression_ratio)/(11-5.5),$<.9&&($=.9),$>1&&($=1),H=0;H<k.mode_gr;H++){var P=0;for(Z=0;Z<k.channels_out;Z++){if(R[H][Z]=int($*N),u[H][Z]>700){var D=int((u[H][Z]-700)/1.4),W=j.tt[H][Z];R[H][Z]=int($*N),W.block_type==Qe.SHORT_TYPE&&D<N/2&&(D=N/2),D>N*3/2?D=N*3/2:D<0&&(D=0),R[H][Z]+=D}R[H][Z]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(R[H][Z]=LameInternalFlags.MAX_BITS_PER_CHANNEL),P+=R[H][Z]}if(P>LameInternalFlags.MAX_BITS_PER_GRANULE)for(Z=0;Z<k.channels_out;++Z)R[H][Z]*=LameInternalFlags.MAX_BITS_PER_GRANULE,R[H][Z]/=P}if(k.mode_ext==Qe.MPG_MD_MS_LR)for(H=0;H<k.mode_gr;H++)n.reduce_side(R[H],m[H],N*k.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(re=0,H=0;H<k.mode_gr;H++)for(Z=0;Z<k.channels_out;Z++)R[H][Z]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(R[H][Z]=LameInternalFlags.MAX_BITS_PER_CHANNEL),re+=R[H][Z];if(re>S[0])for(H=0;H<k.mode_gr;H++)for(Z=0;Z<k.channels_out;Z++)R[H][Z]*=S[0],R[H][Z]/=re}}var u4=l4,c4=ct,Qs=c4.assert;function f4(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r=t.internal_flags,i,a=r.l3_side,s=e.getframebits(t);n.bits=(s-r.sideinfo_len*8)/r.mode_gr;var l=8*256*r.mode_gr-8;t.brate>320?i=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(i=8*1440,t.strict_ISO&&(i=8*int(32e4/(t.out_samplerate/1152)/8+.5))),r.ResvMax=i-s,r.ResvMax>l&&(r.ResvMax=l),(r.ResvMax<0||t.disable_reservoir)&&(r.ResvMax=0);var f=n.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return f>i&&(f=i),Qs(r.ResvMax%8==0),Qs(r.ResvMax>=0),a.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=n.bits/2,r.pinfo.resvsize=r.ResvSize),f},this.ResvMaxBits=function(t,n,r,i){var a=t.internal_flags,s,l=a.ResvSize,f=a.ResvMax;i!=0&&(l+=n),a.substep_shaping&1&&(f*=.9),r.bits=n,l*10>f*9?(s=l-f*9/10,r.bits+=s,a.substep_shaping|=128):(s=0,a.substep_shaping&=127,!t.disable_reservoir&&!(a.substep_shaping&1)&&(r.bits-=.1*n));var A=l<a.ResvMax*6/10?l:a.ResvMax*6/10;return A-=s,A<0&&(A=0),A},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var r,i=t.l3_side;t.ResvSize+=n*t.mode_gr;var a=0;i.resvDrain_post=0,i.resvDrain_pre=0,(r=t.ResvSize%8)!=0&&(a+=r),r=t.ResvSize-a-t.ResvMax,r>0&&(Qs(r%8==0),Qs(r>=0),a+=r);{var s=Math.min(i.main_data_begin*8,a)/8;i.resvDrain_pre+=8*s,a-=8*s,t.ResvSize-=8*s,i.main_data_begin-=s}i.resvDrain_post+=a,t.ResvSize-=a}}var d4=f4;function h4(){var e="http://www.mp3dev.org/",t=3,n=98,r=4,i=0,a=93;this.getLameVersion=function(){return t+"."+n+"."+r},this.getLameShortVersion=function(){return t+"."+n+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return i+"."+a},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var _4=h4,vn=ct,m4=vn.System,z0=vn.VbrMode;vn.Float;var Sd=vn.ShortBlock;vn.Util;var p4=vn.Arrays;vn.new_array_n;var Zs=vn.new_byte;vn.new_double;vn.new_float;vn.new_float_n;vn.new_int;vn.new_int_n;var v4=vn.assert;_s.NUMTOCENTRIES=100;_s.MAXFRAMESIZE=2880;function _s(){var e,t,n;this.setModules=function(N,y,P){e=N,t=y,n=P};var r=1,i=2,a=4,s=8,l=_s.NUMTOCENTRIES,f=_s.MAXFRAMESIZE,A=l+4+4+4+4+4,c=A+9+1+1+8+1+1+3+1+1+2+4+2+2,d=128,b=64,z=32,C=null,V="Xing",Y="Info",v=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function u(N,y){if(N.nVbrNumFrames++,N.sum+=y,N.seen++,!(N.seen<N.want)&&(N.pos<N.size&&(N.bag[N.pos]=N.sum,N.pos++,N.seen=0),N.pos==N.size)){for(var P=1;P<N.size;P+=2)N.bag[P/2]=N.bag[P];N.want*=2,N.pos/=2}}function m(N,y){if(!(N.pos<=0))for(var P=1;P<l;++P){var D=P/l,W,L,x=0|Math.floor(D*N.pos);x>N.pos-1&&(x=N.pos-1),W=N.bag[x],L=N.sum;var w=0|256*W/L;w>255&&(w=255),y[P]=255&w}}this.addVbrFrame=function(N){var y=N.internal_flags,P=Tables.bitrate_table[N.version][y.bitrate_index];v4(y.VBR_seek_table.bag!=null),u(y.VBR_seek_table,P)};function R(N,y){var P=N[y+0]&255;return P<<=8,P|=N[y+1]&255,P<<=8,P|=N[y+2]&255,P<<=8,P|=N[y+3]&255,P}function o(N,y,P){N[y+0]=255&(P>>24&255),N[y+1]=255&(P>>16&255),N[y+2]=255&(P>>8&255),N[y+3]=255&(P&255)}function S(N,y,P){N[y+0]=255&(P>>8&255),N[y+1]=255&(P&255)}function k(N,y){return new String(N,y,V.length(),C).equals(V)||new String(N,y,Y.length(),C).equals(Y)}function j(N,y,P){return 255&(N<<y|P&~(-1<<y))}function $(N,y){var P=N.internal_flags;y[0]=j(y[0],8,255),y[1]=j(y[1],3,7),y[1]=j(y[1],1,N.out_samplerate<16e3?0:1),y[1]=j(y[1],1,N.version),y[1]=j(y[1],2,1),y[1]=j(y[1],1,N.error_protection?0:1),y[2]=j(y[2],4,P.bitrate_index),y[2]=j(y[2],2,P.samplerate_index),y[2]=j(y[2],1,0),y[2]=j(y[2],1,N.extension),y[3]=j(y[3],2,N.mode.ordinal()),y[3]=j(y[3],2,P.mode_ext),y[3]=j(y[3],1,N.copyright),y[3]=j(y[3],1,N.original),y[3]=j(y[3],2,N.emphasis),y[0]=255;var D=255&(y[1]&241),W;N.version==1?W=d:N.out_samplerate<16e3?W=z:W=b,N.VBR==z0.vbr_off&&(W=N.brate);var L;N.free_format?L=0:L=255&16*e.BitrateIndex(W,N.version,N.out_samplerate),N.version==1?(y[1]=255&(D|10),D=255&(y[2]&13),y[2]=255&(L|D)):(y[1]=255&(D|2),D=255&(y[2]&13),y[2]=255&(L|D))}this.getVbrTag=function(N){var y=new VBRTagData,P=0;y.flags=0;var D=N[P+1]>>3&1,W=N[P+2]>>2&3,L=N[P+3]>>6&3,x=N[P+2]>>4&15;if(x=Tables.bitrate_table[D][x],N[P+1]>>4==14?y.samprate=Tables.samplerate_table[2][W]:y.samprate=Tables.samplerate_table[D][W],D!=0?L!=3?P+=36:P+=21:L!=3?P+=21:P+=13,!k(N,P))return null;P+=4,y.hId=D;var w=y.flags=R(N,P);if(P+=4,w&r&&(y.frames=R(N,P),P+=4),w&i&&(y.bytes=R(N,P),P+=4),w&a){if(y.toc!=null)for(var E=0;E<l;E++)y.toc[E]=N[P+E];P+=l}y.vbrScale=-1,w&s&&(y.vbrScale=R(N,P),P+=4),y.headersize=(D+1)*72e3*x/y.samprate,P+=21;var _=N[P+0]<<4;_+=N[P+1]>>4;var p=(N[P+1]&15)<<8;return p+=N[P+2]&255,(_<0||_>3e3)&&(_=-1),(p<0||p>3e3)&&(p=-1),y.encDelay=_,y.encPadding=p,y},this.InitVbrTag=function(N){var y=N.internal_flags,P;N.version==1?P=d:N.out_samplerate<16e3?P=z:P=b,N.VBR==z0.vbr_off&&(P=N.brate);var D=(N.version+1)*72e3*P/N.out_samplerate,W=y.sideinfo_len+c;if(y.VBR_seek_table.TotalFrameSize=D,D<W||D>f){N.bWriteVbrTag=!1;return}y.VBR_seek_table.nVbrNumFrames=0,y.VBR_seek_table.nBytesWritten=0,y.VBR_seek_table.sum=0,y.VBR_seek_table.seen=0,y.VBR_seek_table.want=1,y.VBR_seek_table.pos=0,y.VBR_seek_table.bag==null&&(y.VBR_seek_table.bag=new int[400],y.VBR_seek_table.size=400);var L=Zs(f);$(N,L);for(var x=y.VBR_seek_table.TotalFrameSize,w=0;w<x;++w)t.add_dummy_byte(N,L[w]&255,1)};function H(N,y){var P=y^N;return y=y>>8^v[P&255],y}this.updateMusicCRC=function(N,y,P,D){for(var W=0;W<D;++W)N[0]=H(y[P+W],N[0])};function Z(N,y,P,D,W){var L=N.internal_flags,x=0,w=N.encoder_delay,E=N.encoder_padding,_=100-10*N.VBR_q-N.quality,p=n.getLameVeryShortVersion(),h,T=0,G,te=[1,5,3,2,4,0,3],q=0|(N.lowpassfreq/100+.5>255?255:N.lowpassfreq/100+.5),U=0,ee=0,ae=0,me=N.internal_flags.noise_shaping,Me=0,xe=0,ge=0,Be=0,Xe=0,dt=(N.exp_nspsytune&1)!=0,g=(N.exp_nspsytune&2)!=0,M=!1,we=!1,Re=N.internal_flags.nogap_total,De=N.internal_flags.nogap_current,Pe=N.ATHtype,ke=0,Te;switch(N.VBR){case vbr_abr:Te=N.VBR_mean_bitrate_kbps;break;case vbr_off:Te=N.brate;break;default:Te=N.VBR_min_bitrate_kbps}switch(N.VBR.ordinal()<te.length?h=te[N.VBR.ordinal()]:h=0,G=16*T+h,L.findReplayGain&&(L.RadioGain>510&&(L.RadioGain=510),L.RadioGain<-510&&(L.RadioGain=-510),ee=8192,ee|=3072,L.RadioGain>=0?ee|=L.RadioGain:(ee|=512,ee|=-L.RadioGain)),L.findPeakSample&&(U=Math.abs(0|L.PeakSample/32767*Math.pow(2,23)+.5)),Re!=-1&&(De>0&&(we=!0),De<Re-1&&(M=!0)),ke=Pe+((dt?1:0)<<4)+((g?1:0)<<5)+((M?1:0)<<6)+((we?1:0)<<7),_<0&&(_=0),N.mode){case MONO:Me=0;break;case STEREO:Me=1;break;case DUAL_CHANNEL:Me=2;break;case JOINT_STEREO:N.force_ms?Me=4:Me=3;break;case NOT_SET:default:Me=7;break}N.in_samplerate<=32e3?ge=0:N.in_samplerate==48e3?ge=2:N.in_samplerate>48e3?ge=3:ge=1,(N.short_blocks==Sd.short_block_forced||N.short_blocks==Sd.short_block_dispensed||N.lowpassfreq==-1&&N.highpassfreq==-1||N.scale_left<N.scale_right||N.scale_left>N.scale_right||N.disable_reservoir&&N.brate<320||N.noATH||N.ATHonly||Pe==0||N.in_samplerate<=32e3)&&(xe=1),Be=me+(Me<<2)+(xe<<5)+(ge<<6),Xe=L.nMusicCRC,o(P,D+x,_),x+=4;for(var Ve=0;Ve<9;Ve++)P[D+x+Ve]=255&p.charAt(Ve);x+=9,P[D+x]=255&G,x++,P[D+x]=255&q,x++,o(P,D+x,U),x+=4,S(P,D+x,ee),x+=2,S(P,D+x,ae),x+=2,P[D+x]=255&ke,x++,Te>=255?P[D+x]=255:P[D+x]=255&Te,x++,P[D+x]=255&w>>4,P[D+x+1]=255&(w<<4)+(E>>8),P[D+x+2]=255&E,x+=3,P[D+x]=255&Be,x++,P[D+x++]=0,S(P,D+x,N.preset),x+=2,o(P,D+x,y),x+=4,S(P,D+x,Xe),x+=2;for(var Ne=0;Ne<x;Ne++)W=H(P[D+Ne],W);return S(P,D+x,W),x+=2,x}function re(N){N.seek(0);var y=Zs(10);N.readFully(y);var P;return new String(y,"ISO-8859-1").startsWith("ID3")?P=0:P=((y[6]&127)<<21|(y[7]&127)<<14|(y[8]&127)<<7|y[9]&127)+y.length,P}this.getLameTagFrame=function(N,y){var P=N.internal_flags;if(!N.bWriteVbrTag||P.Class_ID!=Lame.LAME_ID||P.VBR_seek_table.pos<=0)return 0;if(y.length<P.VBR_seek_table.TotalFrameSize)return P.VBR_seek_table.TotalFrameSize;p4.fill(y,0,P.VBR_seek_table.TotalFrameSize,0),$(N,y);var D=Zs(l);if(N.free_format)for(var W=1;W<l;++W)D[W]=255&255*W/100;else m(P.VBR_seek_table,D);var L=P.sideinfo_len;N.error_protection&&(L-=2),N.VBR==z0.vbr_off?(y[L++]=255&Y.charAt(0),y[L++]=255&Y.charAt(1),y[L++]=255&Y.charAt(2),y[L++]=255&Y.charAt(3)):(y[L++]=255&V.charAt(0),y[L++]=255&V.charAt(1),y[L++]=255&V.charAt(2),y[L++]=255&V.charAt(3)),o(y,L,r+i+a+s),L+=4,o(y,L,P.VBR_seek_table.nVbrNumFrames),L+=4;var x=P.VBR_seek_table.nBytesWritten+P.VBR_seek_table.TotalFrameSize;o(y,L,0|x),L+=4,m4.arraycopy(D,0,y,L,D.length),L+=D.length,N.error_protection&&t.CRC_writeheader(P,y);for(var w=0,W=0;W<L;W++)w=H(y[W],w);return L+=Z(N,x,y,L,w),P.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(N,y){var P=N.internal_flags;if(P.VBR_seek_table.pos<=0||(y.seek(y.length()),y.length()==0))return-1;var D=re(y);y.seek(D);var W=Zs(f),L=getLameTagFrame(N,W);return L>W.length?-1:(L<1||y.write(W,0,L),0)}}var y4=_s,yn=ct;yn.System;yn.VbrMode;yn.Float;yn.ShortBlock;yn.Util;yn.Arrays;yn.new_array_n;var gd=yn.new_byte;yn.new_double;yn.new_float;yn.new_float_n;yn.new_int;yn.new_int_n;var Ed=yn.assert,w4=cc(),S4=Zv,g4=y_,E4=S_(),x4=u4,R4=g_(),b4=d4,A4=As,T4=uc();$t();var k4=_4,C4=y4;function M4(){this.setModules=function(e,t){}}function B4(){this.setModules=function(e,t,n){}}function N4(){}function I4(){this.setModules=function(e,t){}}function O4(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var r=new w4,i=new M4,a=new g4,s=new T4,l=new S4,f=new E4,A=new x4,c=new C4,d=new k4,b=new I4,z=new b4,C=new R4,V=new B4,Y=new N4;r.setModules(a,s,l,f,A,c,d,b,Y),s.setModules(a,Y,d,c),b.setModules(s,d),l.setModules(r),A.setModules(s,z,f,C),f.setModules(C,z,r.enc.psy),z.setModules(s),C.setModules(f),c.setModules(r,s,d),i.setModules(V,Y),V.setModules(d,b,l);var v=r.lame_init();v.num_channels=e,v.in_samplerate=t,v.brate=n,v.mode=A4.STEREO,v.quality=3,v.bWriteVbrTag=!1,v.disable_reservoir=!0,v.write_id3tag_automatic=!1;var u=r.lame_init_params(v);Ed(u==0);var m=1152,R=0|1.25*m+7200,o=gd(R);this.encodeBuffer=function(S,k){e==1&&(k=S),Ed(S.length==k.length),S.length>m&&(m=S.length,R=0|1.25*m+7200,o=gd(R));var j=r.lame_encode_buffer(v,S,k,S.length,o,0,R);return new Int8Array(o.subarray(0,j))},this.flush=function(){var S=r.lame_encode_flush(v,o,0,R);return new Int8Array(o.subarray(0,S))}}function lr(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Ul(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}lr.RIFF=Ul("RIFF");lr.WAVE=Ul("WAVE");lr.fmt_=Ul("fmt ");lr.data=Ul("data");lr.readHeader=function(e){var t=new lr,n=e.getUint32(0,!1);if(lr.RIFF==n&&(e.getUint32(4,!0),lr.WAVE==e.getUint32(8,!1)&&lr.fmt_==e.getUint32(12,!1))){var r=e.getUint32(16,!0),i=20;switch(r){case 16:case 18:t.channels=e.getUint16(i+2,!0),t.sampleRate=e.getUint32(i+4,!0);break;default:throw"extended fmt chunk not implemented"}i+=r;for(var a=lr.data,s=0;a!=n&&(n=e.getUint32(i,!1),s=e.getUint32(i+4,!0),a!=n);)i+=s+8;return t.dataLen=s,t.dataOffset=i+8,t}};var L4=O4,P4={exports:{}};(function(e){var t=function(n){var r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(x,w,E){x[w]=E.value},s,l=typeof Symbol=="function"?Symbol:{},f=l.iterator||"@@iterator",A=l.asyncIterator||"@@asyncIterator",c=l.toStringTag||"@@toStringTag";function d(x,w,E){return Object.defineProperty(x,w,{value:E,enumerable:!0,configurable:!0,writable:!0}),x[w]}try{d({},"")}catch{d=function(w,E,_){return w[E]=_}}function b(x,w,E,_){var p=w&&w.prototype instanceof m?w:m,h=Object.create(p.prototype),T=new D(_||[]);return a(h,"_invoke",{value:re(x,E,T)}),h}n.wrap=b;function z(x,w,E){try{return{type:"normal",arg:x.call(w,E)}}catch(_){return{type:"throw",arg:_}}}var C="suspendedStart",V="suspendedYield",Y="executing",v="completed",u={};function m(){}function R(){}function o(){}var S={};d(S,f,function(){return this});var k=Object.getPrototypeOf,j=k&&k(k(W([])));j&&j!==r&&i.call(j,f)&&(S=j);var $=o.prototype=m.prototype=Object.create(S);R.prototype=o,a($,"constructor",{value:o,configurable:!0}),a(o,"constructor",{value:R,configurable:!0}),R.displayName=d(o,c,"GeneratorFunction");function H(x){["next","throw","return"].forEach(function(w){d(x,w,function(E){return this._invoke(w,E)})})}n.isGeneratorFunction=function(x){var w=typeof x=="function"&&x.constructor;return w?w===R||(w.displayName||w.name)==="GeneratorFunction":!1},n.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,o):(x.__proto__=o,d(x,c,"GeneratorFunction")),x.prototype=Object.create($),x},n.awrap=function(x){return{__await:x}};function Z(x,w){function E(h,T,G,te){var q=z(x[h],x,T);if(q.type==="throw")te(q.arg);else{var U=q.arg,ee=U.value;return ee&&typeof ee=="object"&&i.call(ee,"__await")?w.resolve(ee.__await).then(function(ae){E("next",ae,G,te)},function(ae){E("throw",ae,G,te)}):w.resolve(ee).then(function(ae){U.value=ae,G(U)},function(ae){return E("throw",ae,G,te)})}}var _;function p(h,T){function G(){return new w(function(te,q){E(h,T,te,q)})}return _=_?_.then(G,G):G()}a(this,"_invoke",{value:p})}H(Z.prototype),d(Z.prototype,A,function(){return this}),n.AsyncIterator=Z,n.async=function(x,w,E,_,p){p===void 0&&(p=Promise);var h=new Z(b(x,w,E,_),p);return n.isGeneratorFunction(w)?h:h.next().then(function(T){return T.done?T.value:h.next()})};function re(x,w,E){var _=C;return function(h,T){if(_===Y)throw new Error("Generator is already running");if(_===v){if(h==="throw")throw T;return L()}for(E.method=h,E.arg=T;;){var G=E.delegate;if(G){var te=N(G,E);if(te){if(te===u)continue;return te}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(_===C)throw _=v,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);_=Y;var q=z(x,w,E);if(q.type==="normal"){if(_=E.done?v:V,q.arg===u)continue;return{value:q.arg,done:E.done}}else q.type==="throw"&&(_=v,E.method="throw",E.arg=q.arg)}}}function N(x,w){var E=w.method,_=x.iterator[E];if(_===s)return w.delegate=null,E==="throw"&&x.iterator.return&&(w.method="return",w.arg=s,N(x,w),w.method==="throw")||E!=="return"&&(w.method="throw",w.arg=new TypeError("The iterator does not provide a '"+E+"' method")),u;var p=z(_,x.iterator,w.arg);if(p.type==="throw")return w.method="throw",w.arg=p.arg,w.delegate=null,u;var h=p.arg;if(!h)return w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,u;if(h.done)w[x.resultName]=h.value,w.next=x.nextLoc,w.method!=="return"&&(w.method="next",w.arg=s);else return h;return w.delegate=null,u}H($),d($,c,"Generator"),d($,f,function(){return this}),d($,"toString",function(){return"[object Generator]"});function y(x){var w={tryLoc:x[0]};1 in x&&(w.catchLoc=x[1]),2 in x&&(w.finallyLoc=x[2],w.afterLoc=x[3]),this.tryEntries.push(w)}function P(x){var w=x.completion||{};w.type="normal",delete w.arg,x.completion=w}function D(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(y,this),this.reset(!0)}n.keys=function(x){var w=Object(x),E=[];for(var _ in w)E.push(_);return E.reverse(),function p(){for(;E.length;){var h=E.pop();if(h in w)return p.value=h,p.done=!1,p}return p.done=!0,p}};function W(x){if(x){var w=x[f];if(w)return w.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var E=-1,_=function p(){for(;++E<x.length;)if(i.call(x,E))return p.value=x[E],p.done=!1,p;return p.value=s,p.done=!0,p};return _.next=_}}return{next:L}}n.values=W;function L(){return{value:s,done:!0}}return D.prototype={constructor:D,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!x)for(var w in this)w.charAt(0)==="t"&&i.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=s)},stop:function(){this.done=!0;var x=this.tryEntries[0],w=x.completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var w=this;function E(te,q){return h.type="throw",h.arg=x,w.next=te,q&&(w.method="next",w.arg=s),!!q}for(var _=this.tryEntries.length-1;_>=0;--_){var p=this.tryEntries[_],h=p.completion;if(p.tryLoc==="root")return E("end");if(p.tryLoc<=this.prev){var T=i.call(p,"catchLoc"),G=i.call(p,"finallyLoc");if(T&&G){if(this.prev<p.catchLoc)return E(p.catchLoc,!0);if(this.prev<p.finallyLoc)return E(p.finallyLoc)}else if(T){if(this.prev<p.catchLoc)return E(p.catchLoc,!0)}else if(G){if(this.prev<p.finallyLoc)return E(p.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,w){for(var E=this.tryEntries.length-1;E>=0;--E){var _=this.tryEntries[E];if(_.tryLoc<=this.prev&&i.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var p=_;break}}p&&(x==="break"||x==="continue")&&p.tryLoc<=w&&w<=p.finallyLoc&&(p=null);var h=p?p.completion:{};return h.type=x,h.arg=w,p?(this.method="next",this.next=p.finallyLoc,u):this.complete(h)},complete:function(x,w){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&w&&(this.next=w),u},finish:function(x){for(var w=this.tryEntries.length-1;w>=0;--w){var E=this.tryEntries[w];if(E.finallyLoc===x)return this.complete(E.completion,E.afterLoc),P(E),u}},catch:function(x){for(var w=this.tryEntries.length-1;w>=0;--w){var E=this.tryEntries[w];if(E.tryLoc===x){var _=E.completion;if(_.type==="throw"){var p=_.arg;P(E)}return p}}throw new Error("illegal catch attempt")},delegateYield:function(x,w,E){return this.delegate={iterator:W(x),resultName:w,nextLoc:E},this.method==="next"&&(this.arg=s),u}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(P4);var F4={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},D4=(e,t)=>{const n=e._malloc(t.length*Uint32Array.BYTES_PER_ELEMENT);return t.forEach((r,i)=>{const a=e.lengthBytesUTF8(r)+1,s=e._malloc(a);e.stringToUTF8(r,s,a),e.setValue(n+Uint32Array.BYTES_PER_ELEMENT*i,s,"i32")}),[t.length,n]};const j4="@ffmpeg/ffmpeg",H4="0.11.6",V4="FFmpeg WebAssembly version",$4="src/index.js",U4="src/index.d.ts",z4={example:"examples"},X4={start:"node scripts/server.js","start:worker":"node scripts/worker-server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},q4={"./src/node/index.js":"./src/browser/index.js"},Y4={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},G4=["ffmpeg","WebAssembly","video"],W4="Jerome Wu <jeromewus@gmail.com>",K4="MIT",Q4={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},Z4={node:">=12.16.1"},J4="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",e5={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},t5={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},E_={name:j4,version:H4,description:V4,main:$4,types:U4,directories:z4,scripts:X4,browser:q4,repository:Y4,keywords:G4,author:W4,license:K4,bugs:Q4,engines:Z4,homepage:J4,dependencies:e5,devDependencies:t5},n5=(typeof process<"u",`https://unpkg.com/@ffmpeg/core@${E_.devDependencies["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`),r5={corePath:n5};let dc=!1,x_=()=>{};const i5=e=>{dc=e},a5=e=>{x_=e},s5=(e,t)=>{x_({type:e,message:t}),dc&&console.log(`[${e}] ${t}`)};var ui={logging:dc,setLogging:i5,setCustomLogger:a5,log:s5};const o5=e=>`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ${e}. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`;var xd={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:o5};const ki=async(e,t)=>{ui.log("info",`fetch ${e}`);const n=await(await fetch(e)).arrayBuffer();ui.log("info",`${e} file size = ${n.byteLength} bytes`);const r=new Blob([n],{type:t}),i=URL.createObjectURL(r);return ui.log("info",`${e} blob URL = ${i}`),i},l5=async({corePath:e,workerPath:t,wasmPath:n})=>{if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){if(typeof e!="string")throw Error("corePath should be a string!");const l=new URL(e,import.meta.url).href,f=await ki(l,"application/javascript"),A=await ki(n!==void 0?n:l.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),c=await ki(t!==void 0?t:l.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(d=>{if(globalThis.importScripts(f),typeof createFFmpegCore>"u")throw Error(xd.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(l));ui.log("info","ffmpeg-core.js script loaded"),d({createFFmpegCore,corePath:f,wasmPath:A,workerPath:c})}):(ui.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:f,wasmPath:A,workerPath:c}))}if(typeof e!="string")throw Error("corePath should be a string!");const r=new URL(e,import.meta.url).href,i=await ki(r,"application/javascript"),a=await ki(n!==void 0?n:r.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),s=await ki(t!==void 0?t:r.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(l=>{const f=document.createElement("script"),A=()=>{if(f.removeEventListener("load",A),typeof createFFmpegCore>"u")throw Error(xd.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(r));ui.log("info","ffmpeg-core.js script loaded"),l({createFFmpegCore,corePath:i,wasmPath:a,workerPath:s})};f.src=i,f.type="text/javascript",f.addEventListener("load",A),document.getElementsByTagName("head")[0].appendChild(f)}):(ui.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:i,wasmPath:a,workerPath:s}))},u5=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:i}}})=>{n(Error(`File could not be read! Code=${i}`))},r.readAsArrayBuffer(e)}),c5=async e=>{let t=e;return typeof e>"u"?new Uint8Array:(typeof e=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(new URL(e,import.meta.url).href)).arrayBuffer():(e instanceof File||e instanceof Blob)&&(t=await u5(e)),new Uint8Array(t))},f5=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:r5,fetchFile:c5,getCreateFFmpegCore:l5},Symbol.toStringTag,{value:"Module"})),R_=km(f5),{defaultArgs:d5,baseOptions:h5}=F4,_5=D4,{defaultOptions:m5,getCreateFFmpegCore:p5}=R_,{version:v5}=E_,X0=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var y5=(e={})=>{const{log:t,logger:n,progress:r,...i}={...h5,...m5,...e};let a=null,s=null,l=null,f=null,A=!1,c=()=>{},d=t,b=r,z=0,C=0,V=!1,Y=0;const v=y=>{y==="FFMPEG_END"&&l!==null&&(l(),l=null,f=null,A=!1)},u=(y,P)=>{c({type:y,message:P}),d&&console.log(`[${y}] ${P}`)},m=y=>{const[P,D,W]=y.split(":");return parseFloat(P)*60*60+parseFloat(D)*60+parseFloat(W)},R=(y,P)=>{if(typeof y=="string")if(y.startsWith("  Duration")){const D=y.split(", ")[0].split(": ")[1],W=m(D);P({duration:W,ratio:Y}),(z===0||z>W)&&(z=W,V=!0)}else if(V&&y.startsWith("    Stream")){const D=y.match(/([\d.]+) fps/);if(D){const W=parseFloat(D[1]);C=z*W}else C=0;V=!1}else if(y.startsWith("frame")||y.startsWith("size")){const D=y.split("time=")[1].split(" ")[0],W=m(D),L=y.match(/frame=\s*(\d+)/);if(C&&L){const x=parseFloat(L[1]);Y=Math.min(x/C,1)}else Y=W/z;P({ratio:Y,time:W})}else y.startsWith("video:")&&(P({ratio:1}),z=0)},o=({type:y,message:P})=>{u(y,P),R(P,b),v(P)},S=async()=>{if(u("info","load ffmpeg-core"),a===null){u("info","loading ffmpeg-core");const{createFFmpegCore:y,corePath:P,workerPath:D,wasmPath:W}=await p5(i);a=await y({mainScriptUrlOrBlob:P,printErr:L=>o({type:"fferr",message:L}),print:L=>o({type:"ffout",message:L}),locateFile:(L,x)=>{if(typeof window<"u"||typeof WorkerGlobalScope<"u"){if(typeof W<"u"&&L.endsWith("ffmpeg-core.wasm"))return W;if(typeof D<"u"&&L.endsWith("ffmpeg-core.worker.js"))return D}return x+L}}),s=a.cwrap(i.mainName||"proxy_main","number",["number","number"]),u("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},k=()=>a!==null,j=(...y)=>{if(u("info",`run ffmpeg command: ${y.join(" ")}`),a===null)throw X0;if(A)throw Error("ffmpeg.wasm can only run one command at a time");return A=!0,new Promise((P,D)=>{const W=[...d5,...y].filter(L=>L.length!==0);l=P,f=D,s(..._5(a,W))})},$=(y,...P)=>{if(u("info",`run FS.${y} ${P.map(D=>typeof D=="string"?D:`<${D.length} bytes binary file>`).join(" ")}`),a===null)throw X0;{let D=null;try{D=a.FS[y](...P)}catch{throw Error(y==="readdir"?`ffmpeg.FS('readdir', '${P[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:y==="readFile"?`ffmpeg.FS('readFile', '${P[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return D}},H=()=>{if(a===null)throw X0;f&&f("ffmpeg has exited"),A=!1;try{a.exit(1)}catch(y){u(y.message),f&&f(y)}finally{a=null,s=null,l=null,f=null}},Z=y=>{b=y},re=y=>{c=y},N=y=>{d=y};return u("info",`use ffmpeg.wasm v${v5}`),{setProgress:Z,setLogger:re,setLogging:N,load:S,isLoaded:k,run:j,exit:H,FS:$}};const w5=y5,{fetchFile:S5}=R_;var g5={createFFmpeg:w5,fetchFile:S5};const E5=5e3,x5=5e3,R5="https://unpkg.com/@ffmpeg/core-st@0.11.1/dist/ffmpeg-core.js",b5="silenceremove=start_periods=1:stop_periods=-1:start_threshold=-30dB:stop_threshold=-30dB:start_silence=2:stop_silence=2",A5={api:void 0,autoStart:!1,autoTranscribe:!0,mode:"transcriptions",nonStop:!1,removeSilence:!1,stopTimeout:E5,maxSlienceTimeout:x5,streaming:!1,timeSlice:1e3,onDataAvailable:void 0,onTranscribe:void 0},T5={stop:void 0},k5={blob:void 0,text:void 0},C5=e=>{const{api:t,autoStart:n,autoTranscribe:r,mode:i,nonStop:a,removeSilence:s,stopTimeout:l,maxSlienceTimeout:f,streaming:A,timeSlice:c,whisperConfig:d,onDataAvailable:b,onTranscribe:z}={...A5,...e},C=je.useRef([]),V=je.useRef(),Y=je.useRef(),v=je.useRef(),u=je.useRef(),m=je.useRef(T5),[R,o]=je.useState(!1),[S,k]=je.useState(!1),[j,$]=je.useState(!1),[H,Z]=je.useState(k5);je.useEffect(()=>()=>{C.current&&(C.current=[]),V.current&&(V.current.flush(),V.current=void 0),v.current&&(v.current.destroy(),v.current=void 0),p("stop"),Y.current&&(Y.current.off("speaking",L),Y.current.off("stopped_speaking",x)),u.current&&(u.current.getTracks().forEach(q=>q.stop()),u.current=void 0)},[]),iv(async()=>{n&&!R&&await P()},[n]);const re=async()=>{R||await P()},N=async()=>{await w()},y=async q=>{R&&await E(q)},P=async()=>{try{if(u.current||await D(),u.current){if(!v.current){const{default:{RecordRTCPromisesHandler:U,StereoAudioRecorder:ee}}=await Kf(()=>import("./RecordRTC-tFNUyTPe.js").then(me=>me.R),__vite__mapDeps([])),ae={mimeType:"audio/wav",numberOfAudioChannels:1,recorderType:ee,sampleRate:44100,timeSlice:A?c:void 0,type:"audio",ondataavailable:r&&A?G:void 0};v.current=new U(u.current,ae)}V.current||(V.current=new L4(1,44100,96));const q=await v.current.getState();(q==="inactive"||q==="stopped")&&await v.current.startRecording(),q==="paused"&&await v.current.resumeRecording(),a&&W("stop",!1),o(!0)}}catch(q){console.error(q)}},D=async()=>{try{if(u.current&&u.current.getTracks().forEach(q=>q.stop()),u.current=await navigator.mediaDevices.getUserMedia({audio:!0}),!Y.current){const{default:q}=await Kf(()=>import("./hark-s1DTvVrp.js").then(U=>U.h),__vite__mapDeps([]));Y.current=q(u.current,{interval:100,play:!1}),Y.current.on("speaking",L),Y.current.on("stopped_speaking",x)}}catch(q){console.error(q)}},W=(q,U)=>{m.current[q]||(m.current[q]=setTimeout(E,U?l:f,U))},L=()=>{console.log("start speaking"),k(!0),p("stop")},x=()=>{console.log("stop speaking"),k(!1),a&&W("stop",!0)},w=async()=>{try{v.current&&(await v.current.getState()==="recording"&&await v.current.pauseRecording(),p("stop"),o(!1))}catch(q){console.error(q)}},E=async q=>{try{if(v.current){const U=await v.current.getState();if((U==="recording"||U==="paused")&&await v.current.stopRecording(),_(),p("stop"),o(!1),q)if(r){const ee=await h();ee&&T(ee)}else{const ee=await v.current.getBlob();Z({blob:ee})}await v.current.destroy(),C.current=[],V.current&&(V.current.flush(),V.current=void 0),v.current=void 0}}catch(U){console.error(U)}},_=()=>{Y.current&&(Y.current.off("speaking",L),Y.current.off("stopped_speaking",x),Y.current=void 0),u.current&&(u.current.getTracks().forEach(q=>q.stop()),u.current=void 0)},p=q=>{m.current[q]&&(clearTimeout(m.current[q]),m.current[q]=void 0)},h=async()=>{console.log("transcribing speech");try{if(V.current&&v.current&&await v.current.getState()==="stopped"){$(!0);let U=await v.current.getBlob();if(s){const ee=g5.createFFmpeg({mainName:"main",corePath:R5,log:!0});ee.isLoaded()||await ee.load();const ae=await U.arrayBuffer();console.log({in:ae.byteLength}),ee.FS("writeFile","in.wav",new Uint8Array(ae)),await ee.run("-i","in.wav","-acodec","libmp3lame","-b:a","96k","-ar","44100","-af",b5,"out.mp3");const me=ee.FS("readFile","out.mp3");if(console.log({out:me.buffer.byteLength}),me.length<=225){ee.exit(),Z({blob:U,text:""}),$(!1);return}console.log("out.length: "+me.length),U=new Blob([me.buffer],{type:"audio/mpeg"}),ee.exit()}else{const ee=await U.arrayBuffer();console.log({wav:ee.byteLength});const ae=V.current.encodeBuffer(new Int16Array(ee));U=new Blob([ae],{type:"audio/mpeg"}),console.log({blob:U,mp3:ae.byteLength})}return U}}catch(q){console.info(q),$(!1)}},T=async q=>{console.log("transcribing speech");try{if($(!0),typeof z=="function"){const U=await z(q);console.log("transcribed text: ",U),Z(U)}else{const U=new File([q],"speech.mp3",{type:"audio/mpeg"}),ee=await te(U);console.log("transcribed text: ",{text:ee}),Z({blob:q,text:ee})}$(!1)}catch(U){console.info(U),$(!1)}},G=async q=>{console.log("onDataAvailable",q);try{if(A&&v.current){if(b==null||b(q),V.current){const ee=await q.arrayBuffer(),ae=V.current.encodeBuffer(new Int16Array(ee)),me=new Blob([ae],{type:"audio/mpeg"});C.current.push(me)}if(await v.current.getState()==="recording"){const ee=new Blob(C.current,{type:"audio/mpeg"}),ae=new File([ee],"speech.mp3",{type:"audio/mpeg"}),me=await te(ae);console.log("onInterim",{text:me}),me&&Z(Me=>({...Me,text:me}))}}}catch(U){console.error(U)}},te=av(async q=>{const U={file:q,model:"whisper-1"};i==="transcriptions"&&(U.language=(d==null?void 0:d.language)??"en"),d!=null&&d.prompt&&U.append("prompt",d.prompt),d!=null&&d.response_format&&U.append("response_format",d.response_format),d!=null&&d.temperature&&U.append("temperature",`${d.temperature}`);var ee="";return t&&(ee=(await t.audio.transcriptions.create(U)).text),ee},[t,i,d]);return{listening:R||j,recording:R,speaking:S,transcribing:j,transcript:H,pauseRecording:N,startRecording:re,stopRecording:y}},Mi="4.24.7";let Rd=!1,Wa,b_,A_,Ku,T_,k_,C_,M_,B_;function M5(e,t={auto:!1}){if(Rd)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Wa)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Wa}'\``);Rd=t.auto,Wa=e.kind,b_=e.fetch,e.Request,e.Response,e.Headers,A_=e.FormData,e.Blob,Ku=e.File,T_=e.ReadableStream,k_=e.getMultipartRequestOptions,C_=e.getDefaultAgent,M_=e.fileFromPath,B_=e.isFsReadStream}class B5{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function N5({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,a;try{n=fetch,r=Request,i=Response,a=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(s,l)=>({...l,body:new B5(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:s=>!1}}Wa||M5(N5(),{auto:!0});class Je extends Error{}class Vt extends Je{constructor(t,n,r,i){super(`${Vt.makeMessage(t,n,r)}`),this.status=t,this.headers=i;const a=n;this.error=a,this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t)return new zl({cause:Zu(n)});const a=n==null?void 0:n.error;return t===400?new N_(t,a,r,i):t===401?new I_(t,a,r,i):t===403?new O_(t,a,r,i):t===404?new L_(t,a,r,i):t===409?new P_(t,a,r,i):t===422?new F_(t,a,r,i):t===429?new D_(t,a,r,i):t>=500?new j_(t,a,r,i):new Vt(t,a,r,i)}}class vi extends Vt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}}class zl extends Vt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class hc extends zl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class N_ extends Vt{constructor(){super(...arguments),this.status=400}}class I_ extends Vt{constructor(){super(...arguments),this.status=401}}class O_ extends Vt{constructor(){super(...arguments),this.status=403}}class L_ extends Vt{constructor(){super(...arguments),this.status=404}}class P_ extends Vt{constructor(){super(...arguments),this.status=409}}class F_ extends Vt{constructor(){super(...arguments),this.status=422}}class D_ extends Vt{constructor(){super(...arguments),this.status=429}}class j_ extends Vt{}class Fr{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;const i=new I5;async function*a(){if(!t.body)throw n.abort(),new Je("Attempted to iterate over a response with no body");const l=new yi,f=bd(t.body);for await(const A of f)for(const c of l.decode(A)){const d=i.decode(c);d&&(yield d)}for(const A of l.flush()){const c=i.decode(A);c&&(yield c)}}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const f of a())if(!l){if(f.data.startsWith("[DONE]")){l=!0;continue}if(f.event===null){let A;try{A=JSON.parse(f.data)}catch(c){throw console.error("Could not parse message into JSON:",f.data),console.error("From chunk:",f.raw),c}if(A&&A.error)throw new Vt(void 0,A.error,void 0,void 0);yield A}}l=!0}catch(f){if(f instanceof Error&&f.name==="AbortError")return;throw f}finally{l||n.abort()}}return new Fr(s,n)}static fromReadableStream(t,n){let r=!1;async function*i(){const s=new yi,l=bd(t);for await(const f of l)for(const A of s.decode(f))yield A;for(const f of s.flush())yield f}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const l of i())s||l&&(yield JSON.parse(l));s=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{s||n.abort()}}return new Fr(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();t.push(s),n.push(s)}return a.shift()}});return[new Fr(()=>i(t),this.controller),new Fr(()=>i(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new T_({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const l=r.encode(JSON.stringify(a)+`
`);i.enqueue(l)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}class I5{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=O5(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class yi{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=yi.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(yi.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new Je(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new Je(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new Je("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}yi.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);yi.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function O5(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function bd(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const H_=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",L5=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&V_(e),V_=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",P5=e=>L5(e)||H_(e)||B_(e);async function $_(e,t,n={}){var i;if(e=await e,H_(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Ku([a],t,n)}const r=await F5(e);if(t||(t=j5(e)??"unknown_file"),!n.type){const a=(i=r[0])==null?void 0:i.type;typeof a=="string"&&(n={...n,type:a})}return new Ku(r,t,n)}async function F5(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(V_(e))t.push(await e.arrayBuffer());else if(H5(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${D5(e)}`);return t}function D5(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function j5(e){var t;return q0(e.name)||q0(e.filename)||((t=q0(e.path))==null?void 0:t.split(/[\\/]/).pop())}const q0=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},H5=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Ad=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",ms=async e=>{const t=await V5(e.body);return k_(t,e)},V5=async e=>{const t=new A_;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Qu(t,n,r))),t},Qu=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(P5(n)){const r=await $_(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Qu(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Qu(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var yo={},$5=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},U5=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Js;async function U_(e){const{response:t}=e;if(e.options.stream)return Ka("response",t.status,t.url,t.headers,t.body),Fr.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n!=null&&n.includes("application/json")){const i=await t.json();return Ka("response",t.status,t.url,t.headers,i),i}const r=await t.text();return Ka("response",t.status,t.url,t.headers,r),r}class Xl extends Promise{constructor(t,n=U_){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Xl(this.responsePromise,async n=>t(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class z5{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:a}){this.baseURL=t,this.maxRetries=Y0("maxRetries",n),this.timeout=Y0("timeout",r),this.httpAgent=i,this.fetch=a??b_}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...K5(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${ey()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>({method:t,path:n,...i})))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}return null}buildRequest(t){var C;const{method:n,path:r,query:i,headers:a={}}=t,s=Ad(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(s),f=this.buildURL(r,i);"timeout"in t&&Y0("timeout",t.timeout);const A=t.timeout??this.timeout,c=t.httpAgent??this.httpAgent??C_(f),d=A+1e3;typeof((C=c==null?void 0:c.options)==null?void 0:C.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const b=this.buildHeaders({options:t,headers:a,contentLength:l});return{req:{method:n,...s&&{body:s},headers:b,...c&&{agent:c},signal:t.signal??null},url:f,timeout:A}}buildHeaders({options:t,headers:n,contentLength:r}){const i={};r&&(i["content-length"]=r);const a=this.defaultHeaders(t);return Md(i,a),Md(i,n),Ad(t.body)&&Wa!=="node"&&delete i["content-type"],this.validateHeaders(i,n),i}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,i){return Vt.generate(t,n,r,i)}request(t,n=null){return new Xl(this.makeRequest(t,n))}async makeRequest(t,n){var c,d;const r=await t;n==null&&(n=r.maxRetries??this.maxRetries);const{req:i,url:a,timeout:s}=this.buildRequest(r);if(await this.prepareRequest(i,{url:a,options:r}),Ka("request",a,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new vi;const l=new AbortController,f=await this.fetchWithTimeout(a,i,s,l).catch(Zu);if(f instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new vi;if(n)return this.retryRequest(r,n);throw f.name==="AbortError"?new hc:new zl({cause:f})}const A=q5(f.headers);if(!f.ok){if(n&&this.shouldRetry(f))return this.retryRequest(r,n,A);const b=await f.text().catch(Y=>Zu(Y).message),z=Q5(b),C=z?void 0:b;throw Ka("response",f.status,a,A,C),this.makeStatusError(f.status,z,C,A)}return{response:f,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new X5(this,r,t)}buildURL(t,n){const r=J5(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return q_(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Je(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,i){const{signal:a,...s}=n||{};a&&a.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:i.signal,...s}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let i;const a=r==null?void 0:r["retry-after"];if(a){const s=parseInt(a);Number.isNaN(s)?i=Date.parse(a)-Date.now():i=s*1e3}if(!i||!Number.isInteger(i)||i<=0||i>60*1e3){const s=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,s)}return await X_(i),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,s=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return s*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Mi}`}}class z_{constructor(t,n,r,i){Js.set(this,void 0),$5(this,Js,t,"f"),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new Je("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[i,a]of r)t.url.searchParams.set(i,a);n.query=void 0,n.path=t.url.toString()}return await U5(this,Js,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Js=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class X5 extends Xl{constructor(t,n,r){super(n,async i=>new r(t,i.response,await U_(i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const q5=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),Y5={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryResponse:!0},dr=e=>typeof e=="object"&&e!==null&&!q_(e)&&Object.keys(e).every(t=>Y_(Y5,t)),G5=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mi,"X-Stainless-OS":kd(Deno.build.os),"X-Stainless-Arch":Td(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mi,"X-Stainless-OS":kd(process.platform),"X-Stainless-Arch":Td(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=W5();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function W5(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:t,version:`${i}.${a}.${s}`}}}return null}const Td=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",kd=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Cd;const K5=()=>Cd??(Cd=G5()),Q5=e=>{try{return JSON.parse(e)}catch{return}},Z5=new RegExp("^(?:[a-z]+:)?//","i"),J5=e=>Z5.test(e),X_=e=>new Promise(t=>setTimeout(t,e)),Y0=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Je(`${e} must be an integer`);if(t<0)throw new Je(`${e} must be a positive integer`);return t},Zu=e=>e instanceof Error?e:new Error(e),G0=e=>{var t,n,r,i;if(typeof process<"u")return((t=yo==null?void 0:yo[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};function q_(e){if(!e)return!0;for(const t in e)return!1;return!0}function Y_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Md(e,t){for(const n in t){if(!Y_(t,n))continue;const r=n.toLowerCase();if(!r)continue;const i=t[n];i===null?delete e[r]:i!==void 0&&(e[r]=i)}}function Ka(e,...t){typeof process<"u"&&yo.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t)}const ey=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),ty=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class _c extends z_{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ar extends z_{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class ft{constructor(t){this._client=t}}let Qo=class extends ft{create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}};Qo||(Qo={});let Zo=class extends ft{constructor(){super(...arguments),this.completions=new Qo(this._client)}};(function(e){e.Completions=Qo})(Zo||(Zo={}));class Jo extends ft{create(t,n){return this._client.post("/audio/speech",{body:t,...n,__binaryResponse:!0})}}Jo||(Jo={});class el extends ft{create(t,n){return this._client.post("/audio/transcriptions",ms({body:t,...n}))}}el||(el={});class tl extends ft{create(t,n){return this._client.post("/audio/translations",ms({body:t,...n}))}}tl||(tl={});let nl=class extends ft{constructor(){super(...arguments),this.transcriptions=new el(this._client),this.translations=new tl(this._client),this.speech=new Jo(this._client)}};(function(e){e.Transcriptions=el,e.Translations=tl,e.Speech=Jo})(nl||(nl={}));let rl=class extends ft{create(t,n,r){return this._client.post(`/assistants/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/assistants/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}list(t,n={},r){return dr(n)?this.list(t,{},n):this._client.getAPIList(`/assistants/${t}/files`,mc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/assistants/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}};class mc extends Ar{}(function(e){e.AssistantFilesPage=mc})(rl||(rl={}));class il extends ft{constructor(){super(...arguments),this.files=new rl(this._client)}create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}list(t={},n){return dr(t)?this.list({},t):this._client.getAPIList("/assistants",pc,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}}class pc extends Ar{}(function(e){e.AssistantsPage=pc,e.Files=rl,e.AssistantFilesPage=mc})(il||(il={}));function Bd(e){return typeof e.parse=="function"}const Ki=e=>(e==null?void 0:e.role)==="assistant",G_=e=>(e==null?void 0:e.role)==="function",W_=e=>(e==null?void 0:e.role)==="tool";var Un=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},qe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Dt,wo,So,La,Pa,go,Fa,hr,Da,Eo,xo,Bi,Ju,al,e1,t1,n1,r1,K_,i1;const Nd=10;class Q_{constructor(){Dt.add(this),this.controller=new AbortController,wo.set(this,void 0),So.set(this,()=>{}),La.set(this,()=>{}),Pa.set(this,void 0),go.set(this,()=>{}),Fa.set(this,()=>{}),hr.set(this,{}),this._chatCompletions=[],this.messages=[],Da.set(this,!1),Eo.set(this,!1),xo.set(this,!1),Bi.set(this,!1),r1.set(this,t=>{if(Un(this,Eo,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new vi),t instanceof vi)return Un(this,xo,!0,"f"),this._emit("abort",t);if(t instanceof Je)return this._emit("error",t);if(t instanceof Error){const n=new Je(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new Je(String(t)))}),Un(this,wo,new Promise((t,n)=>{Un(this,So,t,"f"),Un(this,La,n,"f")}),"f"),Un(this,Pa,new Promise((t,n)=>{Un(this,go,t,"f"),Un(this,Fa,n,"f")}),"f"),qe(this,wo,"f").catch(()=>{}),qe(this,Pa,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},qe(this,r1,"f"))},0)}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(G_(t)||W_(t))&&t.content)this._emit("functionCallResult",t.content);else if(Ki(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Ki(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}_connected(){this.ended||(qe(this,So,"f").call(this),this._emit("connect"))}get ended(){return qe(this,Da,"f")}get errored(){return qe(this,Eo,"f")}get aborted(){return qe(this,xo,"f")}abort(){this.controller.abort()}on(t,n){return(qe(this,hr,"f")[t]||(qe(this,hr,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=qe(this,hr,"f")[t];if(!r)return this;const i=r.findIndex(a=>a.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(qe(this,hr,"f")[t]||(qe(this,hr,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Un(this,Bi,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Un(this,Bi,!0,"f"),await qe(this,Pa,"f")}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new Je("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),qe(this,Dt,"m",Ju).call(this)}async finalMessage(){return await this.done(),qe(this,Dt,"m",al).call(this)}async finalFunctionCall(){return await this.done(),qe(this,Dt,"m",e1).call(this)}async finalFunctionCallResult(){return await this.done(),qe(this,Dt,"m",t1).call(this)}async totalUsage(){return await this.done(),qe(this,Dt,"m",n1).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(t,...n){if(qe(this,Da,"f"))return;t==="end"&&(Un(this,Da,!0,"f"),qe(this,go,"f").call(this));const r=qe(this,hr,"f")[t];if(r&&(qe(this,hr,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!qe(this,Bi,"f")&&!(r!=null&&r.length)&&Promise.reject(i),qe(this,La,"f").call(this,i),qe(this,Fa,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!qe(this,Bi,"f")&&!(r!=null&&r.length)&&Promise.reject(i),qe(this,La,"f").call(this,i),qe(this,Fa,"f").call(this,i),this._emit("end")}}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=qe(this,Dt,"m",al).call(this);n&&this._emit("finalMessage",n);const r=qe(this,Dt,"m",Ju).call(this);r&&this._emit("finalContent",r);const i=qe(this,Dt,"m",e1).call(this);i&&this._emit("finalFunctionCall",i);const a=qe(this,Dt,"m",t1).call(this);a!=null&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",qe(this,Dt,"m",n1).call(this))}async _createChatCompletion(t,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),qe(this,Dt,"m",K_).call(this,n);const a=await t.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(a)}async _runChatCompletion(t,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var b;const i="function",{function_call:a="auto",stream:s,...l}=n,f=typeof a!="string"&&(a==null?void 0:a.name),{maxChatCompletions:A=Nd}=r||{},c={};for(const z of n.functions)c[z.name||z.function.name]=z;const d=n.functions.map(z=>({name:z.name||z.function.name,parameters:z.parameters,description:z.description}));for(const z of n.messages)this._addMessage(z,!1);for(let z=0;z<A;++z){const V=(b=(await this._createChatCompletion(t,{...l,function_call:a,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:b.message;if(!V)throw new Je("missing message in ChatCompletion response");if(!V.function_call)return;const{name:Y,arguments:v}=V.function_call,u=c[Y];if(u){if(f&&f!==Y){const S=`Invalid function_call: ${JSON.stringify(Y)}. ${JSON.stringify(f)} requested. Please try again`;this._addMessage({role:i,name:Y,content:S});continue}}else{const S=`Invalid function_call: ${JSON.stringify(Y)}. Available options are: ${d.map(k=>JSON.stringify(k.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:Y,content:S});continue}let m;try{m=Bd(u)?await u.parse(v):v}catch(S){this._addMessage({role:i,name:Y,content:S instanceof Error?S.message:String(S)});continue}const R=await u.function(m,this),o=qe(this,Dt,"m",i1).call(this,R);if(this._addMessage({role:i,name:Y,content:o}),f)return}}async _runTools(t,n,r){var b,z;const i="tool",{tool_choice:a="auto",stream:s,...l}=n,f=typeof a!="string"&&((b=a==null?void 0:a.function)==null?void 0:b.name),{maxChatCompletions:A=Nd}=r||{},c={};for(const C of n.tools)C.type==="function"&&(c[C.function.name||C.function.function.name]=C.function);const d="tools"in n?n.tools.map(C=>C.type==="function"?{type:"function",function:{name:C.function.name||C.function.function.name,parameters:C.function.parameters,description:C.function.description}}:C):void 0;for(const C of n.messages)this._addMessage(C,!1);for(let C=0;C<A;++C){const Y=(z=(await this._createChatCompletion(t,{...l,tool_choice:a,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:z.message;if(!Y)throw new Je("missing message in ChatCompletion response");if(!Y.tool_calls)return;for(const v of Y.tool_calls){if(v.type!=="function")continue;const u=v.id,{name:m,arguments:R}=v.function,o=c[m];if(o){if(f&&f!==m){const $=`Invalid tool_call: ${JSON.stringify(m)}. ${JSON.stringify(f)} requested. Please try again`;this._addMessage({role:i,tool_call_id:u,content:$});continue}}else{const $=`Invalid tool_call: ${JSON.stringify(m)}. Available options are: ${d.map(H=>JSON.stringify(H.function.name)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:u,content:$});continue}let S;try{S=Bd(o)?await o.parse(R):R}catch($){const H=$ instanceof Error?$.message:String($);this._addMessage({role:i,tool_call_id:u,content:H});continue}const k=await o.function(S,this),j=qe(this,Dt,"m",i1).call(this,k);if(this._addMessage({role:i,tool_call_id:u,content:j}),f)return}}}}wo=new WeakMap,So=new WeakMap,La=new WeakMap,Pa=new WeakMap,go=new WeakMap,Fa=new WeakMap,hr=new WeakMap,Da=new WeakMap,Eo=new WeakMap,xo=new WeakMap,Bi=new WeakMap,r1=new WeakMap,Dt=new WeakSet,Ju=function(){return qe(this,Dt,"m",al).call(this).content??null},al=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Ki(n))return{...n,content:n.content??null}}throw new Je("stream ended without producing a ChatCompletionMessage with role=assistant")},e1=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Ki(i)&&(i!=null&&i.function_call))return i.function_call;if(Ki(i)&&((t=i==null?void 0:i.tool_calls)!=null&&t.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},t1=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(G_(n)&&n.content!=null||W_(n)&&n.content!=null&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(a=>a.type==="function"&&a.id===n.tool_call_id))}))return n.content}},n1=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},K_=function(t){if(t.n!=null&&t.n>1)throw new Je("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},i1=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ps extends Q_{static runFunctions(t,n,r){const i=new ps,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,a)),i}static runTools(t,n,r){const i=new ps,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,a)),i}_addMessage(t){super._addMessage(t),Ki(t)&&t.content&&this._emit("content",t.content)}}var zn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},W0=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},sr,Cr,K0,Q0,eo,Id;class vs extends Q_{constructor(){super(...arguments),sr.add(this),Cr.set(this,void 0)}get currentChatCompletionSnapshot(){return zn(this,Cr,"f")}static fromReadableStream(t){const n=new vs;return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const i=new vs;return i._run(()=>i._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,n,r){var s;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),zn(this,sr,"m",K0).call(this);const a=await t.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of a)zn(this,sr,"m",Q0).call(this,l);if((s=a.controller.signal)!=null&&s.aborted)throw new vi;return this._addChatCompletion(zn(this,sr,"m",eo).call(this))}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),zn(this,sr,"m",K0).call(this),this._connected();const i=Fr.fromReadableStream(t,this.controller);let a;for await(const l of i)a&&a!==l.id&&this._addChatCompletion(zn(this,sr,"m",eo).call(this)),zn(this,sr,"m",Q0).call(this,l),a=l.id;if((s=i.controller.signal)!=null&&s.aborted)throw new vi;return this._addChatCompletion(zn(this,sr,"m",eo).call(this))}[(Cr=new WeakMap,sr=new WeakSet,K0=function(){this.ended||W0(this,Cr,void 0,"f")},Q0=function(n){var s,l,f;if(this.ended)return;const r=zn(this,sr,"m",Id).call(this,n);this._emit("chunk",n,r);const i=(l=(s=n.choices[0])==null?void 0:s.delta)==null?void 0:l.content,a=(f=r.choices[0])==null?void 0:f.message;i!=null&&(a==null?void 0:a.role)==="assistant"&&(a!=null&&a.content)&&this._emit("content",i,a.content)},eo=function(){if(this.ended)throw new Je("stream has ended, this shouldn't happen");const n=zn(this,Cr,"f");if(!n)throw new Je("request ended without sending any chunks");return W0(this,Cr,void 0,"f"),ny(n)},Id=function(n){var r,i,a;let s=zn(this,Cr,"f");const{choices:l,...f}=n;s?Object.assign(s,f):s=W0(this,Cr,{...f,choices:[]},"f");for(const{delta:A,finish_reason:c,index:d,logprobs:b=null,...z}of n.choices){let C=s.choices[d];if(!C){s.choices[d]={finish_reason:c,index:d,message:A,logprobs:b,...z};continue}if(b&&(C.logprobs?b.content&&((r=C.logprobs).content??(r.content=[]),C.logprobs.content.push(...b.content)):C.logprobs=b),c&&(C.finish_reason=c),Object.assign(C,z),!A)continue;const{content:V,function_call:Y,role:v,tool_calls:u}=A;if(V&&(C.message.content=(C.message.content||"")+V),v&&(C.message.role=v),Y&&(C.message.function_call?(Y.name&&(C.message.function_call.name=Y.name),Y.arguments&&((i=C.message.function_call).arguments??(i.arguments=""),C.message.function_call.arguments+=Y.arguments)):C.message.function_call=Y),u){C.message.tool_calls||(C.message.tool_calls=[]);for(const{index:m,id:R,type:o,function:S}of u){const k=(a=C.message.tool_calls)[m]??(a[m]={});R&&(k.id=R),o&&(k.type=o),S&&(k.function??(k.function={arguments:""})),S!=null&&S.name&&(k.function.name=S.name),S!=null&&S.arguments&&(k.function.arguments+=S.arguments)}}}return s},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",i=>{const a=n.shift();a?a(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i(void 0);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise(a=>n.push(a)).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0})}}toReadableStream(){return new Fr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function ny(e){const{id:t,choices:n,created:r,model:i}=e;return{id:t,choices:n.map(({message:a,finish_reason:s,index:l,logprobs:f})=>{if(!s)throw new Je(`missing finish_reason for choice ${l}`);const{content:A=null,function_call:c,tool_calls:d}=a,b=a.role;if(!b)throw new Je(`missing role for choice ${l}`);if(c){const{arguments:z,name:C}=c;if(z==null)throw new Je(`missing function_call.arguments for choice ${l}`);if(!C)throw new Je(`missing function_call.name for choice ${l}`);return{message:{content:A,function_call:{arguments:z,name:C},role:b},finish_reason:s,index:l,logprobs:f}}return d?{index:l,finish_reason:s,logprobs:f,message:{role:b,content:A,tool_calls:d.map((z,C)=>{const{function:V,type:Y,id:v}=z,{arguments:u,name:m}=V||{};if(v==null)throw new Je(`missing choices[${l}].tool_calls[${C}].id
${to(e)}`);if(Y==null)throw new Je(`missing choices[${l}].tool_calls[${C}].type
${to(e)}`);if(m==null)throw new Je(`missing choices[${l}].tool_calls[${C}].function.name
${to(e)}`);if(u==null)throw new Je(`missing choices[${l}].tool_calls[${C}].function.arguments
${to(e)}`);return{id:v,type:Y,function:{name:m,arguments:u}}})}}:{message:{content:A,role:b},finish_reason:s,index:l,logprobs:f}}),created:r,model:i,object:"chat.completion"}}function to(e){return JSON.stringify(e)}class Qi extends vs{static fromReadableStream(t){const n=new Qi;return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const i=new Qi,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,a)),i}static runTools(t,n,r){const i=new Qi,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,a)),i}}let Z_=class extends ft{runFunctions(t,n){return t.stream?Qi.runFunctions(this._client.chat.completions,t,n):ps.runFunctions(this._client.chat.completions,t,n)}runTools(t,n){return t.stream?Qi.runTools(this._client.chat.completions,t,n):ps.runTools(this._client.chat.completions,t,n)}stream(t,n){return vs.createChatCompletion(this._client.chat.completions,t,n)}};class sl extends ft{constructor(){super(...arguments),this.completions=new Z_(this._client)}}(function(e){e.Completions=Z_})(sl||(sl={}));let ol=class extends ft{retrieve(t,n,r,i){return this._client.get(`/threads/${t}/messages/${n}/files/${r}`,{...i,headers:{"OpenAI-Beta":"assistants=v1",...i==null?void 0:i.headers}})}list(t,n,r={},i){return dr(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/messages/${n}/files`,vc,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v1",...i==null?void 0:i.headers}})}};class vc extends Ar{}(function(e){e.MessageFilesPage=vc})(ol||(ol={}));class ll extends ft{constructor(){super(...arguments),this.files=new ol(this._client)}create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v1",...i==null?void 0:i.headers}})}list(t,n={},r){return dr(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,yc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}}class yc extends Ar{}(function(e){e.ThreadMessagesPage=yc,e.Files=ol,e.MessageFilesPage=vc})(ll||(ll={}));class ul extends ft{retrieve(t,n,r,i){return this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{...i,headers:{"OpenAI-Beta":"assistants=v1",...i==null?void 0:i.headers}})}list(t,n,r={},i){return dr(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,wc,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v1",...i==null?void 0:i.headers}})}}class wc extends Ar{}(function(e){e.RunStepsPage=wc})(ul||(ul={}));class cl extends ft{constructor(){super(...arguments),this.steps=new ul(this._client)}create(t,n,r){return this._client.post(`/threads/${t}/runs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v1",...i==null?void 0:i.headers}})}list(t,n={},r){return dr(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,Sc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}submitToolOutputs(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v1",...i==null?void 0:i.headers}})}}class Sc extends Ar{}(function(e){e.RunsPage=Sc,e.Steps=ul,e.RunStepsPage=wc})(cl||(cl={}));class fl extends ft{constructor(){super(...arguments),this.runs=new cl(this._client),this.messages=new ll(this._client)}create(t={},n){return dr(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}}(function(e){e.Runs=cl,e.RunsPage=Sc,e.Messages=ll,e.ThreadMessagesPage=yc})(fl||(fl={}));class dl extends ft{constructor(){super(...arguments),this.chat=new sl(this._client),this.assistants=new il(this._client),this.threads=new fl(this._client)}}(function(e){e.Chat=sl,e.Assistants=il,e.AssistantsPage=pc,e.Threads=fl})(dl||(dl={}));class hl extends ft{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}hl||(hl={});class _l extends ft{create(t,n){return this._client.post("/embeddings",{body:t,...n})}}_l||(_l={});class ml extends ft{create(t,n){return this._client.post("/files",ms({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return dr(t)?this.list({},t):this._client.getAPIList("/files",gc,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),a=Date.now();let s=await this.retrieve(t);for(;!s.status||!i.has(s.status);)if(await X_(n),s=await this.retrieve(t),Date.now()-a>r)throw new hc({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return s}}class gc extends _c{}(function(e){e.FileObjectsPage=gc})(ml||(ml={}));class pl extends ft{create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return dr(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Ec,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return dr(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,xc,{query:n,...r})}}class Ec extends Ar{}class xc extends Ar{}(function(e){e.FineTuningJobsPage=Ec,e.FineTuningJobEventsPage=xc})(pl||(pl={}));class vl extends ft{constructor(){super(...arguments),this.jobs=new pl(this._client)}}(function(e){e.Jobs=pl,e.FineTuningJobsPage=Ec,e.FineTuningJobEventsPage=xc})(vl||(vl={}));class yl extends ft{createVariation(t,n){return this._client.post("/images/variations",ms({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",ms({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}yl||(yl={});class wl extends ft{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Rc,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class Rc extends _c{}(function(e){e.ModelsPage=Rc})(wl||(wl={}));class Sl extends ft{create(t,n){return this._client.post("/moderations",{body:t,...n})}}Sl||(Sl={});var J_;class Mt extends z5{constructor({baseURL:t=G0("OPENAI_BASE_URL"),apiKey:n=G0("OPENAI_API_KEY"),organization:r=G0("OPENAI_ORG_ID")??null,...i}={}){if(n===void 0)throw new Je("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,...i,baseURL:t||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&ty())throw new Je(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new hl(this),this.chat=new Zo(this),this.embeddings=new _l(this),this.files=new ml(this),this.images=new yl(this),this.audio=new nl(this),this.moderations=new Sl(this),this.models=new wl(this),this.fineTuning=new vl(this),this.beta=new dl(this),this._options=a,this.apiKey=n,this.organization=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}}J_=Mt;Mt.OpenAI=J_;Mt.OpenAIError=Je;Mt.APIError=Vt;Mt.APIConnectionError=zl;Mt.APIConnectionTimeoutError=hc;Mt.APIUserAbortError=vi;Mt.NotFoundError=L_;Mt.ConflictError=P_;Mt.RateLimitError=D_;Mt.BadRequestError=N_;Mt.AuthenticationError=I_;Mt.InternalServerError=j_;Mt.PermissionDeniedError=O_;Mt.UnprocessableEntityError=F_;(function(e){e.toFile=$_,e.fileFromPath=M_,e.Page=_c,e.CursorPage=Ar,e.Completions=hl,e.Chat=Zo,e.Embeddings=_l,e.Files=ml,e.FileObjectsPage=gc,e.Images=yl,e.Audio=nl,e.Moderations=Sl,e.Models=wl,e.ModelsPage=Rc,e.FineTuning=vl,e.Beta=dl})(Mt||(Mt={}));const ry=Mt;/*! js-cookie v3.0.5 | MIT */function no(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var iy={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function a1(e,t){function n(i,a,s){if(!(typeof document>"u")){s=no({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var f in s)s[f]&&(l+="; "+f,s[f]!==!0&&(l+="="+s[f].split(";")[0]));return document.cookie=i+"="+e.write(a,i)+l}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],s={},l=0;l<a.length;l++){var f=a[l].split("="),A=f.slice(1).join("=");try{var c=decodeURIComponent(f[0]);if(s[c]=e.read(A,c),i===c)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,a){n(i,"",no({},a,{expires:-1}))},withAttributes:function(i){return a1(this.converter,no({},this.attributes,i))},withConverter:function(i){return a1(no({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Bt=a1(iy,{path:"/"});function ay(e){const t=/\[CMD\](.*?)\[\/CMD\]/g,n=[];let r,i=e;for(;(r=t.exec(e))!==null;)n.push(r[1]),i=i.replace(r[0],"");return{tool_cmds:n,processedText:i}}function sy(e){const t=/^Present image \((\d)\)$/,n=e.reverse().find(r=>t.test(r));if(n){const r=n.match(t);if(r&&r[1])return parseInt(r[1])}return null}function oy(e){for(let t of e)if(t==="Present all topic images")return!0;return!1}function ly(e){for(let t of e)if(t==="END CONV")return!0;return!1}var Zi=(e=>(e.DEFAULT="Default",e.TALKY="Talky",e.TALKY_NO_IMG="Talky_no_img",e.DEMO_TALKY_NO_IMG="Demo_Talky_no_img",e))(Zi||{});function bc(e){return e=e==null?void 0:e.toUpperCase(),e!=null&&e.toUpperCase()in Zi?Zi[e]:(console.warn(`"${e}" does not match any key in the enum. Use default instead.`),"Default")}function uy(e,t,n,r){var i="";switch(t){case"Default":{i=`You are a moderator, ${r}. You are talking to an old patient, who might have an MCI (Mild Cognitive Impairment) issue or might be normal. You should be nice to the user, and actively lead the conversations to trigger his memory. Unless the user is conservative or sad, you should speak briefly with short sentences, and let the user speak more, rather than talk too much to overwhelm the user.
When you respond, image you are giving spontaneous speech, where you will use a lot of filler words like "Hmm, Oh, Err. Yeah" occasionally when you are thinking. In some cases, you can use filler words and wait for the user to speak more. You can repeat the users' words to draw his attention. Add self-repeating to make the tone natural.

You should follow this steps in your dialog: 
0. Warm up by asking the name of the user gentelly and nicely, if name is not provided in the User Memory.
1. If the user memory is not undefined below, try to warm up the conversation with the memory which is the log of last conversation. Otherwise, do 5-10 rounds of warm-up conversation, where you can remind the user about your last conversations. Then, you have to ask the user to make selection of the following three topics: (1) ${e.topics[0]}, (2) ${e.topics[1]} and (3) ${e.topics[2]}. Whenever you ask the user to select topics, you have to present all topic images. Then, you can inform the user to check the images on the screen.
2. After the user make the topic selection, you must use below tool commands to present an image to help the user understand the topic.
3. Ask the user: "What you can see in the picture?" Patiently guide the participant to explain more details on the picture. More details are better.
4. Continue to discuss the topic. No need to provide very detailed information. Instead, provide some hints to encourage the user to think and recall his past experience.
5. If the patient really doesn't want to talk, share your opinions on the topic more to engage the user.

Other rules that you must follow:
1. Do not say "This is a good choice". Instead, try something differently, e.g., "I like your choice", "That's a nice choice", "Great. I'd love to talk about the topic".
2. Don't share too many facts. 
3. If the user is sharing a lot, try to provide some short feedback like "Hmm", "Oh, yes", "That's interesting" to encourage the user to continue. Unless the user talk very few, don't ask new questions.
4. No more than one question in a turn.

====
## Tool Commands

You will use '[CMD]content[/CMD]' to execute an command. Use (X) to denote the choice of topic where X could be 1, 2, or 3. Tools are defined as follows.
+ [CMD]Present image (X)[/CMD] will present an image for topic (X).
+ [CMD]Present all topic images[/CMD] will present three image of all three topics.
+ [CMD]END CONV[/CMD] will end the conversation. Use it if you are sure the user has ended the conversation.

## User memory

${n}`;break}case"Talky":{i=`You are a moderator, ${r}. You are talking to an old patient, who might have an MCI (Mild Cognitive Impairment) issue or might be normal. You should be nice to the user, and actively lead the conversations to trigger his memory.

You should follow this steps in your dialog: 
0. Warm up by asking the name of the user gentelly and nicely. Then remember to him/her by name.
1. Do 5-10 rounds of warm-up conversation, where you can remind the user about your last conversations. Then, you have to ask the user to make selection of the following three topics: (1) ${e.topics[0]}, (2) ${e.topics[1]} and (3) ${e.topics[2]}. Whenever you ask the user to select topics, you have to present all topic images. Then, you can inform the user to check the images on the screen.
2. After the user make the topic selection, you must use below tool commands to present an image to help the user understand the topic.
3. Ask the user: "What you can see in the picture?" Patiently guide the participant to explain more details on the picture.
4. Continue to discuss the topic. No need to provide very detailed information. Instead, provide some hints to encourage the user to think and recall his past experience.
5. If the patient really doesn't want to talk, share your opinions on the topic more to engage the user.

====
## Tool Commands

You will use '[CMD] content [/CMD]' to execute an command. Use (X) to denote the choice of topic where X could be 1, 2, or 3. Tools are defined as follows.
+ [CMD]Present image (X)[/CMD] will present an image for topic (X).
+ [CMD]Present all topic images[/CMD] will present three image of all three topics.`;break}case"Talky_no_img":{i=`You are a moderator, ${r}. You are talking to an old patient, who might have an MCI (Mild Cognitive Impairment) issue or might be normal. You should be nice to the user, and actively lead the conversations to trigger his memory.

You should follow this steps in your dialog: 
0. Warm up by asking the name of the user gentelly and nicely. Then remember to him/her by name.
1. Do 5-10 rounds of warm-up conversation, where you can remind the user about your last conversations. Then, you have to ask the user to make selection of the following three topics: (1) ${e.topics[0]}, (2) ${e.topics[1]} and (3) ${e.topics[2]}.
2. Once topic is selected, continue to discuss the topic. No need to provide very detailed information. Instead, provide some hints to encourage the user to think and recall his past experience.`;break}case"Demo_Talky_no_img":{i=`You are a moderator, ${r}. You are talking to an old patient, who might have an MCI (Mild Cognitive Impairment) issue or might be normal. You should be nice to the user, and actively lead the conversations to trigger his memory. Instead of asking too many questions or talk too much at once, be nice and patient and talk in short sentences.

You should follow this steps in your dialog: 
1. Do 1-3 rounds of warm-up conversation, where you can remind the user about your last conversations. Then, you have to ask the user to make selection of the following three topics: (1) politeness, (2) conflict resolution and (3) forgiveness. If the user cannot decide, choose forgiveness then.
2. Once topic is selected, continue to discuss the topic. No need to provide very detailed information. Instead, provide some hints to encourage the user to think and recall his past experience.`;break}default:{console.log(`ERROR: no system prompt is found for ${t}`);break}}return console.log(`TEST: prompt_opt: ${t}`),{role:"system",content:i}}function cy(){return{role:"system",content:`The conversation has lasted for a while. End the conversation smoothly. If the user is asking you questions or is still sharing something, wait until they finish. Do not start a new topic and do not ask more questions.
        
        To end the conversation, you may say something like but don't have to be the same:
        - Thanks for sharing your experience with me. Would you like take a break?
        - It is so enjoyable to talk with you. But would you like to take a break? I don't want to make you tired.
        - I like to talk with you. The time flies. Would you like to take a break and we can talk about other topics later?

        If you are sure the user has ended the conversation, send the command: [CMD]END CONV[/CMD]
        `}}const ja={"000":{id:"000",topics:["Family Gatherings","Holiday Celebrations","Travel Adventures"]},"001":{id:"001",topics:["Exercise and Fitness","Nutrition and Cooking","Mental Well-being"]},"002":{id:"002",topics:["Gardening","Art and Crafting","Reading and Literature"]},"003":{id:"003",topics:["Volunteering","Social Clubs","Cultural Events"]},"004":{id:"004",topics:["Learning New Skills","Staying Connected","Smart Home Technology"]},"005":{id:"005",topics:["Road Trips","Cultural Expeditions","Nature Retreats"]},"006":{id:"006",topics:["Family History","Personal Projects","Cultural Traditions"]},"007":{id:"007",topics:["Financial Literacy","Home Maintenance","Cooking for One"]},"008":{id:"008",topics:["Birthdays","Anniversaries","Retirement Parties"]},"009":{id:"009",topics:["Theater and Performance","Music and Dance","Art Exhibitions"]}};var Xn=(e=>(e[e.START=0]="START",e[e.TOPIC_SELECTION=1]="TOPIC_SELECTION",e[e.TOPIC_SELECTED=2]="TOPIC_SELECTED",e[e.DISCUSSION=3]="DISCUSSION",e[e.TIMEOUT_REMINDER=4]="TIMEOUT_REMINDER",e))(Xn||{}),ys=(e=>(e.GPT4TURBO="gpt-4-turbo",e.GPT4="gpt-4",e.GPT4O="gpt-4o",e.GPT4OMINI="gpt-4o-mini",e))(ys||{});function em(e){return e=e==null?void 0:e.replace(" ","").replace(/-/g,"").replace(".","").toUpperCase(),e!=null&&e in ys?ys[e]:(console.warn(`"${e}" does not match any key in the enum. Use default instead.`),"gpt-4o")}const Z0=async(e,t,n,r,i,a,s,l,f)=>{if(!e)throw new Error("OpenAI API has not set up. Maybe Missing OpenAI API key. Please provide OPENAI_API_KEY as an env variable.");return new Promise(async A=>{console.log("## receive conversation: "+t[t.length-1].content);var c=i;const d=ja[n];console.log("DEBUG: theme_id: "+n+" theme "+d);var b=[...t];i===0?t.length==1&&(b=[uy(d,bc(a),l,f),...b]):(r!=null&&i==2&&(c=3,console.log("Change phase to DISCUSSION..")),i==4&&(console.log("Chatbot received TIMEOUT_REMINDER. Will prompt to end."),b=[...b,cy()],console.log("Change phase to DISCUSSION."),c=3)),console.log("----BOT: phase and conv-input");const C=await e.chat.completions.create({messages:b,model:s||"gpt-4-turbo-preview"}),V=C.choices[0].message.content?C.choices[0].message.content:"";b=[...b,{role:"assistant",content:V}],A({conversation:b,phase:c})})};var Wn=(e=>(e.Nova="Nova",e.Alloy="Alloy",e.Echo="Echo",e.Fable="Fable",e.Onyx="Onyx",e.Shimmer="Shimmer",e))(Wn||{});function tm(e){return e!=null&&e in Wn?Wn[e]:(console.warn(`"${e}" does not match any key in the enum. Use default instead.`),"Alloy")}function fy(e,t,n){let r=parseInt(e,10);return r<t?t:r>n?n:r}const dy=e=>e==1e3?"Very Fast":e==1500?"Fast":e==2500?"Normal":e==3500?"Slow":e==5e3?"Very Slow":"Fast",hy=({setPopUp:e,allowClose:t,onClose:n,onSubmit:r,initOpenaiToken:i,initElevenToken:a,initBoStyle:s,initModel:l,initVoice:f,initDuration:A,initUserPace:c})=>{const[d,b]=je.useState(i||""),[z,C]=je.useState(a||""),[V,Y]=je.useState(s||Zi.DEFAULT),[v,u]=je.useState(l||ys.GPT4O),[m,R]=je.useState(f||Wn.Alloy),[o,S]=je.useState(A||10),[k,j]=je.useState(c||3500),$=N=>{N.preventDefault(),r(d,z,V,v,m,o,k),n()},H=()=>{b(""),C(""),Y(Zi.DEFAULT)},Z=()=>{b(i||""),C(a||""),e(!1)},re=N=>{N=="Very Fast"&&j(1e3),N=="Fast"?j(1500):N=="Normal"?j(2500):N=="Slow"?j(3500):N=="Very Slow"&&j(5e3)};return pe.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-white/30 backdrop-blur-md p-4",children:pe.jsxs("form",{className:"px-8 pt-6 pb-8 mb-4",onSubmit:$,children:[pe.jsx("div",{className:"flex flex-wrap -mx-3 mb-6",children:pe.jsxs("div",{className:"w-full px-3",children:[pe.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",children:"API Key (Required)"}),pe.jsx("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"text",value:d,id:"oa-key",onChange:N=>b(N.target.value),placeholder:"******************"}),pe.jsx("div",{className:"text-gray-600 text-xs italic w-full",children:"Use OpenAI key or request a key by emailing to the project administrator."})]})}),pe.jsxs("div",{className:"flex flex-wrap -mx-3 mb-2",children:[pe.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[pe.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",children:"Chatbot Voice Charactor"}),pe.jsxs("div",{className:"relative",children:[pe.jsx("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"voice-state",value:m,onChange:N=>R(tm(N.target.value)),children:Object.values(Wn).map(N=>pe.jsx("option",{value:N,children:N},N))}),pe.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:pe.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:pe.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),pe.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[pe.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",children:"Duration (1-30Min)"}),pe.jsx("div",{className:"relative",children:pe.jsx("input",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"number",min:"1",max:"30",id:"duration",placeholder:"10",value:o,onChange:N=>S(fy(N.target.value,1,30))})})]}),pe.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[pe.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",children:"User Speech Pace (1-30Min)"}),pe.jsxs("div",{className:"relative",children:[pe.jsxs("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"user_pace",value:dy(c),onChange:N=>re(N.target.value),children:[pe.jsx("option",{value:"Very Fast",children:"Very Fast"},"Very Fast"),pe.jsx("option",{value:"Fast",children:"Fast"},"Fast"),pe.jsx("option",{value:"Normal",children:"Normal"},"Normal"),pe.jsx("option",{value:"Slow",children:"Slow"},"Slow"),pe.jsx("option",{value:"Very Slow",children:"Very Slow"},"Very Slow")]}),pe.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:pe.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:pe.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),pe.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",children:"- Advanced Options  -"}),pe.jsxs("div",{className:"flex flex-wrap -mx-3 mb-2",children:[pe.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[pe.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",children:"Chatbot Type"}),pe.jsxs("div",{className:"relative",children:[pe.jsx("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"bot-style",value:V,onChange:N=>Y(bc(N.target.value)),children:Object.values(Zi).map(N=>pe.jsx("option",{value:N,children:N},N))}),pe.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:pe.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:pe.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),pe.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[pe.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",children:"Model"}),pe.jsxs("div",{className:"relative",children:[pe.jsx("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"model-state",value:v,onChange:N=>u(em(N.target.value)),children:Object.values(ys).map(N=>pe.jsx("option",{value:N,children:N},N))}),pe.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:pe.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:pe.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),pe.jsxs("div",{className:"flex justify-center space-x-4",children:[pe.jsx("button",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-0 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"OK"}),pe.jsx("button",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-0 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"reset",onClick:H,children:"Reset"}),t&&pe.jsx("button",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-0 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:Z,children:"Cancel"})]})]})})};function nm(e,t){return function(){return e.apply(t,arguments)}}const{toString:_y}=Object.prototype,{getPrototypeOf:Ac}=Object,ql=(e=>t=>{const n=_y.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nr=e=>(e=e.toLowerCase(),t=>ql(t)===e),Yl=e=>t=>typeof t===e,{isArray:ua}=Array,ws=Yl("undefined");function my(e){return e!==null&&!ws(e)&&e.constructor!==null&&!ws(e.constructor)&&Pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rm=nr("ArrayBuffer");function py(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rm(e.buffer),t}const vy=Yl("string"),Pn=Yl("function"),im=Yl("number"),Gl=e=>e!==null&&typeof e=="object",yy=e=>e===!0||e===!1,Ro=e=>{if(ql(e)!=="object")return!1;const t=Ac(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wy=nr("Date"),Sy=nr("File"),gy=nr("Blob"),Ey=nr("FileList"),xy=e=>Gl(e)&&Pn(e.pipe),Ry=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Pn(e.append)&&((t=ql(e))==="formdata"||t==="object"&&Pn(e.toString)&&e.toString()==="[object FormData]"))},by=nr("URLSearchParams"),[Ay,Ty,ky,Cy]=["ReadableStream","Request","Response","Headers"].map(nr),My=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ts(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),ua(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],t.call(null,e[l],l,e)}}function am(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const sm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,om=e=>!ws(e)&&e!==sm;function s1(){const{caseless:e}=om(this)&&this||{},t={},n=(r,i)=>{const a=e&&am(t,i)||i;Ro(t[a])&&Ro(r)?t[a]=s1(t[a],r):Ro(r)?t[a]=s1({},r):ua(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ts(arguments[r],n);return t}const By=(e,t,n,{allOwnKeys:r}={})=>(Ts(t,(i,a)=>{n&&Pn(i)?e[a]=nm(i,n):e[a]=i},{allOwnKeys:r}),e),Ny=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Iy=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Oy=(e,t,n,r)=>{let i,a,s;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=n!==!1&&Ac(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ly=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Py=e=>{if(!e)return null;if(ua(e))return e;let t=e.length;if(!im(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Fy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ac(Uint8Array)),Dy=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},jy=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Hy=nr("HTMLFormElement"),Vy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Od=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$y=nr("RegExp"),lm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ts(n,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},Uy=e=>{lm(e,(t,n)=>{if(Pn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Pn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zy=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return ua(e)?r(e):r(String(e).split(t)),n},Xy=()=>{},qy=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,J0="abcdefghijklmnopqrstuvwxyz",Ld="0123456789",um={DIGIT:Ld,ALPHA:J0,ALPHA_DIGIT:J0+J0.toUpperCase()+Ld},Yy=(e=16,t=um.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Gy(e){return!!(e&&Pn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Wy=e=>{const t=new Array(10),n=(r,i)=>{if(Gl(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const a=ua(r)?[]:{};return Ts(r,(s,l)=>{const f=n(s,i+1);!ws(f)&&(a[l]=f)}),t[i]=void 0,a}}return r};return n(e,0)},Ky=nr("AsyncFunction"),Qy=e=>e&&(Gl(e)||Pn(e))&&Pn(e.then)&&Pn(e.catch),ce={isArray:ua,isArrayBuffer:rm,isBuffer:my,isFormData:Ry,isArrayBufferView:py,isString:vy,isNumber:im,isBoolean:yy,isObject:Gl,isPlainObject:Ro,isReadableStream:Ay,isRequest:Ty,isResponse:ky,isHeaders:Cy,isUndefined:ws,isDate:wy,isFile:Sy,isBlob:gy,isRegExp:$y,isFunction:Pn,isStream:xy,isURLSearchParams:by,isTypedArray:Fy,isFileList:Ey,forEach:Ts,merge:s1,extend:By,trim:My,stripBOM:Ny,inherits:Iy,toFlatObject:Oy,kindOf:ql,kindOfTest:nr,endsWith:Ly,toArray:Py,forEachEntry:Dy,matchAll:jy,isHTMLForm:Hy,hasOwnProperty:Od,hasOwnProp:Od,reduceDescriptors:lm,freezeMethods:Uy,toObjectSet:zy,toCamelCase:Vy,noop:Xy,toFiniteNumber:qy,findKey:am,global:sm,isContextDefined:om,ALPHABET:um,generateString:Yy,isSpecCompliantForm:Gy,toJSONObject:Wy,isAsyncFn:Ky,isThenable:Qy};function ze(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ce.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const cm=ze.prototype,fm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fm[e]={value:e}});Object.defineProperties(ze,fm);Object.defineProperty(cm,"isAxiosError",{value:!0});ze.from=(e,t,n,r,i,a)=>{const s=Object.create(cm);return ce.toFlatObject(e,s,function(f){return f!==Error.prototype},l=>l!=="isAxiosError"),ze.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const Zy=null;function o1(e){return ce.isPlainObject(e)||ce.isArray(e)}function dm(e){return ce.endsWith(e,"[]")?e.slice(0,-2):e}function Pd(e,t,n){return e?e.concat(t).map(function(i,a){return i=dm(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function Jy(e){return ce.isArray(e)&&!e.some(o1)}const e6=ce.toFlatObject(ce,{},null,function(t){return/^is[A-Z]/.test(t)});function Wl(e,t,n){if(!ce.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,Y){return!ce.isUndefined(Y[V])});const r=n.metaTokens,i=n.visitor||c,a=n.dots,s=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(t);if(!ce.isFunction(i))throw new TypeError("visitor must be a function");function A(C){if(C===null)return"";if(ce.isDate(C))return C.toISOString();if(!f&&ce.isBlob(C))throw new ze("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(C)||ce.isTypedArray(C)?f&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function c(C,V,Y){let v=C;if(C&&!Y&&typeof C=="object"){if(ce.endsWith(V,"{}"))V=r?V:V.slice(0,-2),C=JSON.stringify(C);else if(ce.isArray(C)&&Jy(C)||(ce.isFileList(C)||ce.endsWith(V,"[]"))&&(v=ce.toArray(C)))return V=dm(V),v.forEach(function(m,R){!(ce.isUndefined(m)||m===null)&&t.append(s===!0?Pd([V],R,a):s===null?V:V+"[]",A(m))}),!1}return o1(C)?!0:(t.append(Pd(Y,V,a),A(C)),!1)}const d=[],b=Object.assign(e6,{defaultVisitor:c,convertValue:A,isVisitable:o1});function z(C,V){if(!ce.isUndefined(C)){if(d.indexOf(C)!==-1)throw Error("Circular reference detected in "+V.join("."));d.push(C),ce.forEach(C,function(v,u){(!(ce.isUndefined(v)||v===null)&&i.call(t,v,ce.isString(u)?u.trim():u,V,b))===!0&&z(v,V?V.concat(u):[u])}),d.pop()}}if(!ce.isObject(e))throw new TypeError("data must be an object");return z(e),t}function Fd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Tc(e,t){this._pairs=[],e&&Wl(e,this,t)}const hm=Tc.prototype;hm.append=function(t,n){this._pairs.push([t,n])};hm.toString=function(t){const n=t?function(r){return t.call(this,r,Fd)}:Fd;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function t6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _m(e,t,n){if(!t)return e;const r=n&&n.encode||t6,i=n&&n.serialize;let a;if(i?a=i(t,n):a=ce.isURLSearchParams(t)?t.toString():new Tc(t,n).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class n6{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ce.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Dd=n6,mm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},r6=typeof URLSearchParams<"u"?URLSearchParams:Tc,i6=typeof FormData<"u"?FormData:null,a6=typeof Blob<"u"?Blob:null,s6={isBrowser:!0,classes:{URLSearchParams:r6,FormData:i6,Blob:a6},protocols:["http","https","file","blob","url","data"]},kc=typeof window<"u"&&typeof document<"u",o6=(e=>kc&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),l6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",u6=kc&&window.location.href||"http://localhost",c6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kc,hasStandardBrowserEnv:o6,hasStandardBrowserWebWorkerEnv:l6,origin:u6},Symbol.toStringTag,{value:"Module"})),Zn={...c6,...s6};function f6(e,t){return Wl(e,new Zn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return Zn.isNode&&ce.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function d6(e){return ce.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function h6(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function pm(e){function t(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),f=a>=n.length;return s=!s&&ce.isArray(i)?i.length:s,f?(ce.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!ce.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],a)&&ce.isArray(i[s])&&(i[s]=h6(i[s])),!l)}if(ce.isFormData(e)&&ce.isFunction(e.entries)){const n={};return ce.forEachEntry(e,(r,i)=>{t(d6(r),i,n,0)}),n}return null}function _6(e,t,n){if(ce.isString(e))try{return(t||JSON.parse)(e),ce.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Cc={transitional:mm,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=ce.isObject(t);if(a&&ce.isHTMLForm(t)&&(t=new FormData(t)),ce.isFormData(t))return i?JSON.stringify(pm(t)):t;if(ce.isArrayBuffer(t)||ce.isBuffer(t)||ce.isStream(t)||ce.isFile(t)||ce.isBlob(t)||ce.isReadableStream(t))return t;if(ce.isArrayBufferView(t))return t.buffer;if(ce.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return f6(t,this.formSerializer).toString();if((l=ce.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Wl(l?{"files[]":t}:t,f&&new f,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),_6(t)):t}],transformResponse:[function(t){const n=this.transitional||Cc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ce.isResponse(t)||ce.isReadableStream(t))return t;if(t&&ce.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?ze.from(l,ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zn.classes.FormData,Blob:Zn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],e=>{Cc.headers[e]={}});const Mc=Cc,m6=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p6=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&m6[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},jd=Symbol("internals");function Ra(e){return e&&String(e).trim().toLowerCase()}function bo(e){return e===!1||e==null?e:ce.isArray(e)?e.map(bo):String(e)}function v6(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const y6=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eu(e,t,n,r,i){if(ce.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!ce.isString(t)){if(ce.isString(r))return t.indexOf(r)!==-1;if(ce.isRegExp(r))return r.test(t)}}function w6(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function S6(e,t){const n=ce.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,s){return this[r].call(this,t,i,a,s)},configurable:!0})})}class Kl{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(l,f,A){const c=Ra(f);if(!c)throw new Error("header name must be a non-empty string");const d=ce.findKey(i,c);(!d||i[d]===void 0||A===!0||A===void 0&&i[d]!==!1)&&(i[d||f]=bo(l))}const s=(l,f)=>ce.forEach(l,(A,c)=>a(A,c,f));if(ce.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(ce.isString(t)&&(t=t.trim())&&!y6(t))s(p6(t),n);else if(ce.isHeaders(t))for(const[l,f]of t.entries())a(f,l,r);else t!=null&&a(n,t,r);return this}get(t,n){if(t=Ra(t),t){const r=ce.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return v6(i);if(ce.isFunction(n))return n.call(this,i,r);if(ce.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ra(t),t){const r=ce.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||eu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(s){if(s=Ra(s),s){const l=ce.findKey(r,s);l&&(!n||eu(r,r[l],l,n))&&(delete r[l],i=!0)}}return ce.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||eu(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return ce.forEach(this,(i,a)=>{const s=ce.findKey(r,a);if(s){n[s]=bo(i),delete n[a];return}const l=t?w6(a):String(a).trim();l!==a&&delete n[a],n[l]=bo(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ce.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&ce.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[jd]=this[jd]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=Ra(s);r[l]||(S6(i,s),r[l]=!0)}return ce.isArray(t)?t.forEach(a):a(t),this}}Kl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Kl.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ce.freezeMethods(Kl);const Jn=Kl;function tu(e,t){const n=this||Mc,r=t||n,i=Jn.from(r.headers);let a=r.data;return ce.forEach(e,function(l){a=l.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function vm(e){return!!(e&&e.__CANCEL__)}function ca(e,t,n){ze.call(this,e??"canceled",ze.ERR_CANCELED,t,n),this.name="CanceledError"}ce.inherits(ca,ze,{__CANCEL__:!0});function ym(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ze("Request failed with status code "+n.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function g6(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function E6(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,s;return t=t!==void 0?t:1e3,function(f){const A=Date.now(),c=r[a];s||(s=A),n[i]=f,r[i]=A;let d=a,b=0;for(;d!==i;)b+=n[d++],d=d%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),A-s<t)return;const z=c&&A-c;return z?Math.round(b*1e3/z):void 0}}function x6(e,t){let n=0;const r=1e3/t;let i=null;return function(){const s=this===!0,l=Date.now();if(s||l-n>r)return i&&(clearTimeout(i),i=null),n=l,e.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),e.apply(null,arguments)),r-(l-n)))}}const gl=(e,t,n=3)=>{let r=0;const i=E6(50,250);return x6(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,f=s-r,A=i(f),c=s<=l;r=s;const d={loaded:s,total:l,progress:l?s/l:void 0,bytes:f,rate:A||void 0,estimated:A&&l&&c?(l-s)/A:void 0,event:a,lengthComputable:l!=null};d[t?"download":"upload"]=!0,e(d)},n)},R6=Zn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(a){let s=a;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const l=ce.isString(s)?i(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),b6=Zn.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];ce.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ce.isString(r)&&s.push("path="+r),ce.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function A6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function T6(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wm(e,t){return e&&!A6(t)?T6(e,t):t}const Hd=e=>e instanceof Jn?{...e}:e;function wi(e,t){t=t||{};const n={};function r(A,c,d){return ce.isPlainObject(A)&&ce.isPlainObject(c)?ce.merge.call({caseless:d},A,c):ce.isPlainObject(c)?ce.merge({},c):ce.isArray(c)?c.slice():c}function i(A,c,d){if(ce.isUndefined(c)){if(!ce.isUndefined(A))return r(void 0,A,d)}else return r(A,c,d)}function a(A,c){if(!ce.isUndefined(c))return r(void 0,c)}function s(A,c){if(ce.isUndefined(c)){if(!ce.isUndefined(A))return r(void 0,A)}else return r(void 0,c)}function l(A,c,d){if(d in t)return r(A,c);if(d in e)return r(void 0,A)}const f={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(A,c)=>i(Hd(A),Hd(c),!0)};return ce.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=f[c]||i,b=d(e[c],t[c],c);ce.isUndefined(b)&&d!==l||(n[c]=b)}),n}const Sm=e=>{const t=wi({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;t.headers=s=Jn.from(s),t.url=_m(wm(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let f;if(ce.isFormData(n)){if(Zn.hasStandardBrowserEnv||Zn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((f=s.getContentType())!==!1){const[A,...c]=f?f.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([A||"multipart/form-data",...c].join("; "))}}if(Zn.hasStandardBrowserEnv&&(r&&ce.isFunction(r)&&(r=r(t)),r||r!==!1&&R6(t.url))){const A=i&&a&&b6.read(a);A&&s.set(i,A)}return t},k6=typeof XMLHttpRequest<"u",C6=k6&&function(e){return new Promise(function(n,r){const i=Sm(e);let a=i.data;const s=Jn.from(i.headers).normalize();let{responseType:l}=i,f;function A(){i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let c=new XMLHttpRequest;c.open(i.method.toUpperCase(),i.url,!0),c.timeout=i.timeout;function d(){if(!c)return;const z=Jn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),V={data:!l||l==="text"||l==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:z,config:e,request:c};ym(function(v){n(v),A()},function(v){r(v),A()},V),c=null}"onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new ze("Request aborted",ze.ECONNABORTED,i,c)),c=null)},c.onerror=function(){r(new ze("Network Error",ze.ERR_NETWORK,i,c)),c=null},c.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const V=i.transitional||mm;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new ze(C,V.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,i,c)),c=null},a===void 0&&s.setContentType(null),"setRequestHeader"in c&&ce.forEach(s.toJSON(),function(C,V){c.setRequestHeader(V,C)}),ce.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),l&&l!=="json"&&(c.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&c.addEventListener("progress",gl(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",gl(i.onUploadProgress)),(i.cancelToken||i.signal)&&(f=z=>{c&&(r(!z||z.type?new ca(null,e,c):z),c.abort(),c=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const b=g6(i.url);if(b&&Zn.protocols.indexOf(b)===-1){r(new ze("Unsupported protocol "+b+":",ze.ERR_BAD_REQUEST,e));return}c.send(a||null)})},M6=(e,t)=>{let n=new AbortController,r;const i=function(f){if(!r){r=!0,s();const A=f instanceof Error?f:this.reason;n.abort(A instanceof ze?A:new ca(A instanceof Error?A.message:A))}};let a=t&&setTimeout(()=>{i(new ze(`timeout ${t} of ms exceeded`,ze.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(f=>{f&&(f.removeEventListener?f.removeEventListener("abort",i):f.unsubscribe(i))}),e=null)};e.forEach(f=>f&&f.addEventListener&&f.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=s,[l,()=>{a&&clearTimeout(a),a=null}]},B6=M6,N6=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},I6=async function*(e,t,n){for await(const r of e)yield*N6(ArrayBuffer.isView(r)?r:await n(String(r)),t)},Vd=(e,t,n,r,i)=>{const a=I6(e,t,i);let s=0;return new ReadableStream({type:"bytes",async pull(l){const{done:f,value:A}=await a.next();if(f){l.close(),r();return}let c=A.byteLength;n&&n(s+=c),l.enqueue(new Uint8Array(A))},cancel(l){return r(l),a.return()}},{highWaterMark:2})},$d=(e,t)=>{const n=e!=null;return r=>setTimeout(()=>t({lengthComputable:n,total:e,loaded:r}))},Ql=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gm=Ql&&typeof ReadableStream=="function",l1=Ql&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),O6=gm&&(()=>{let e=!1;const t=new Request(Zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Ud=64*1024,u1=gm&&!!(()=>{try{return ce.isReadableStream(new Response("").body)}catch{}})(),El={stream:u1&&(e=>e.body)};Ql&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!El[t]&&(El[t]=ce.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ze(`Response type '${t}' is not supported`,ze.ERR_NOT_SUPPORT,r)})})})(new Response);const L6=async e=>{if(e==null)return 0;if(ce.isBlob(e))return e.size;if(ce.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(ce.isArrayBufferView(e))return e.byteLength;if(ce.isURLSearchParams(e)&&(e=e+""),ce.isString(e))return(await l1(e)).byteLength},P6=async(e,t)=>{const n=ce.toFiniteNumber(e.getContentLength());return n??L6(t)},F6=Ql&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:f,responseType:A,headers:c,withCredentials:d="same-origin",fetchOptions:b}=Sm(e);A=A?(A+"").toLowerCase():"text";let[z,C]=i||a||s?B6([i,a],s):[],V,Y;const v=()=>{!V&&setTimeout(()=>{z&&z.unsubscribe()}),V=!0};let u;try{if(f&&O6&&n!=="get"&&n!=="head"&&(u=await P6(c,r))!==0){let S=new Request(t,{method:"POST",body:r,duplex:"half"}),k;ce.isFormData(r)&&(k=S.headers.get("content-type"))&&c.setContentType(k),S.body&&(r=Vd(S.body,Ud,$d(u,gl(f)),null,l1))}ce.isString(d)||(d=d?"cors":"omit"),Y=new Request(t,{...b,signal:z,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let m=await fetch(Y);const R=u1&&(A==="stream"||A==="response");if(u1&&(l||R)){const S={};["status","statusText","headers"].forEach(j=>{S[j]=m[j]});const k=ce.toFiniteNumber(m.headers.get("content-length"));m=new Response(Vd(m.body,Ud,l&&$d(k,gl(l,!0)),R&&v,l1),S)}A=A||"text";let o=await El[ce.findKey(El,A)||"text"](m,e);return!R&&v(),C&&C(),await new Promise((S,k)=>{ym(S,k,{data:o,headers:Jn.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:Y})})}catch(m){throw v(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,e,Y),{cause:m.cause||m}):ze.from(m,m&&m.code,e,Y)}}),c1={http:Zy,xhr:C6,fetch:F6};ce.forEach(c1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zd=e=>`- ${e}`,D6=e=>ce.isFunction(e)||e===null||e===!1,Em={getAdapter:e=>{e=ce.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){n=e[a];let s;if(r=n,!D6(n)&&(r=c1[(s=String(n)).toLowerCase()],r===void 0))throw new ze(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,f])=>`adapter ${l} `+(f===!1?"is not supported by the environment":"is not available in the build"));let s=t?a.length>1?`since :
`+a.map(zd).join(`
`):" "+zd(a[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:c1};function nu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ca(null,e)}function Xd(e){return nu(e),e.headers=Jn.from(e.headers),e.data=tu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Em.getAdapter(e.adapter||Mc.adapter)(e).then(function(r){return nu(e),r.data=tu.call(e,e.transformResponse,r),r.headers=Jn.from(r.headers),r},function(r){return vm(r)||(nu(e),r&&r.response&&(r.response.data=tu.call(e,e.transformResponse,r.response),r.response.headers=Jn.from(r.response.headers))),Promise.reject(r)})}const xm="1.7.2",Bc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const qd={};Bc.transitional=function(t,n,r){function i(a,s){return"[Axios v"+xm+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(t===!1)throw new ze(i(s," has been removed"+(n?" in "+n:"")),ze.ERR_DEPRECATED);return n&&!qd[s]&&(qd[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,s,l):!0}};function j6(e,t,n){if(typeof e!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const l=e[a],f=l===void 0||s(l,a,e);if(f!==!0)throw new ze("option "+a+" must be "+f,ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ze("Unknown option "+a,ze.ERR_BAD_OPTION)}}const f1={assertOptions:j6,validators:Bc},Mr=f1.validators;class xl{constructor(t){this.defaults=t,this.interceptors={request:new Dd,response:new Dd}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=wi(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&f1.assertOptions(r,{silentJSONParsing:Mr.transitional(Mr.boolean),forcedJSONParsing:Mr.transitional(Mr.boolean),clarifyTimeoutError:Mr.transitional(Mr.boolean)},!1),i!=null&&(ce.isFunction(i)?n.paramsSerializer={serialize:i}:f1.assertOptions(i,{encode:Mr.function,serialize:Mr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&ce.merge(a.common,a[n.method]);a&&ce.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),n.headers=Jn.concat(s,a);const l=[];let f=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(n)===!1||(f=f&&V.synchronous,l.unshift(V.fulfilled,V.rejected))});const A=[];this.interceptors.response.forEach(function(V){A.push(V.fulfilled,V.rejected)});let c,d=0,b;if(!f){const C=[Xd.bind(this),void 0];for(C.unshift.apply(C,l),C.push.apply(C,A),b=C.length,c=Promise.resolve(n);d<b;)c=c.then(C[d++],C[d++]);return c}b=l.length;let z=n;for(d=0;d<b;){const C=l[d++],V=l[d++];try{z=C(z)}catch(Y){V.call(this,Y);break}}try{c=Xd.call(this,z)}catch(C){return Promise.reject(C)}for(d=0,b=A.length;d<b;)c=c.then(A[d++],A[d++]);return c}getUri(t){t=wi(this.defaults,t);const n=wm(t.baseURL,t.url);return _m(n,t.params,t.paramsSerializer)}}ce.forEach(["delete","get","head","options"],function(t){xl.prototype[t]=function(n,r){return this.request(wi(r||{},{method:t,url:n,data:(r||{}).data}))}});ce.forEach(["post","put","patch"],function(t){function n(r){return function(a,s,l){return this.request(wi(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}xl.prototype[t]=n(),xl.prototype[t+"Form"]=n(!0)});const Ao=xl;class Nc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},t(function(a,s,l){r.reason||(r.reason=new ca(a,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Nc(function(i){t=i}),cancel:t}}}const H6=Nc;function V6(e){return function(n){return e.apply(null,n)}}function $6(e){return ce.isObject(e)&&e.isAxiosError===!0}const d1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(d1).forEach(([e,t])=>{d1[t]=e});const U6=d1;function Rm(e){const t=new Ao(e),n=nm(Ao.prototype.request,t);return ce.extend(n,Ao.prototype,t,{allOwnKeys:!0}),ce.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Rm(wi(e,i))},n}const Rt=Rm(Mc);Rt.Axios=Ao;Rt.CanceledError=ca;Rt.CancelToken=H6;Rt.isCancel=vm;Rt.VERSION=xm;Rt.toFormData=Wl;Rt.AxiosError=ze;Rt.Cancel=Rt.CanceledError;Rt.all=function(t){return Promise.all(t)};Rt.spread=V6;Rt.isAxiosError=$6;Rt.mergeConfig=wi;Rt.AxiosHeaders=Jn;Rt.formToJSON=e=>pm(ce.isHTMLForm(e)?new FormData(e):e);Rt.getAdapter=Em.getAdapter;Rt.HttpStatusCode=U6;Rt.default=Rt;const bm=Rt,z6="https://a-conect-auth.netlify.app/.netlify/functions",X6={getOAKey:async e=>{const t=await bm.get(`${z6}/oakey`,{headers:{Authorization:`Bearer ${e}`}});return console.log(`Received my API message: ${t.data.message}`),t.data.api_key}};var ro={BASE_URL:"https://a-conect.github.io",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ci="aconect.open_ai_key",ba="aconect.eleven_key",Aa="aconect.bot_style_key",Ta="aconect.ai_model_key",ka="aconect.voice_char_key",Ca="aconect.chat_dur_key",Ma="aconect.user_pace_key",io="aconect.memory_key";function q6(){const[e,t]=je.useState(!1),[n,r]=je.useState(!1),[i,a]=je.useState(!1),[s,l]=je.useState(!1),[f,A]=je.useState([]),[c,d]=je.useState(""),[b,z]=je.useState(""),[C,V]=je.useState(!1),[Y,v]=je.useState(),u=1e3,[m,R]=je.useState(!1),[o,S]=je.useState(!1),[k,j]=je.useState(Xn.START),[$,H]=je.useState(),[Z,re]=je.useState(),[N,y]=je.useState(),P="png",D=je.useRef(null),[W,L]=je.useState(!ro.VITE_OPENAI_API_KEY),[x,w]=je.useState(),[E,_]=je.useState(),[p,h]=je.useState(),[T,G]=je.useState(),[te,q]=je.useState(),[U,ee]=je.useState(),[ae,me]=je.useState(),[Me,xe]=je.useState(!0),[ge,Be]=je.useState(!0),{listening:Xe,recording:dt,speaking:g,transcribing:M,transcript:we,startRecording:Re,stopRecording:De}=C5({api:x,nonStop:!0,stopTimeout:1e3,maxSlienceTimeout:Y,autoTranscribe:!0,removeSilence:!1,whisperConfig:{language:"en",model:"gpt-4o"}});function Pe(O){console.log("setting OpenAI...");const X=ro.VITE_OPENAI_API_KEY?ro.VITE_OPENAI_API_KEY:O;if(!X){const F=!!ro.VITE_OPENAI_API_KEY;throw new Error("Missing OpenAI API key. has_env_OpenAI_API="+F+" user API: "+O+" Please provide OPENAI_API_KEY as an env variable.")}const Q=new ry({apiKey:X,dangerouslyAllowBrowser:!0});return w(Q),Q}const ke=()=>{L(!0)},Te=()=>{},Ve=async(O,X,Q,F,K,ne,J)=>{if(O!=null)try{console.log(`token: ${O}`);var se=O;O.startsWith("sk-")||(se=await X6.getOAKey(O)),await Pe(se),Bt.set(Ci,O,{expires:3}),console.log("save cookie: "+Ci)}catch(ie){ie instanceof bm?alert(`Fail to access OpenAI Key. ERROR: ${ie}`):alert(`ERROR when accessing openai key: ${ie}`)}else throw new Error("Try to set OpenAI with undefined API");if(X!=null)console.log("set ElevenLabs token: "+X),_(X),Bt.set(ba,X,{expires:3}),console.log("save cookie: "+ba);else throw new Error("Try to set ElevenLabs with undefined API");Q!=null&&(console.log("set bot style: "+Q),Bt.set(Aa,Q),console.log("save cookie: "+Aa),h(Q)),F!=null&&(console.log("set ai_model: "+F),Bt.set(Ta,F),console.log("save cookie: "+Ta),G(F)),K!=null&&(console.log("set voice_char: "+K),Bt.set(ka,K),console.log("save cookie: "+ka),q(K)),ne!=null&&(console.log("set duration: "+ne.toString()),Bt.set(Ca,ne.toString()),console.log("save cookie: "+Ca),ee(ne)),J!=null&&(console.log("set user_pace: "+J.toString()),Bt.set(Ma,J.toString()),console.log("save cookie: "+Ma),v(J)),L(!1)};(()=>{if(!s){if(x==null){const O=Bt.get(Ci);console.log("read cookie: "+Ci+", "+O),O!=null&&O!=""?(Pe(O),L(!1)):console.log(Ci+" Cookie value is invaild, skip: "+O)}if(E==null){const O=Bt.get(ba);console.log("read cookie: "+ba+", "+O),O!=null&&O!=""?_(O):console.log(ba+" Cookie value is invaild, skip: "+O)}if(p==null){const O=Bt.get(Aa);console.log("read cookie: "+Aa+", "+O),O!=null&&O!=""?h(bc(O)):console.log(Aa+" Cookie value is invaild, skip: "+O)}if(T==null){const O=Bt.get(Ta);console.log("read cookie: "+Ta+", "+O),O!=null&&O!=""?G(em(O)):console.log(Ta+" Cookie value is invaild, skip: "+O)}if(te==null){const O=Bt.get(ka);console.log("read cookie: "+ka+", "+O),O!=null&&O!=""?q(tm(O)):console.log(ka+" Cookie value is invaild, skip: "+O)}if(U==null){const O=Bt.get(Ca);console.log("read cookie: "+Ca+", "+O),O!=null&&O!=""?ee(parseInt(O)):console.log(Ca+" Cookie value is invaild, skip: "+O)}if(Y==null){const O=Bt.get(Ma);console.log("read cookie: "+Ma+", "+O),O!=null&&O!=""?v(parseInt(O)):console.log(Ma+" Cookie value is invaild, skip: "+O)}if(ae==null){const O=Bt.get(io);console.log("read cookie: "+io+", "+O),O!=null&&O!=""?me(O):console.log(io+" Cookie value is invaild, skip: "+O)}l(!0)}})();const Se=(O,X)=>Math.floor(Math.random()*(X-O+1))+O,We=()=>{if(i)console.log("Stop chatting...."),D.current&&(D.current.classList.remove("listening"),D.current.classList.remove("vizthinking"),D.current.classList.remove("vizspeaking")),De(!1),R(!1),S(!1),a(!1),d(""),V(!1);else{if(console.log("Start chatting...."),!x){alert("Not found API. Please refresh and set API in settings.");return}e||(H(String(Se(0,10)).padStart(3,"0")),t(!0)),D.current&&D.current.classList.add("listening"),Re(),a(!0)}};je.useEffect(()=>{if(!i)return()=>{};if(console.log(">> isSpeaking: "+m+" listening "+Xe+" ["+g+", "+dt+", "+M+"]  "+we.text+" cache timeout: "+C),m&&Xe&&console.error("is listening while speaking..."),!m&&!dt||dt&&c.length>0&&we.text==null&&C)if(we.text!=null)c.length>0?(d(c+" "+we.text),z(c+" "+we.text)):(d(we.text),z(we.text)),console.log("Cached transcript ("+we.text.length+"). Continue to listen.."),we.text=void 0,dt||Re(),V(!1),setTimeout(()=>{console.log("cache time out..."),V(!0)},u);else if(!M&&!dt)if(c.length>0)if(C){console.log("Cache time out and got cache.."),D.current&&(D.current.classList.remove("vizspeaking"),D.current.classList.remove("listening"),D.current.classList.add("vizthinking"));const O=Z0(x,[...f,{role:"user",content:c}],String($),Z,k,p,T,ae,`${te}`);A(X=>[...X,{role:"user",content:c}]),O.then(X=>{A(X.conversation),j(X.phase);const Q=X.conversation.filter(ie=>ie.role!=="system"),F=Q[Q.length-1].content;console.log(">> ChatGPT response:"+F);const{tool_cmds:K,processedText:ne}=ay(F);if(oy(K))console.log("[CMD] Selecting theme."),j(Xn.TOPIC_SELECTION);else{const ie=sy(K);ie&&(console.log("[CMD] Select topic: "+ie),re(ie),j(Xn.TOPIC_SELECTED),Z0(x,[{role:"user",content:[{type:"text",text:"Describe the image in details."},{type:"image_url",image_url:{url:`https://a-conect.github.io/imgs/${$}/${ie}.jpg`}}]}],String($),Z,k,p,T,ae,`${te}`).then(ye=>{const Le=ye.conversation.filter(Ie=>Ie.role!=="system"),fe=Le[Le.length-1].content;console.log(">> image details: "+fe),A(Ie=>[...Ie,{role:"system",content:`Check the description of the presented image below. Guide the user to explore as many details as possible. You will get reward if the user tell more details aligning with the description. You should frequently ask some questions based on the details (e.g., the scenario, the man) in the pictures.

${fe}`}])}))}const se=ly(K);r(se),x?(console.log(">> speak openai:"+ne),Ye(x,ne)):(yt(ne),console.log(">> speak local:"+ne))}),d(""),R(!0),S(!1),V(!1),I(!1)}else console.log("Cache is not enough. Continue to listen.."),Xe||Re();else console.log("No transcript. Continue to listen.."),Re();else dt||Re();return n&&(console.log("Conversation ended. Reload window."),r(!1),I(!0)),k==Xn.TOPIC_SELECTION&&N==null&&(y(new Date().getTime()),console.log("set timeout "+(U==null?void 0:U.toString())+" mins..."),setTimeout(()=>{console.log("Reach time limit. Prepare to end the conversation"),j(Xn.TIMEOUT_REMINDER)},(U||10)*60*1e3)),()=>{}},[dt,M,C,m]);const yt=je.useCallback(O=>{window.speechSynthesis.cancel();const X=new window.SpeechSynthesisUtterance(O),Q=F=>console.debug(F.type);X.onstart=Q,X.onend=Q,X.onerror=F=>console.error(F),S(!0),D.current&&(D.current.classList.remove("listening"),D.current.classList.remove("vizthinking"),D.current.classList.add("vizspeaking")),window.speechSynthesis.speak(X),X.addEventListener("end",()=>{R(!1),S(!1),console.log("speak ends.."),z(""),D.current&&(D.current.classList.remove("vizspeaking"),D.current.classList.remove("vizthinking"),D.current.classList.add("listening"))}),R(window.speechSynthesis.speaking),console.log("speak pending: "+window.speechSynthesis.pending),console.log("window.speechSynthesis speaking: "+window.speechSynthesis.speaking)},[]),Ye=async(O,X)=>{var Q="nova";switch(te){case Wn.Nova:{Q="nova";break}case Wn.Alloy:{Q="alloy";break}case Wn.Echo:{Q="echo";break}case Wn.Fable:{Q="fable";break}case Wn.Onyx:{Q="onyx";break}case Wn.Shimmer:{Q="shimmer";break}default:{console.log(`ERROR: no eleven charactor is found for ${te}`);break}}const K=await(await O.audio.speech.create({model:"tts-1",voice:Q,input:X,speed:1})).arrayBuffer(),ne=new Blob([K],{type:"audio/mp3"}),J=URL.createObjectURL(ne),se=new Audio(J);S(!0),D.current&&(D.current.classList.remove("listening"),D.current.classList.remove("vizthinking"),D.current.classList.add("vizspeaking")),se.play().catch(ie=>{alert(`Got error: ${ie}. 
Please enable auto-play in your browser settings for non-stop conversation.`),window.location.reload()}),se.addEventListener("ended",()=>{R(!1),S(!1),console.log("speak ends.."),z(""),D.current&&(D.current.classList.remove("vizspeaking"),D.current.classList.remove("vizthinking"),D.current.classList.add("listening"))})},B=()=>{const O=f.filter(ne=>ne.role!=="system"),X=JSON.stringify(O,null,2),Q=new Blob([X],{type:"application/json"}),F=URL.createObjectURL(Q),K=document.createElement("a");K.href=F,K.download="messages.json",document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(F)},I=O=>{Z0(x,[...f,{role:"system",content:"Recall the user's name (if provided). Summarize the conversation including the name into one paragraph. Keep it concise and start the summary as 'the user's name is <NAME>'."}],String($),Z,k,p,T,ae,`${te}`).then(Q=>{const F=Q.conversation.filter(ne=>ne.role!=="system"),K=F[F.length-1].content;console.log(">> save mem summary: "+K),Bt.set(io,K),O&&window.location.reload()})};return je.useEffect(()=>{Me&&(Be(!0),setTimeout(()=>Be(!1),5e3),xe(!1))},[Me]),pe.jsxs("div",{className:"microphone-wrapper",children:[pe.jsxs("nav",{className:"flex items-center justify-between flex-wrap bg-transparent p-6",children:[pe.jsx("div",{className:"flex items-center flex-shrink-0 text-white mr-6",children:pe.jsx("span",{className:"font-semibold text-2xl tracking-tight",children:"A-CONECT"})}),pe.jsx("div",{className:"block lg:hidden",children:pe.jsx("button",{className:"flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white",children:pe.jsxs("svg",{className:"fill-current h-3 w-3",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[pe.jsx("title",{children:"Menu"}),pe.jsx("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),pe.jsxs("div",{className:"w-full block flex-grow lg:flex lg:items-center lg:w-auto",children:[pe.jsxs("div",{className:"text-lg lg:flex-grow",children:[pe.jsx("a",{onClick:ke,href:"#",className:"block mt-4 lg:inline-block lg:mt-0 text-white hover:bg-white hover:bg-opacity-30 hover:text-white px-2 py-1 rounded mr-4",children:"Settings"}),pe.jsx("a",{onClick:B,href:"#",className:"block mt-4 lg:inline-block lg:mt-0 text-white hover:bg-white hover:bg-opacity-30 hover:text-white px-2 py-1 rounded mr-4",children:"Download Messages"}),pe.jsx("a",{href:"project",className:"block mt-4 lg:inline-block lg:mt-0 text-white hover:bg-white hover:bg-opacity-30 hover:text-white px-2 py-1 rounded mr-4",children:"Research"}),pe.jsx("a",{href:"https://github.com/A-CONECT/A-CONECT.github.io/wiki/Wiki-Page-for-A%E2%80%90CONECT-Chatbot",className:"block mt-4 lg:inline-block lg:mt-0 text-white hover:bg-white hover:bg-opacity-30 hover:text-white px-2 py-1 rounded mr-4",children:"Troubleshooting"})]}),pe.jsx("div",{children:pe.jsx("a",{href:"https://www.surveymonkey.com/r/VNKG3NS",className:"inline-block text-lg px-4 py-2 leading-none border rounded text-white border-white hover:border-transparent hover:text-teal-500 hover:bg-white mt-4 lg:mt-0",children:"Feedback"})})]})]}),pe.jsxs("div",{className:"container",children:[ge&&pe.jsx("div",{className:"welcome-message",children:"Welcome! Press the avatar to start a conversation."}),pe.jsxs("div",{className:"mircophone-container",children:[pe.jsx("div",{className:"microphone-icon-container",ref:D,onClick:We,children:pe.jsx("img",{src:"avatar.png",className:"microphone-icon"})}),pe.jsxs("div",{className:"microphone-status",children:[pe.jsx("p",{className:"receive",children:Xe?"Listening....":o?"Speaking...":m?"Thinking...":"Click to chat"}),pe.jsxs("p",{className:"send",children:[".. ",b?b.substring(b.length-128,b.length):""]})]})]})]}),pe.jsx("div",{children:W&&pe.jsx(hy,{setPopUp:ke,allowClose:!!x,onClose:Te,onSubmit:Ve,initOpenaiToken:x?Bt.get(Ci):void 0,initElevenToken:E,initBoStyle:p,initModel:T,initVoice:te,initDuration:U,initUserPace:Y})}),pe.jsxs("div",{className:"microphone-result-container",children:[k==Xn.TOPIC_SELECTION&&$!=null&&pe.jsxs("div",{className:"row",children:[pe.jsxs("figure",{className:"figure-container",children:[pe.jsx("img",{src:`imgs/${$}/0.${P}`}),pe.jsx("figcaption",{children:ja[$].topics[0]})]}),pe.jsxs("figure",{className:"figure-container",children:[pe.jsx("img",{src:`imgs/${$}/1.${P}`}),pe.jsx("figcaption",{children:ja[$].topics[1]})]}),pe.jsxs("figure",{className:"figure-container",children:[pe.jsx("img",{src:`imgs/${$}/2.${P}`}),pe.jsx("figcaption",{children:ja[$].topics[2]})]})]}),pe.jsxs("figure",{className:"figure-container-lg",style:{display:"visible"},children:[(k==Xn.TOPIC_SELECTED||k==Xn.DISCUSSION)&&$!=null&&Z!=null&&pe.jsx("img",{src:`imgs/${$}/${Z}.${P}`}),(k==Xn.TOPIC_SELECTED||k==Xn.DISCUSSION)&&$!=null&&Z!=null&&pe.jsx("figcaption",{children:ja[$].topics[Z-1]})]})]})]})}ru.createRoot(document.getElementById("root")).render(pe.jsx(zm.StrictMode,{children:pe.jsx(q6,{})}));export{Y6 as c,Tm as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}